function Im(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function Os(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ru={exports:{}},Ms={},Tu={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),Am=Symbol.for("react.portal"),Dm=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),Um=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Vm=Symbol.for("react.memo"),Hm=Symbol.for("react.lazy"),qo=Symbol.iterator;function qm(e){return e===null||typeof e!="object"?null:(e=qo&&e[qo]||e["@@iterator"],typeof e=="function"?e:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ou=Object.assign,Mu={};function fr(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Lu}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Iu(){}Iu.prototype=fr.prototype;function zi(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Lu}var Ui=zi.prototype=new Iu;Ui.constructor=zi;Ou(Ui,fr.prototype);Ui.isPureReactComponent=!0;var Go=Array.isArray,Au=Object.prototype.hasOwnProperty,Bi={current:null},Du={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Au.call(t,r)&&!Du.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:vl,type:e,key:a,ref:i,props:l,_owner:Bi.current}}function Gm(e,t){return{$$typeof:vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wi(e){return typeof e=="object"&&e!==null&&e.$$typeof===vl}function Km(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ko=/\/+/g;function na(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Km(""+e.key):t.toString(36)}function ql(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case vl:case Am:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+na(i,0):r,Go(l)?(n="",e!=null&&(n=e.replace(Ko,"$&/")+"/"),ql(l,t,n,"",function(u){return u})):l!=null&&(Wi(l)&&(l=Gm(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Ko,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Go(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+na(a,o);i+=ql(a,t,n,c,l)}else if(c=qm(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+na(a,o++),i+=ql(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Nl(e,t,n){if(e==null)return e;var r=[],l=0;return ql(e,r,"","",function(a){return t.call(n,a,l++)}),r}function Qm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},Gl={transition:null},Ym={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:Gl,ReactCurrentOwner:Bi};function $u(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Nl,forEach:function(e,t,n){Nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nl(e,function(){t++}),t},toArray:function(e){return Nl(e,function(t){return t})||[]},only:function(e){if(!Wi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=fr;G.Fragment=Dm;G.Profiler=$m;G.PureComponent=zi;G.StrictMode=Fm;G.Suspense=Wm;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ym;G.act=$u;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ou({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Bi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Au.call(t,c)&&!Du.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:vl,type:e.type,key:l,ref:a,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:Um,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zm,_context:e},e.Consumer=e};G.createElement=Fu;G.createFactory=function(e){var t=Fu.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Bm,render:e}};G.isValidElement=Wi;G.lazy=function(e){return{$$typeof:Hm,_payload:{_status:-1,_result:e},_init:Qm}};G.memo=function(e,t){return{$$typeof:Vm,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Gl.transition;Gl.transition={};try{e()}finally{Gl.transition=t}};G.unstable_act=$u;G.useCallback=function(e,t){return Le.current.useCallback(e,t)};G.useContext=function(e){return Le.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};G.useEffect=function(e,t){return Le.current.useEffect(e,t)};G.useId=function(){return Le.current.useId()};G.useImperativeHandle=function(e,t,n){return Le.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Le.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Le.current.useReducer(e,t,n)};G.useRef=function(e){return Le.current.useRef(e)};G.useState=function(e){return Le.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Le.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Le.current.useTransition()};G.version="18.3.1";Tu.exports=G;var d=Tu.exports;const Ae=Os(d),Xm=Im({__proto__:null,default:Ae},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=d,Zm=Symbol.for("react.element"),ep=Symbol.for("react.fragment"),tp=Object.prototype.hasOwnProperty,np=Jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rp={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var r,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)tp.call(t,r)&&!rp.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Zm,type:e,key:a,ref:i,props:l,_owner:np.current}}Ms.Fragment=ep;Ms.jsx=zu;Ms.jsxs=zu;Ru.exports=Ms;var s=Ru.exports,Uu={exports:{}},qe={},Bu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,I){var U=_.length;_.push(I);e:for(;0<U;){var M=U-1>>>1,F=_[M];if(0<l(F,I))_[M]=I,_[U]=F,U=M;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var I=_[0],U=_.pop();if(U!==I){_[0]=U;e:for(var M=0,F=_.length,K=F>>>1;M<K;){var X=2*(M+1)-1,fe=_[X],Pe=X+1,Me=_[Pe];if(0>l(fe,U))Pe<F&&0>l(Me,fe)?(_[M]=Me,_[Pe]=U,M=Pe):(_[M]=fe,_[X]=U,M=X);else if(Pe<F&&0>l(Me,U))_[M]=Me,_[Pe]=U,M=Pe;else break e}}return I}function l(_,I){var U=_.sortIndex-I.sortIndex;return U!==0?U:_.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,p=null,m=3,b=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(_){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=_)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function N(_){if(x=!1,v(_),!y)if(n(c)!==null)y=!0,L(k);else{var I=n(u);I!==null&&W(N,I.startTime-_)}}function k(_,I){y=!1,x&&(x=!1,g(E),E=-1),b=!0;var U=m;try{for(v(I),p=n(c);p!==null&&(!(p.expirationTime>I)||_&&!H());){var M=p.callback;if(typeof M=="function"){p.callback=null,m=p.priorityLevel;var F=M(p.expirationTime<=I);I=e.unstable_now(),typeof F=="function"?p.callback=F:p===n(c)&&r(c),v(I)}else r(c);p=n(c)}if(p!==null)var K=!0;else{var X=n(u);X!==null&&W(N,X.startTime-I),K=!1}return K}finally{p=null,m=U,b=!1}}var S=!1,j=null,E=-1,O=5,T=-1;function H(){return!(e.unstable_now()-T<O)}function ne(){if(j!==null){var _=e.unstable_now();T=_;var I=!0;try{I=j(!0,_)}finally{I?$():(S=!1,j=null)}}else S=!1}var $;if(typeof f=="function")$=function(){f(ne)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,D=Q.port2;Q.port1.onmessage=ne,$=function(){D.postMessage(null)}}else $=function(){w(ne,0)};function L(_){j=_,S||(S=!0,$())}function W(_,I){E=w(function(){_(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,L(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return _()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,I){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var U=m;m=_;try{return I()}finally{m=U}},e.unstable_scheduleCallback=function(_,I,U){var M=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?M+U:M):U=M,_){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,_={id:h++,callback:I,priorityLevel:_,startTime:U,expirationTime:F,sortIndex:-1},U>M?(_.sortIndex=U,t(u,_),n(c)===null&&_===n(u)&&(x?(g(E),E=-1):x=!0,W(N,U-M))):(_.sortIndex=F,t(c,_),y||b||(y=!0,L(k))),_},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(_){var I=m;return function(){var U=m;m=I;try{return _.apply(this,arguments)}finally{m=U}}}})(Wu);Bu.exports=Wu;var lp=Bu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=d,He=lp;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vu=new Set,Xr={};function Tn(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(Xr[e]=t,e=0;e<t.length;e++)Vu.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=Object.prototype.hasOwnProperty,ap=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qo={},Yo={};function ip(e){return Fa.call(Yo,e)?!0:Fa.call(Qo,e)?!1:ap.test(e)?Yo[e]=!0:(Qo[e]=!0,!1)}function op(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cp(e,t,n,r){if(t===null||typeof t>"u"||op(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vi=/[\-:]([a-z])/g;function Hi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vi,Hi);Se[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vi,Hi);Se[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vi,Hi);Se[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function qi(e,t,n,r){var l=Se.hasOwnProperty(t)?Se[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cp(t,n,l,r)&&(n=null),r||l===null?ip(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ot=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),$n=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),Gi=Symbol.for("react.strict_mode"),$a=Symbol.for("react.profiler"),Hu=Symbol.for("react.provider"),qu=Symbol.for("react.context"),Ki=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Ua=Symbol.for("react.suspense_list"),Qi=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),Xo=Symbol.iterator;function Sr(e){return e===null||typeof e!="object"?null:(e=Xo&&e[Xo]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,ra;function Ir(e){if(ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ra=t&&t[1]||""}return`
`+ra+e}var la=!1;function sa(e,t){if(!e||la)return"";la=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{la=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ir(e):""}function up(e){switch(e.tag){case 5:return Ir(e.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return e=sa(e.type,!1),e;case 11:return e=sa(e.type.render,!1),e;case 1:return e=sa(e.type,!0),e;default:return""}}function Ba(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case $n:return"Portal";case $a:return"Profiler";case Gi:return"StrictMode";case za:return"Suspense";case Ua:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qu:return(e.displayName||"Context")+".Consumer";case Hu:return(e._context.displayName||"Context")+".Provider";case Ki:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qi:return t=e.displayName||null,t!==null?t:Ba(e.type)||"Memo";case zt:t=e._payload,e=e._init;try{return Ba(e(t))}catch{}}return null}function dp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ba(t);case 8:return t===Gi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fp(e){var t=Ku(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kl(e){e._valueTracker||(e._valueTracker=fp(e))}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ku(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wa(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yu(e,t){t=t.checked,t!=null&&qi(e,"checked",t,!1)}function Va(e,t){Yu(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ha(e,t,n){(t!=="number"||ss(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ar=Array.isArray;function Zn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ec(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Ar(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function Xu(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ju(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cl,Zu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mp=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){mp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=ed(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var pp=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(e,t){if(t){if(pp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Qa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,er=null,tr=null;function nc(e){if(e=jl(e)){if(typeof Xa!="function")throw Error(R(280));var t=e.stateNode;t&&(t=$s(t),Xa(e.stateNode,e.type,t))}}function nd(e){er?tr?tr.push(e):tr=[e]:er=e}function rd(){if(er){var e=er,t=tr;if(tr=er=null,nc(e),t)for(e=0;e<t.length;e++)nc(t[e])}}function ld(e,t){return e(t)}function sd(){}var aa=!1;function ad(e,t,n){if(aa)return e(t,n);aa=!0;try{return ld(e,t,n)}finally{aa=!1,(er!==null||tr!==null)&&(sd(),rd())}}function Zr(e,t){var n=e.stateNode;if(n===null)return null;var r=$s(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Ja=!1;if(Pt)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Ja=!1}function hp(e,t,n,r,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Br=!1,as=null,is=!1,Za=null,gp={onError:function(e){Br=!0,as=e}};function vp(e,t,n,r,l,a,i,o,c){Br=!1,as=null,hp.apply(gp,arguments)}function yp(e,t,n,r,l,a,i,o,c){if(vp.apply(this,arguments),Br){if(Br){var u=as;Br=!1,as=null}else throw Error(R(198));is||(is=!0,Za=u)}}function Ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function id(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rc(e){if(Ln(e)!==e)throw Error(R(188))}function xp(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return rc(l),e;if(a===r)return rc(l),t;a=a.sibling}throw Error(R(188))}if(n.return!==r.return)n=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function od(e){return e=xp(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var ud=He.unstable_scheduleCallback,lc=He.unstable_cancelCallback,jp=He.unstable_shouldYield,wp=He.unstable_requestPaint,me=He.unstable_now,bp=He.unstable_getCurrentPriorityLevel,Xi=He.unstable_ImmediatePriority,dd=He.unstable_UserBlockingPriority,os=He.unstable_NormalPriority,Np=He.unstable_LowPriority,fd=He.unstable_IdlePriority,Is=null,wt=null;function Sp(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:Ep,kp=Math.log,Cp=Math.LN2;function Ep(e){return e>>>=0,e===0?32:31-(kp(e)/Cp|0)|0}var El=64,_l=4194304;function Dr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?r=Dr(o):(a&=i,a!==0&&(r=Dr(a)))}else i=n&~l,i!==0?r=Dr(i):a!==0&&(r=Dr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),l=1<<n,r|=e[n],t&=~l;return r}function _p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ut(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&r)&&(l[i]=_p(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function ei(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function md(){var e=El;return El<<=1,!(El&4194240)&&(El=64),e}function ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function Rp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ut(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function Ji(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ee=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hd,Zi,gd,vd,yd,ti=!1,Pl=[],Qt=null,Yt=null,Xt=null,el=new Map,tl=new Map,Wt=[],Tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":el.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(t.pointerId)}}function Cr(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=jl(t),t!==null&&Zi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Lp(e,t,n,r,l){switch(t){case"focusin":return Qt=Cr(Qt,e,t,n,r,l),!0;case"dragenter":return Yt=Cr(Yt,e,t,n,r,l),!0;case"mouseover":return Xt=Cr(Xt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return el.set(a,Cr(el.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,tl.set(a,Cr(tl.get(a)||null,e,t,n,r,l)),!0}return!1}function xd(e){var t=jn(e.target);if(t!==null){var n=Ln(t);if(n!==null){if(t=n.tag,t===13){if(t=id(n),t!==null){e.blockedOn=t,yd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ni(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ya=r,n.target.dispatchEvent(r),Ya=null}else return t=jl(n),t!==null&&Zi(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){Kl(e)&&n.delete(t)}function Op(){ti=!1,Qt!==null&&Kl(Qt)&&(Qt=null),Yt!==null&&Kl(Yt)&&(Yt=null),Xt!==null&&Kl(Xt)&&(Xt=null),el.forEach(ac),tl.forEach(ac)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,ti||(ti=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Op)))}function nl(e){function t(l){return Er(l,e)}if(0<Pl.length){Er(Pl[0],e);for(var n=1;n<Pl.length;n++){var r=Pl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&Er(Qt,e),Yt!==null&&Er(Yt,e),Xt!==null&&Er(Xt,e),el.forEach(t),tl.forEach(t),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)xd(n),n.blockedOn===null&&Wt.shift()}var nr=Ot.ReactCurrentBatchConfig,us=!0;function Mp(e,t,n,r){var l=ee,a=nr.transition;nr.transition=null;try{ee=1,eo(e,t,n,r)}finally{ee=l,nr.transition=a}}function Ip(e,t,n,r){var l=ee,a=nr.transition;nr.transition=null;try{ee=4,eo(e,t,n,r)}finally{ee=l,nr.transition=a}}function eo(e,t,n,r){if(us){var l=ni(e,t,n,r);if(l===null)va(e,t,r,ds,n),sc(e,r);else if(Lp(l,e,t,n,r))r.stopPropagation();else if(sc(e,r),t&4&&-1<Tp.indexOf(e)){for(;l!==null;){var a=jl(l);if(a!==null&&hd(a),a=ni(e,t,n,r),a===null&&va(e,t,r,ds,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else va(e,t,r,null,n)}}var ds=null;function ni(e,t,n,r){if(ds=null,e=Yi(r),e=jn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=id(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ds=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bp()){case Xi:return 1;case dd:return 4;case os:case Np:return 16;case fd:return 536870912;default:return 16}default:return 16}}var qt=null,to=null,Ql=null;function wd(){if(Ql)return Ql;var e,t=to,n=t.length,r,l="value"in qt?qt.value:qt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[a-r];r++);return Ql=l.slice(e,1<r?1-r:void 0)}function Yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function ic(){return!1}function Ge(e){function t(n,r,l,a,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rl:ic,this.isPropagationStopped=ic,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=Ge(mr),xl=ue({},mr,{view:0,detail:0}),Ap=Ge(xl),oa,ca,_r,As=ue({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(oa=e.screenX-_r.screenX,ca=e.screenY-_r.screenY):ca=oa=0,_r=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),oc=Ge(As),Dp=ue({},As,{dataTransfer:0}),Fp=Ge(Dp),$p=ue({},xl,{relatedTarget:0}),ua=Ge($p),zp=ue({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=Ge(zp),Bp=ue({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wp=Ge(Bp),Vp=ue({},mr,{data:0}),cc=Ge(Vp),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gp[e])?!!t[e]:!1}function ro(){return Kp}var Qp=ue({},xl,{key:function(e){if(e.key){var t=Hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yp=Ge(Qp),Xp=ue({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=Ge(Xp),Jp=ue({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),Zp=Ge(Jp),eh=ue({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=Ge(eh),nh=ue({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rh=Ge(nh),lh=[9,13,27,32],lo=Pt&&"CompositionEvent"in window,Wr=null;Pt&&"documentMode"in document&&(Wr=document.documentMode);var sh=Pt&&"TextEvent"in window&&!Wr,bd=Pt&&(!lo||Wr&&8<Wr&&11>=Wr),dc=" ",fc=!1;function Nd(e,t){switch(e){case"keyup":return lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function ah(e,t){switch(e){case"compositionend":return Sd(t);case"keypress":return t.which!==32?null:(fc=!0,dc);case"textInput":return e=t.data,e===dc&&fc?null:e;default:return null}}function ih(e,t){if(Un)return e==="compositionend"||!lo&&Nd(e,t)?(e=wd(),Ql=to=qt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bd&&t.locale!=="ko"?null:t.data;default:return null}}var oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oh[e.type]:t==="textarea"}function kd(e,t,n,r){nd(r),t=fs(t,"onChange"),0<t.length&&(n=new no("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vr=null,rl=null;function ch(e){Ad(e,0)}function Ds(e){var t=Vn(e);if(Qu(t))return e}function uh(e,t){if(e==="change")return t}var Cd=!1;if(Pt){var da;if(Pt){var fa="oninput"in document;if(!fa){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),fa=typeof pc.oninput=="function"}da=fa}else da=!1;Cd=da&&(!document.documentMode||9<document.documentMode)}function hc(){Vr&&(Vr.detachEvent("onpropertychange",Ed),rl=Vr=null)}function Ed(e){if(e.propertyName==="value"&&Ds(rl)){var t=[];kd(t,rl,e,Yi(e)),ad(ch,t)}}function dh(e,t,n){e==="focusin"?(hc(),Vr=t,rl=n,Vr.attachEvent("onpropertychange",Ed)):e==="focusout"&&hc()}function fh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(rl)}function mh(e,t){if(e==="click")return Ds(t)}function ph(e,t){if(e==="input"||e==="change")return Ds(t)}function hh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:hh;function ll(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Fa.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vc(e,t){var n=gc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gc(n)}}function _d(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_d(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=ss();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ss(e.document)}return t}function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gh(e){var t=Pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_d(n.ownerDocument.documentElement,n)){if(r!==null&&so(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=vc(n,a);var i=vc(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vh=Pt&&"documentMode"in document&&11>=document.documentMode,Bn=null,ri=null,Hr=null,li=!1;function yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;li||Bn==null||Bn!==ss(r)||(r=Bn,"selectionStart"in r&&so(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&ll(Hr,r)||(Hr=r,r=fs(ri,"onSelect"),0<r.length&&(t=new no("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bn)))}function Tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wn={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},ma={},Rd={};Pt&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Fs(e){if(ma[e])return ma[e];if(!Wn[e])return e;var t=Wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rd)return ma[e]=t[n];return e}var Td=Fs("animationend"),Ld=Fs("animationiteration"),Od=Fs("animationstart"),Md=Fs("transitionend"),Id=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){Id.set(e,t),Tn(t,[e])}for(var pa=0;pa<xc.length;pa++){var ha=xc[pa],yh=ha.toLowerCase(),xh=ha[0].toUpperCase()+ha.slice(1);on(yh,"on"+xh)}on(Td,"onAnimationEnd");on(Ld,"onAnimationIteration");on(Od,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(Md,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yp(r,t,void 0,e),e.currentTarget=null}function Ad(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;jc(l,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;jc(l,o,u),a=c}}}if(is)throw e=Za,is=!1,Za=null,e}function se(e,t){var n=t[ci];n===void 0&&(n=t[ci]=new Set);var r=e+"__bubble";n.has(r)||(Dd(t,e,2,!1),n.add(r))}function ga(e,t,n){var r=0;t&&(r|=4),Dd(n,e,r,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function sl(e){if(!e[Ll]){e[Ll]=!0,Vu.forEach(function(n){n!=="selectionchange"&&(jh.has(n)||ga(n,!1,e),ga(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,ga("selectionchange",!1,t))}}function Dd(e,t,n,r){switch(jd(t)){case 1:var l=Mp;break;case 4:l=Ip;break;default:l=eo}n=l.bind(null,t,n,e),l=void 0,!Ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function va(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=jn(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}ad(function(){var u=a,h=Yi(n),p=[];e:{var m=Id.get(e);if(m!==void 0){var b=no,y=e;switch(e){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":b=Yp;break;case"focusin":y="focus",b=ua;break;case"focusout":y="blur",b=ua;break;case"beforeblur":case"afterblur":b=ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Zp;break;case Td:case Ld:case Od:b=Up;break;case Md:b=th;break;case"scroll":b=Ap;break;case"wheel":b=rh;break;case"copy":case"cut":case"paste":b=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=uc}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var f=u,v;f!==null;){v=f;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,g!==null&&(N=Zr(f,g),N!=null&&x.push(al(f,N,v)))),w)break;f=f.return}0<x.length&&(m=new b(m,y,null,n,h),p.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",m&&n!==Ya&&(y=n.relatedTarget||n.fromElement)&&(jn(y)||y[Rt]))break e;if((b||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,b?(y=n.relatedTarget||n.toElement,b=u,y=y?jn(y):null,y!==null&&(w=Ln(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(b=null,y=u),b!==y)){if(x=oc,N="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=uc,N="onPointerLeave",g="onPointerEnter",f="pointer"),w=b==null?m:Vn(b),v=y==null?m:Vn(y),m=new x(N,f+"leave",b,n,h),m.target=w,m.relatedTarget=v,N=null,jn(h)===u&&(x=new x(g,f+"enter",y,n,h),x.target=v,x.relatedTarget=w,N=x),w=N,b&&y)t:{for(x=b,g=y,f=0,v=x;v;v=In(v))f++;for(v=0,N=g;N;N=In(N))v++;for(;0<f-v;)x=In(x),f--;for(;0<v-f;)g=In(g),v--;for(;f--;){if(x===g||g!==null&&x===g.alternate)break t;x=In(x),g=In(g)}x=null}else x=null;b!==null&&wc(p,m,b,x,!1),y!==null&&w!==null&&wc(p,w,y,x,!0)}}e:{if(m=u?Vn(u):window,b=m.nodeName&&m.nodeName.toLowerCase(),b==="select"||b==="input"&&m.type==="file")var k=uh;else if(mc(m))if(Cd)k=ph;else{k=fh;var S=dh}else(b=m.nodeName)&&b.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=mh);if(k&&(k=k(e,u))){kd(p,k,n,h);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Ha(m,"number",m.value)}switch(S=u?Vn(u):window,e){case"focusin":(mc(S)||S.contentEditable==="true")&&(Bn=S,ri=u,Hr=null);break;case"focusout":Hr=ri=Bn=null;break;case"mousedown":li=!0;break;case"contextmenu":case"mouseup":case"dragend":li=!1,yc(p,n,h);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":yc(p,n,h)}var j;if(lo)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Un?Nd(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(bd&&n.locale!=="ko"&&(Un||E!=="onCompositionStart"?E==="onCompositionEnd"&&Un&&(j=wd()):(qt=h,to="value"in qt?qt.value:qt.textContent,Un=!0)),S=fs(u,E),0<S.length&&(E=new cc(E,e,null,n,h),p.push({event:E,listeners:S}),j?E.data=j:(j=Sd(n),j!==null&&(E.data=j)))),(j=sh?ah(e,n):ih(e,n))&&(u=fs(u,"onBeforeInput"),0<u.length&&(h=new cc("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=j))}Ad(p,t)})}function al(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fs(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Zr(e,n),a!=null&&r.unshift(al(e,a,l)),a=Zr(e,t),a!=null&&r.push(al(e,a,l))),e=e.return}return r}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wc(e,t,n,r,l){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,l?(c=Zr(n,a),c!=null&&i.unshift(al(n,c,o))):l||(c=Zr(n,a),c!=null&&i.push(al(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var wh=/\r\n?/g,bh=/\u0000|\uFFFD/g;function bc(e){return(typeof e=="string"?e:""+e).replace(wh,`
`).replace(bh,"")}function Ol(e,t,n){if(t=bc(t),bc(e)!==t&&n)throw Error(R(425))}function ms(){}var si=null,ai=null;function ii(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oi=typeof setTimeout=="function"?setTimeout:void 0,Nh=typeof clearTimeout=="function"?clearTimeout:void 0,Nc=typeof Promise=="function"?Promise:void 0,Sh=typeof queueMicrotask=="function"?queueMicrotask:typeof Nc<"u"?function(e){return Nc.resolve(null).then(e).catch(kh)}:oi;function kh(e){setTimeout(function(){throw e})}function ya(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),nl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);nl(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),jt="__reactFiber$"+pr,il="__reactProps$"+pr,Rt="__reactContainer$"+pr,ci="__reactEvents$"+pr,Ch="__reactListeners$"+pr,Eh="__reactHandles$"+pr;function jn(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sc(e);e!==null;){if(n=e[jt])return n;e=Sc(e)}return t}e=n,n=e.parentNode}return null}function jl(e){return e=e[jt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function $s(e){return e[il]||null}var ui=[],Hn=-1;function cn(e){return{current:e}}function ae(e){0>Hn||(e.current=ui[Hn],ui[Hn]=null,Hn--)}function le(e,t){Hn++,ui[Hn]=e.current,e.current=t}var an={},_e=cn(an),Fe=cn(!1),Cn=an;function ar(e,t){var n=e.type.contextTypes;if(!n)return an;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function $e(e){return e=e.childContextTypes,e!=null}function ps(){ae(Fe),ae(_e)}function kc(e,t,n){if(_e.current!==an)throw Error(R(168));le(_e,t),le(Fe,n)}function Fd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(R(108,dp(e)||"Unknown",l));return ue({},n,r)}function hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,Cn=_e.current,le(_e,e),le(Fe,Fe.current),!0}function Cc(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Fd(e,t,Cn),r.__reactInternalMemoizedMergedChildContext=e,ae(Fe),ae(_e),le(_e,e)):ae(Fe),le(Fe,n)}var kt=null,zs=!1,xa=!1;function $d(e){kt===null?kt=[e]:kt.push(e)}function _h(e){zs=!0,$d(e)}function un(){if(!xa&&kt!==null){xa=!0;var e=0,t=ee;try{var n=kt;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kt=null,zs=!1}catch(l){throw kt!==null&&(kt=kt.slice(e+1)),ud(Xi,un),l}finally{ee=t,xa=!1}}return null}var qn=[],Gn=0,gs=null,vs=0,Xe=[],Je=0,En=null,Ct=1,Et="";function hn(e,t){qn[Gn++]=vs,qn[Gn++]=gs,gs=e,vs=t}function zd(e,t,n){Xe[Je++]=Ct,Xe[Je++]=Et,Xe[Je++]=En,En=e;var r=Ct;e=Et;var l=32-ut(r)-1;r&=~(1<<l),n+=1;var a=32-ut(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Ct=1<<32-ut(t)+l|n<<l|r,Et=a+e}else Ct=1<<a|n<<l|r,Et=e}function ao(e){e.return!==null&&(hn(e,1),zd(e,1,0))}function io(e){for(;e===gs;)gs=qn[--Gn],qn[Gn]=null,vs=qn[--Gn],qn[Gn]=null;for(;e===En;)En=Xe[--Je],Xe[Je]=null,Et=Xe[--Je],Xe[Je]=null,Ct=Xe[--Je],Xe[Je]=null}var Ve=null,We=null,ie=!1,it=null;function Ud(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ec(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=En!==null?{id:Ct,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,We=null,!0):!1;default:return!1}}function di(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fi(e){if(ie){var t=We;if(t){var n=t;if(!Ec(e,t)){if(di(e))throw Error(R(418));t=Jt(n.nextSibling);var r=Ve;t&&Ec(e,t)?Ud(r,n):(e.flags=e.flags&-4097|2,ie=!1,Ve=e)}}else{if(di(e))throw Error(R(418));e.flags=e.flags&-4097|2,ie=!1,Ve=e}}}function _c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function Ml(e){if(e!==Ve)return!1;if(!ie)return _c(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ii(e.type,e.memoizedProps)),t&&(t=We)){if(di(e))throw Bd(),Error(R(418));for(;t;)Ud(e,t),t=Jt(t.nextSibling)}if(_c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?Jt(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=We;e;)e=Jt(e.nextSibling)}function ir(){We=Ve=null,ie=!1}function oo(e){it===null?it=[e]:it.push(e)}var Ph=Ot.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Il(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function Wd(e){function t(g,f){if(e){var v=g.deletions;v===null?(g.deletions=[f],g.flags|=16):v.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function l(g,f){return g=nn(g,f),g.index=0,g.sibling=null,g}function a(g,f,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<f?(g.flags|=2,f):v):(g.flags|=2,f)):(g.flags|=1048576,f)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,f,v,N){return f===null||f.tag!==6?(f=Ca(v,g.mode,N),f.return=g,f):(f=l(f,v),f.return=g,f)}function c(g,f,v,N){var k=v.type;return k===zn?h(g,f,v.props.children,N,v.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===zt&&Pc(k)===f.type)?(N=l(f,v.props),N.ref=Pr(g,f,v),N.return=g,N):(N=rs(v.type,v.key,v.props,null,g.mode,N),N.ref=Pr(g,f,v),N.return=g,N)}function u(g,f,v,N){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Ea(v,g.mode,N),f.return=g,f):(f=l(f,v.children||[]),f.return=g,f)}function h(g,f,v,N,k){return f===null||f.tag!==7?(f=Sn(v,g.mode,N,k),f.return=g,f):(f=l(f,v),f.return=g,f)}function p(g,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ca(""+f,g.mode,v),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Sl:return v=rs(f.type,f.key,f.props,null,g.mode,v),v.ref=Pr(g,null,f),v.return=g,v;case $n:return f=Ea(f,g.mode,v),f.return=g,f;case zt:var N=f._init;return p(g,N(f._payload),v)}if(Ar(f)||Sr(f))return f=Sn(f,g.mode,v,null),f.return=g,f;Il(g,f)}return null}function m(g,f,v,N){var k=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:o(g,f,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sl:return v.key===k?c(g,f,v,N):null;case $n:return v.key===k?u(g,f,v,N):null;case zt:return k=v._init,m(g,f,k(v._payload),N)}if(Ar(v)||Sr(v))return k!==null?null:h(g,f,v,N,null);Il(g,v)}return null}function b(g,f,v,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(v)||null,o(f,g,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Sl:return g=g.get(N.key===null?v:N.key)||null,c(f,g,N,k);case $n:return g=g.get(N.key===null?v:N.key)||null,u(f,g,N,k);case zt:var S=N._init;return b(g,f,v,S(N._payload),k)}if(Ar(N)||Sr(N))return g=g.get(v)||null,h(f,g,N,k,null);Il(f,N)}return null}function y(g,f,v,N){for(var k=null,S=null,j=f,E=f=0,O=null;j!==null&&E<v.length;E++){j.index>E?(O=j,j=null):O=j.sibling;var T=m(g,j,v[E],N);if(T===null){j===null&&(j=O);break}e&&j&&T.alternate===null&&t(g,j),f=a(T,f,E),S===null?k=T:S.sibling=T,S=T,j=O}if(E===v.length)return n(g,j),ie&&hn(g,E),k;if(j===null){for(;E<v.length;E++)j=p(g,v[E],N),j!==null&&(f=a(j,f,E),S===null?k=j:S.sibling=j,S=j);return ie&&hn(g,E),k}for(j=r(g,j);E<v.length;E++)O=b(j,g,E,v[E],N),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?E:O.key),f=a(O,f,E),S===null?k=O:S.sibling=O,S=O);return e&&j.forEach(function(H){return t(g,H)}),ie&&hn(g,E),k}function x(g,f,v,N){var k=Sr(v);if(typeof k!="function")throw Error(R(150));if(v=k.call(v),v==null)throw Error(R(151));for(var S=k=null,j=f,E=f=0,O=null,T=v.next();j!==null&&!T.done;E++,T=v.next()){j.index>E?(O=j,j=null):O=j.sibling;var H=m(g,j,T.value,N);if(H===null){j===null&&(j=O);break}e&&j&&H.alternate===null&&t(g,j),f=a(H,f,E),S===null?k=H:S.sibling=H,S=H,j=O}if(T.done)return n(g,j),ie&&hn(g,E),k;if(j===null){for(;!T.done;E++,T=v.next())T=p(g,T.value,N),T!==null&&(f=a(T,f,E),S===null?k=T:S.sibling=T,S=T);return ie&&hn(g,E),k}for(j=r(g,j);!T.done;E++,T=v.next())T=b(j,g,E,T.value,N),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?E:T.key),f=a(T,f,E),S===null?k=T:S.sibling=T,S=T);return e&&j.forEach(function(ne){return t(g,ne)}),ie&&hn(g,E),k}function w(g,f,v,N){if(typeof v=="object"&&v!==null&&v.type===zn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sl:e:{for(var k=v.key,S=f;S!==null;){if(S.key===k){if(k=v.type,k===zn){if(S.tag===7){n(g,S.sibling),f=l(S,v.props.children),f.return=g,g=f;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===zt&&Pc(k)===S.type){n(g,S.sibling),f=l(S,v.props),f.ref=Pr(g,S,v),f.return=g,g=f;break e}n(g,S);break}else t(g,S);S=S.sibling}v.type===zn?(f=Sn(v.props.children,g.mode,N,v.key),f.return=g,g=f):(N=rs(v.type,v.key,v.props,null,g.mode,N),N.ref=Pr(g,f,v),N.return=g,g=N)}return i(g);case $n:e:{for(S=v.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(g,f.sibling),f=l(f,v.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=Ea(v,g.mode,N),f.return=g,g=f}return i(g);case zt:return S=v._init,w(g,f,S(v._payload),N)}if(Ar(v))return y(g,f,v,N);if(Sr(v))return x(g,f,v,N);Il(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(g,f.sibling),f=l(f,v),f.return=g,g=f):(n(g,f),f=Ca(v,g.mode,N),f.return=g,g=f),i(g)):n(g,f)}return w}var or=Wd(!0),Vd=Wd(!1),ys=cn(null),xs=null,Kn=null,co=null;function uo(){co=Kn=xs=null}function fo(e){var t=ys.current;ae(ys),e._currentValue=t}function mi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rr(e,t){xs=e,co=Kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(co!==e)if(e={context:e,memoizedValue:t,next:null},Kn===null){if(xs===null)throw Error(R(308));Kn=e,xs.dependencies={lanes:0,firstContext:e}}else Kn=Kn.next=e;return t}var wn=null;function mo(e){wn===null?wn=[e]:wn.push(e)}function Hd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,mo(t)):(n.next=l.next,l.next=n),t.interleaved=n,Tt(e,r)}function Tt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ut=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Tt(e,n)}return l=r.interleaved,l===null?(t.next=t,mo(r)):(t.next=l.next,l.next=t),r.interleaved=t,Tt(e,n)}function Xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ji(e,n)}}function Rc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var l=e.updateQueue;Ut=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var p=l.baseState;i=0,h=u=c=null,o=a;do{var m=o.lane,b=o.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,x=o;switch(m=t,b=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){p=y.call(b,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(b,p,m):y,m==null)break e;p=ue({},p,m);break e;case 2:Ut=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=l.effects,m===null?l.effects=[o]:m.push(o))}else b={eventTime:b,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=b,c=p):h=h.next=b,i|=m;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;m=o,o=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Pn|=i,e.lanes=i,e.memoizedState=p}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(R(191,l));l.call(r)}}}var wl={},bt=cn(wl),ol=cn(wl),cl=cn(wl);function bn(e){if(e===wl)throw Error(R(174));return e}function ho(e,t){switch(le(cl,t),le(ol,e),le(bt,wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ga(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ga(t,e)}ae(bt),le(bt,t)}function cr(){ae(bt),ae(ol),ae(cl)}function Gd(e){bn(cl.current);var t=bn(bt.current),n=Ga(t,e.type);t!==n&&(le(ol,e),le(bt,n))}function go(e){ol.current===e&&(ae(bt),ae(ol))}var oe=cn(0);function ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=[];function vo(){for(var e=0;e<ja.length;e++)ja[e]._workInProgressVersionPrimary=null;ja.length=0}var Jl=Ot.ReactCurrentDispatcher,wa=Ot.ReactCurrentBatchConfig,_n=0,ce=null,ge=null,ye=null,bs=!1,qr=!1,ul=0,Rh=0;function ke(){throw Error(R(321))}function yo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,l,a){if(_n=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jl.current=e===null||e.memoizedState===null?Mh:Ih,e=n(r,l),qr){a=0;do{if(qr=!1,ul=0,25<=a)throw Error(R(301));a+=1,ye=ge=null,t.updateQueue=null,Jl.current=Ah,e=n(r,l)}while(qr)}if(Jl.current=Ns,t=ge!==null&&ge.next!==null,_n=0,ye=ge=ce=null,bs=!1,t)throw Error(R(300));return e}function jo(){var e=ul!==0;return ul=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?ce.memoizedState=ye=e:ye=ye.next=e,ye}function nt(){if(ge===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=ye===null?ce.memoizedState:ye.next;if(t!==null)ye=t,ge=e;else{if(e===null)throw Error(R(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ye===null?ce.memoizedState=ye=e:ye=ye.next=e}return ye}function dl(e,t){return typeof t=="function"?t(e):t}function ba(e){var t=nt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=ge,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var o=i=null,c=null,u=a;do{var h=u.lane;if((_n&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,i=r):c=c.next=p,ce.lanes|=h,Pn|=h}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,ft(r,t.memoizedState)||(De=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,ce.lanes|=a,Pn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=nt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);ft(a,t.memoizedState)||(De=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Kd(){}function Qd(e,t){var n=ce,r=nt(),l=t(),a=!ft(r.memoizedState,l);if(a&&(r.memoizedState=l,De=!0),r=r.queue,wo(Jd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,fl(9,Xd.bind(null,n,r,l,t),void 0,null),xe===null)throw Error(R(349));_n&30||Yd(n,t,l)}return l}function Yd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,r){t.value=n,t.getSnapshot=r,Zd(t)&&ef(e)}function Jd(e,t,n){return n(function(){Zd(t)&&ef(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function ef(e){var t=Tt(e,1);t!==null&&dt(t,e,1,-1)}function Lc(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,ce,e),[t.memoizedState,e]}function fl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tf(){return nt().memoizedState}function Zl(e,t,n,r){var l=yt();ce.flags|=e,l.memoizedState=fl(1|t,n,void 0,r===void 0?null:r)}function Us(e,t,n,r){var l=nt();r=r===void 0?null:r;var a=void 0;if(ge!==null){var i=ge.memoizedState;if(a=i.destroy,r!==null&&yo(r,i.deps)){l.memoizedState=fl(t,n,a,r);return}}ce.flags|=e,l.memoizedState=fl(1|t,n,a,r)}function Oc(e,t){return Zl(8390656,8,e,t)}function wo(e,t){return Us(2048,8,e,t)}function nf(e,t){return Us(4,2,e,t)}function rf(e,t){return Us(4,4,e,t)}function lf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,n){return n=n!=null?n.concat([e]):null,Us(4,4,lf.bind(null,t,e),n)}function bo(){}function af(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function of(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cf(e,t,n){return _n&21?(ft(n,t)||(n=md(),ce.lanes|=n,Pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=n)}function Th(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=wa.transition;wa.transition={};try{e(!1),t()}finally{ee=n,wa.transition=r}}function uf(){return nt().memoizedState}function Lh(e,t,n){var r=tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},df(e))ff(t,n);else if(n=Hd(e,t,n,r),n!==null){var l=Te();dt(n,e,r,l),mf(n,t,r)}}function Oh(e,t,n){var r=tn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(df(e))ff(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,ft(o,i)){var c=t.interleaved;c===null?(l.next=l,mo(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Hd(e,t,l,r),n!==null&&(l=Te(),dt(n,e,r,l),mf(n,t,r))}}function df(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function ff(e,t){qr=bs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ji(e,n)}}var Ns={readContext:tt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Mh={readContext:tt,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zl(4194308,4,lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zl(4,2,e,t)},useMemo:function(e,t){var n=yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lh.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:bo,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Th.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,l=yt();if(ie){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),xe===null)throw Error(R(349));_n&30||Yd(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Oc(Jd.bind(null,r,a,e),[e]),r.flags|=2048,fl(9,Xd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=yt(),t=xe.identifierPrefix;if(ie){var n=Et,r=Ct;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ih={readContext:tt,useCallback:af,useContext:tt,useEffect:wo,useImperativeHandle:sf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:of,useReducer:ba,useRef:tf,useState:function(){return ba(dl)},useDebugValue:bo,useDeferredValue:function(e){var t=nt();return cf(t,ge.memoizedState,e)},useTransition:function(){var e=ba(dl)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Qd,useId:uf,unstable_isNewReconciler:!1},Ah={readContext:tt,useCallback:af,useContext:tt,useEffect:wo,useImperativeHandle:sf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:of,useReducer:Na,useRef:tf,useState:function(){return Na(dl)},useDebugValue:bo,useDeferredValue:function(e){var t=nt();return ge===null?t.memoizedState=e:cf(t,ge.memoizedState,e)},useTransition:function(){var e=Na(dl)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Kd,useSyncExternalStore:Qd,useId:uf,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),l=tn(e),a=_t(r,l);a.payload=t,n!=null&&(a.callback=n),t=Zt(e,a,l),t!==null&&(dt(t,e,l,r),Xl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),l=tn(e),a=_t(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Zt(e,a,l),t!==null&&(dt(t,e,l,r),Xl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=tn(e),l=_t(n,r);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,r),t!==null&&(dt(t,e,r,n),Xl(t,e,r))}};function Mc(e,t,n,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ll(n,r)||!ll(l,a):!0}function pf(e,t,n){var r=!1,l=an,a=t.contextType;return typeof a=="object"&&a!==null?a=tt(a):(l=$e(t)?Cn:_e.current,r=t.contextTypes,a=(r=r!=null)?ar(e,l):an),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ic(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function hi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},po(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=tt(a):(a=$e(t)?Cn:_e.current,l.context=ar(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(pi(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Bs.enqueueReplaceState(l,l.state,null),js(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ur(e,t){try{var n="",r=t;do n+=up(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dh=typeof WeakMap=="function"?WeakMap:Map;function hf(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ks||(ks=!0,Ci=r),gi(e,t)},n}function gf(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){gi(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){gi(e,t),typeof r!="function"&&(en===null?en=new Set([this]):en.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ac(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Xh.bind(null,e,t,n),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var Fh=Ot.ReactCurrentOwner,De=!1;function Re(e,t,n,r){t.child=e===null?Vd(t,null,n,r):or(t,e.child,n,r)}function $c(e,t,n,r,l){n=n.render;var a=t.ref;return rr(t,l),r=xo(e,t,n,r,a,l),n=jo(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ie&&n&&ao(t),t.flags|=1,Re(e,t,r,l),t.child)}function zc(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ro(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,vf(e,t,a,r,l)):(e=rs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(i,r)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=nn(a,r),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(ll(a,r)&&e.ref===t.ref)if(De=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return vi(e,t,n,r,l)}function yf(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Yn,Ue),Ue|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Yn,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,le(Yn,Ue),Ue|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,le(Yn,Ue),Ue|=r;return Re(e,t,l,n),t.child}function xf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vi(e,t,n,r,l){var a=$e(n)?Cn:_e.current;return a=ar(t,a),rr(t,l),n=xo(e,t,n,r,a,l),r=jo(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ie&&r&&ao(t),t.flags|=1,Re(e,t,n,l),t.child)}function Uc(e,t,n,r,l){if($e(n)){var a=!0;hs(t)}else a=!1;if(rr(t,l),t.stateNode===null)es(e,t),pf(t,n,r),hi(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=$e(n)?Cn:_e.current,u=ar(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Ic(t,i,r,u),Ut=!1;var m=t.memoizedState;i.state=m,js(t,r,i,l),c=t.memoizedState,o!==r||m!==c||Fe.current||Ut?(typeof h=="function"&&(pi(t,n,h,r),c=t.memoizedState),(o=Ut||Mc(t,n,o,r,m,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,qd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:st(t.type,o),i.props=u,p=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=$e(n)?Cn:_e.current,c=ar(t,c));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||m!==c)&&Ic(t,i,r,c),Ut=!1,m=t.memoizedState,i.state=m,js(t,r,i,l);var y=t.memoizedState;o!==p||m!==y||Fe.current||Ut?(typeof b=="function"&&(pi(t,n,b,r),y=t.memoizedState),(u=Ut||Mc(t,n,u,r,m,y,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return yi(e,t,n,r,a,l)}function yi(e,t,n,r,l,a){xf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Cc(t,n,!1),Lt(e,t,a);r=t.stateNode,Fh.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=or(t,e.child,null,a),t.child=or(t,null,o,a)):Re(e,t,o,a),t.memoizedState=r.state,l&&Cc(t,n,!0),t.child}function jf(e){var t=e.stateNode;t.pendingContext?kc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kc(e,t.context,!1),ho(e,t.containerInfo)}function Bc(e,t,n,r,l){return ir(),oo(l),t.flags|=256,Re(e,t,n,r),t.child}var xi={dehydrated:null,treeContext:null,retryLane:0};function ji(e){return{baseLanes:e,cachePool:null,transitions:null}}function wf(e,t,n){var r=t.pendingProps,l=oe.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),le(oe,l&1),e===null)return fi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Hs(i,r,0,null),e=Sn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ji(n),t.memoizedState=xi,e):No(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return $h(e,t,i,r,o,l,n);if(a){a=r.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=nn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=nn(o,a):(a=Sn(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?ji(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=xi,r}return a=e.child,e=a.sibling,r=nn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function No(e,t){return t=Hs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Al(e,t,n,r){return r!==null&&oo(r),or(t,e.child,null,n),e=No(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $h(e,t,n,r,l,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Sa(Error(R(422))),Al(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Hs({mode:"visible",children:r.children},l,0,null),a=Sn(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&or(t,e.child,null,i),t.child.memoizedState=ji(i),t.memoizedState=xi,a);if(!(t.mode&1))return Al(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(R(419)),r=Sa(a,r,void 0),Al(e,t,i,r)}if(o=(i&e.childLanes)!==0,De||o){if(r=xe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Tt(e,l),dt(r,e,l,-1))}return Po(),r=Sa(Error(R(421))),Al(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Jh.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,We=Jt(l.nextSibling),Ve=t,ie=!0,it=null,e!==null&&(Xe[Je++]=Ct,Xe[Je++]=Et,Xe[Je++]=En,Ct=e.id,Et=e.overflow,En=t),t=No(t,r.children),t.flags|=4096,t)}function Wc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mi(e.return,t,n)}function ka(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function bf(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Re(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wc(e,n,t);else if(e.tag===19)Wc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(oe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ws(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ka(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ws(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ka(t,!0,n,null,a);break;case"together":ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function es(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zh(e,t,n){switch(t.tag){case 3:jf(t),ir();break;case 5:Gd(t);break;case 1:$e(t.type)&&hs(t);break;case 4:ho(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;le(ys,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?wf(e,t,n):(le(oe,oe.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);le(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),le(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,n)}return Lt(e,t,n)}var Nf,wi,Sf,kf;Nf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wi=function(){};Sf=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,bn(bt.current);var a=null;switch(n){case"input":l=Wa(e,l),r=Wa(e,r),a=[];break;case"select":l=ue({},l,{value:void 0}),r=ue({},r,{value:void 0}),a=[];break;case"textarea":l=qa(e,l),r=qa(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ms)}Ka(n,r);var i;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};kf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Uh(e,t,n){var r=t.pendingProps;switch(io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return $e(t.type)&&ps(),Ce(t),null;case 3:return r=t.stateNode,cr(),ae(Fe),ae(_e),vo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ml(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(Pi(it),it=null))),wi(e,t),Ce(t),null;case 5:go(t);var l=bn(cl.current);if(n=t.type,e!==null&&t.stateNode!=null)Sf(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Ce(t),null}if(e=bn(bt.current),Ml(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[jt]=t,r[il]=a,e=(t.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(l=0;l<Fr.length;l++)se(Fr[l],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":Jo(r,a),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},se("invalid",r);break;case"textarea":ec(r,a),se("invalid",r)}Ka(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ol(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ol(r.textContent,o,e),l=["children",""+o]):Xr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&se("scroll",r)}switch(n){case"input":kl(r),Zo(r,a,!0);break;case"textarea":kl(r),tc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ms)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ju(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[jt]=t,e[il]=r,Nf(e,t,!1,!1),t.stateNode=e;e:{switch(i=Qa(n,r),n){case"dialog":se("cancel",e),se("close",e),l=r;break;case"iframe":case"object":case"embed":se("load",e),l=r;break;case"video":case"audio":for(l=0;l<Fr.length;l++)se(Fr[l],e);l=r;break;case"source":se("error",e),l=r;break;case"img":case"image":case"link":se("error",e),se("load",e),l=r;break;case"details":se("toggle",e),l=r;break;case"input":Jo(e,r),l=Wa(e,r),se("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ue({},r,{value:void 0}),se("invalid",e);break;case"textarea":ec(e,r),l=qa(e,r),se("invalid",e);break;default:l=r}Ka(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?td(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zu(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jr(e,c):typeof c=="number"&&Jr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Xr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&se("scroll",e):c!=null&&qi(e,a,c,i))}switch(n){case"input":kl(e),Zo(e,r,!1);break;case"textarea":kl(e),tc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Zn(e,!!r.multiple,a,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ms)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)kf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=bn(cl.current),bn(bt.current),Ml(t)){if(r=t.stateNode,n=t.memoizedProps,r[jt]=t,(a=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:Ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ol(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jt]=t,t.stateNode=r}return Ce(t),null;case 13:if(ae(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&We!==null&&t.mode&1&&!(t.flags&128))Bd(),ir(),t.flags|=98560,a=!1;else if(a=Ml(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(R(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[jt]=t}else ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),a=!1}else it!==null&&(Pi(it),it=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?ve===0&&(ve=3):Po())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return cr(),wi(e,t),e===null&&sl(t.stateNode.containerInfo),Ce(t),null;case 10:return fo(t.type._context),Ce(t),null;case 17:return $e(t.type)&&ps(),Ce(t),null;case 19:if(ae(oe),a=t.memoizedState,a===null)return Ce(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Rr(a,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ws(e),i!==null){for(t.flags|=128,Rr(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&me()>dr&&(t.flags|=128,r=!0,Rr(a,!1),t.lanes=4194304)}else{if(!r)if(e=ws(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ie)return Ce(t),null}else 2*me()-a.renderingStartTime>dr&&n!==1073741824&&(t.flags|=128,r=!0,Rr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=me(),t.sibling=null,n=oe.current,le(oe,r?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return _o(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Bh(e,t){switch(io(t),t.tag){case 1:return $e(t.type)&&ps(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),ae(Fe),ae(_e),vo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return go(t),null;case 13:if(ae(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(oe),null;case 4:return cr(),null;case 10:return fo(t.type._context),null;case 22:case 23:return _o(),null;case 24:return null;default:return null}}var Dl=!1,Ee=!1,Wh=typeof WeakSet=="function"?WeakSet:Set,A=null;function Qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function bi(e,t,n){try{n()}catch(r){de(e,t,r)}}var Vc=!1;function Vh(e,t){if(si=us,e=Pd(),so(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,h=0,p=e,m=null;t:for(;;){for(var b;p!==n||l!==0&&p.nodeType!==3||(o=i+l),p!==a||r!==0&&p.nodeType!==3||(c=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(b=p.firstChild)!==null;)m=p,p=b;for(;;){if(p===e)break t;if(m===n&&++u===l&&(o=i),m===a&&++h===r&&(c=i),(b=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=b}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ai={focusedElem:e,selectionRange:n},us=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:st(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(N){de(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=Vc,Vc=!1,y}function Gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&bi(t,n,a)}l=l.next}while(l!==r)}}function Ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ni(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[il],delete t[ci],delete t[Ch],delete t[Eh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ef(e){return e.tag===5||e.tag===3||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Si(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ms));else if(r!==4&&(e=e.child,e!==null))for(Si(e,t,n),e=e.sibling;e!==null;)Si(e,t,n),e=e.sibling}function ki(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ki(e,t,n),e=e.sibling;e!==null;)ki(e,t,n),e=e.sibling}var be=null,at=!1;function Ft(e,t,n){for(n=n.child;n!==null;)_f(e,t,n),n=n.sibling}function _f(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Is,n)}catch{}switch(n.tag){case 5:Ee||Qn(n,t);case 6:var r=be,l=at;be=null,Ft(e,t,n),be=r,at=l,be!==null&&(at?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(at?(e=be,n=n.stateNode,e.nodeType===8?ya(e.parentNode,n):e.nodeType===1&&ya(e,n),nl(e)):ya(be,n.stateNode));break;case 4:r=be,l=at,be=n.stateNode.containerInfo,at=!0,Ft(e,t,n),be=r,at=l;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&bi(n,t,i),l=l.next}while(l!==r)}Ft(e,t,n);break;case 1:if(!Ee&&(Qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){de(n,t,o)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,Ft(e,t,n),Ee=r):Ft(e,t,n);break;default:Ft(e,t,n)}}function qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wh),t.forEach(function(r){var l=Zh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:be=o.stateNode,at=!1;break e;case 3:be=o.stateNode.containerInfo,at=!0;break e;case 4:be=o.stateNode.containerInfo,at=!0;break e}o=o.return}if(be===null)throw Error(R(160));_f(a,i,l),be=null,at=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){de(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pf(t,e),t=t.sibling}function Pf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),vt(e),r&4){try{Gr(3,e,e.return),Ws(3,e)}catch(x){de(e,e.return,x)}try{Gr(5,e,e.return)}catch(x){de(e,e.return,x)}}break;case 1:lt(t,e),vt(e),r&512&&n!==null&&Qn(n,n.return);break;case 5:if(lt(t,e),vt(e),r&512&&n!==null&&Qn(n,n.return),e.flags&32){var l=e.stateNode;try{Jr(l,"")}catch(x){de(e,e.return,x)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Yu(l,a),Qa(o,i);var u=Qa(o,a);for(i=0;i<c.length;i+=2){var h=c[i],p=c[i+1];h==="style"?td(l,p):h==="dangerouslySetInnerHTML"?Zu(l,p):h==="children"?Jr(l,p):qi(l,h,p,u)}switch(o){case"input":Va(l,a);break;case"textarea":Xu(l,a);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Zn(l,!!a.multiple,b,!1):m!==!!a.multiple&&(a.defaultValue!=null?Zn(l,!!a.multiple,a.defaultValue,!0):Zn(l,!!a.multiple,a.multiple?[]:"",!1))}l[il]=a}catch(x){de(e,e.return,x)}}break;case 6:if(lt(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(R(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(x){de(e,e.return,x)}}break;case 3:if(lt(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nl(t.containerInfo)}catch(x){de(e,e.return,x)}break;case 4:lt(t,e),vt(e);break;case 13:lt(t,e),vt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Co=me())),r&4&&qc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(u=Ee)||h,lt(t,e),Ee=u):lt(t,e),vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(A=e,h=e.child;h!==null;){for(p=A=h;A!==null;){switch(m=A,b=m.child,m.tag){case 0:case 11:case 14:case 15:Gr(4,m,m.return);break;case 1:Qn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){de(r,n,x)}}break;case 5:Qn(m,m.return);break;case 22:if(m.memoizedState!==null){Kc(p);continue}}b!==null?(b.return=m,A=b):Kc(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ed("display",i))}catch(x){de(e,e.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){de(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:lt(t,e),vt(e),r&4&&qc(e);break;case 21:break;default:lt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ef(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Jr(l,""),r.flags&=-33);var a=Hc(e);ki(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Hc(e);Si(e,o,i);break;default:throw Error(R(161))}}catch(c){de(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hh(e,t,n){A=e,Rf(e)}function Rf(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var l=A,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Dl;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Ee;o=Dl;var u=Ee;if(Dl=i,(Ee=c)&&!u)for(A=l;A!==null;)i=A,c=i.child,i.tag===22&&i.memoizedState!==null?Qc(l):c!==null?(c.return=i,A=c):Qc(l);for(;a!==null;)A=a,Rf(a),a=a.sibling;A=l,Dl=o,Ee=u}Gc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,A=a):Gc(e)}}function Gc(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||Ws(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Tc(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&nl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ee||t.flags&512&&Ni(t)}catch(m){de(t,t.return,m)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Kc(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Qc(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ws(4,t)}catch(c){de(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){de(t,l,c)}}var a=t.return;try{Ni(t)}catch(c){de(t,a,c)}break;case 5:var i=t.return;try{Ni(t)}catch(c){de(t,i,c)}}}catch(c){de(t,t.return,c)}if(t===e){A=null;break}var o=t.sibling;if(o!==null){o.return=t.return,A=o;break}A=t.return}}var qh=Math.ceil,Ss=Ot.ReactCurrentDispatcher,So=Ot.ReactCurrentOwner,et=Ot.ReactCurrentBatchConfig,Y=0,xe=null,he=null,Ne=0,Ue=0,Yn=cn(0),ve=0,ml=null,Pn=0,Vs=0,ko=0,Kr=null,Ie=null,Co=0,dr=1/0,St=null,ks=!1,Ci=null,en=null,Fl=!1,Gt=null,Cs=0,Qr=0,Ei=null,ts=-1,ns=0;function Te(){return Y&6?me():ts!==-1?ts:ts=me()}function tn(e){return e.mode&1?Y&2&&Ne!==0?Ne&-Ne:Ph.transition!==null?(ns===0&&(ns=md()),ns):(e=ee,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function dt(e,t,n,r){if(50<Qr)throw Qr=0,Ei=null,Error(R(185));yl(e,n,r),(!(Y&2)||e!==xe)&&(e===xe&&(!(Y&2)&&(Vs|=n),ve===4&&Vt(e,Ne)),ze(e,r),n===1&&Y===0&&!(t.mode&1)&&(dr=me()+500,zs&&un()))}function ze(e,t){var n=e.callbackNode;Pp(e,t);var r=cs(e,e===xe?Ne:0);if(r===0)n!==null&&lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lc(n),t===1)e.tag===0?_h(Yc.bind(null,e)):$d(Yc.bind(null,e)),Sh(function(){!(Y&6)&&un()}),n=null;else{switch(pd(r)){case 1:n=Xi;break;case 4:n=dd;break;case 16:n=os;break;case 536870912:n=fd;break;default:n=os}n=Ff(n,Tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tf(e,t){if(ts=-1,ns=0,Y&6)throw Error(R(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var r=cs(e,e===xe?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Es(e,r);else{t=r;var l=Y;Y|=2;var a=Of();(xe!==e||Ne!==t)&&(St=null,dr=me()+500,Nn(e,t));do try{Qh();break}catch(o){Lf(e,o)}while(!0);uo(),Ss.current=a,Y=l,he!==null?t=0:(xe=null,Ne=0,t=ve)}if(t!==0){if(t===2&&(l=ei(e),l!==0&&(r=l,t=_i(e,l))),t===1)throw n=ml,Nn(e,0),Vt(e,r),ze(e,me()),n;if(t===6)Vt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Gh(l)&&(t=Es(e,r),t===2&&(a=ei(e),a!==0&&(r=a,t=_i(e,a))),t===1))throw n=ml,Nn(e,0),Vt(e,r),ze(e,me()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:gn(e,Ie,St);break;case 3:if(Vt(e,r),(r&130023424)===r&&(t=Co+500-me(),10<t)){if(cs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=oi(gn.bind(null,e,Ie,St),t);break}gn(e,Ie,St);break;case 4:if(Vt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-ut(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qh(r/1960))-r,10<r){e.timeoutHandle=oi(gn.bind(null,e,Ie,St),r);break}gn(e,Ie,St);break;case 5:gn(e,Ie,St);break;default:throw Error(R(329))}}}return ze(e,me()),e.callbackNode===n?Tf.bind(null,e):null}function _i(e,t){var n=Kr;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=Es(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&Pi(t)),e}function Pi(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Gh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!ft(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~ko,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function Yc(e){if(Y&6)throw Error(R(327));lr();var t=cs(e,0);if(!(t&1))return ze(e,me()),null;var n=Es(e,t);if(e.tag!==0&&n===2){var r=ei(e);r!==0&&(t=r,n=_i(e,r))}if(n===1)throw n=ml,Nn(e,0),Vt(e,t),ze(e,me()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Ie,St),ze(e,me()),null}function Eo(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(dr=me()+500,zs&&un())}}function Rn(e){Gt!==null&&Gt.tag===0&&!(Y&6)&&lr();var t=Y;Y|=1;var n=et.transition,r=ee;try{if(et.transition=null,ee=1,e)return e()}finally{ee=r,et.transition=n,Y=t,!(Y&6)&&un()}}function _o(){Ue=Yn.current,ae(Yn)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nh(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(io(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ps();break;case 3:cr(),ae(Fe),ae(_e),vo();break;case 5:go(r);break;case 4:cr();break;case 13:ae(oe);break;case 19:ae(oe);break;case 10:fo(r.type._context);break;case 22:case 23:_o()}n=n.return}if(xe=e,he=e=nn(e.current,null),Ne=Ue=t,ve=0,ml=null,ko=Vs=Pn=0,Ie=Kr=null,wn!==null){for(t=0;t<wn.length;t++)if(n=wn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}n.pending=r}wn=null}return e}function Lf(e,t){do{var n=he;try{if(uo(),Jl.current=Ns,bs){for(var r=ce.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}bs=!1}if(_n=0,ye=ge=ce=null,qr=!1,ul=0,So.current=null,n===null||n.return===null){ve=1,ml=t,he=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=Ne,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=Dc(i);if(b!==null){b.flags&=-257,Fc(b,i,o,a,t),b.mode&1&&Ac(a,u,t),t=b,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){Ac(a,u,t),Po();break e}c=Error(R(426))}}else if(ie&&o.mode&1){var w=Dc(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Fc(w,i,o,a,t),oo(ur(c,o));break e}}a=c=ur(c,o),ve!==4&&(ve=2),Kr===null?Kr=[a]:Kr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=hf(a,c,t);Rc(a,g);break e;case 1:o=c;var f=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(en===null||!en.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=gf(a,o,t);Rc(a,N);break e}}a=a.return}while(a!==null)}If(n)}catch(k){t=k,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Of(){var e=Ss.current;return Ss.current=Ns,e===null?Ns:e}function Po(){(ve===0||ve===3||ve===2)&&(ve=4),xe===null||!(Pn&268435455)&&!(Vs&268435455)||Vt(xe,Ne)}function Es(e,t){var n=Y;Y|=2;var r=Of();(xe!==e||Ne!==t)&&(St=null,Nn(e,t));do try{Kh();break}catch(l){Lf(e,l)}while(!0);if(uo(),Y=n,Ss.current=r,he!==null)throw Error(R(261));return xe=null,Ne=0,ve}function Kh(){for(;he!==null;)Mf(he)}function Qh(){for(;he!==null&&!jp();)Mf(he)}function Mf(e){var t=Df(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?If(e):he=t,So.current=null}function If(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bh(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,he=null;return}}else if(n=Uh(n,t,Ue),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);ve===0&&(ve=5)}function gn(e,t,n){var r=ee,l=et.transition;try{et.transition=null,ee=1,Yh(e,t,n,r)}finally{et.transition=l,ee=r}return null}function Yh(e,t,n,r){do lr();while(Gt!==null);if(Y&6)throw Error(R(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Rp(e,a),e===xe&&(he=xe=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fl||(Fl=!0,Ff(os,function(){return lr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=et.transition,et.transition=null;var i=ee;ee=1;var o=Y;Y|=4,So.current=null,Vh(e,n),Pf(n,e),gh(ai),us=!!si,ai=si=null,e.current=n,Hh(n),wp(),Y=o,ee=i,et.transition=a}else e.current=n;if(Fl&&(Fl=!1,Gt=e,Cs=l),a=e.pendingLanes,a===0&&(en=null),Sp(n.stateNode),ze(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ks)throw ks=!1,e=Ci,Ci=null,e;return Cs&1&&e.tag!==0&&lr(),a=e.pendingLanes,a&1?e===Ei?Qr++:(Qr=0,Ei=e):Qr=0,un(),null}function lr(){if(Gt!==null){var e=pd(Cs),t=et.transition,n=ee;try{if(et.transition=null,ee=16>e?16:e,Gt===null)var r=!1;else{if(e=Gt,Gt=null,Cs=0,Y&6)throw Error(R(331));var l=Y;for(Y|=4,A=e.current;A!==null;){var a=A,i=a.child;if(A.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(A=u;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:Gr(8,h,a)}var p=h.child;if(p!==null)p.return=h,A=p;else for(;A!==null;){h=A;var m=h.sibling,b=h.return;if(Cf(h),h===u){A=null;break}if(m!==null){m.return=b,A=m;break}A=b}}}var y=a.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}A=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,A=i;else e:for(;A!==null;){if(a=A,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Gr(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,A=g;break e}A=a.return}}var f=e.current;for(A=f;A!==null;){i=A;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,A=v;else e:for(i=f;A!==null;){if(o=A,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ws(9,o)}}catch(k){de(o,o.return,k)}if(o===i){A=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,A=N;break e}A=o.return}}if(Y=l,un(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Is,e)}catch{}r=!0}return r}finally{ee=n,et.transition=t}}return!1}function Xc(e,t,n){t=ur(n,t),t=hf(e,t,1),e=Zt(e,t,1),t=Te(),e!==null&&(yl(e,1,t),ze(e,t))}function de(e,t,n){if(e.tag===3)Xc(e,e,n);else for(;t!==null;){if(t.tag===3){Xc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(en===null||!en.has(r))){e=ur(n,e),e=gf(t,e,1),t=Zt(t,e,1),e=Te(),t!==null&&(yl(t,1,e),ze(t,e));break}}t=t.return}}function Xh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(Ne&n)===n&&(ve===4||ve===3&&(Ne&130023424)===Ne&&500>me()-Co?Nn(e,0):ko|=n),ze(e,t)}function Af(e,t){t===0&&(e.mode&1?(t=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):t=1);var n=Te();e=Tt(e,t),e!==null&&(yl(e,t,n),ze(e,n))}function Jh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Af(e,n)}function Zh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Af(e,n)}var Df;Df=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)De=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return De=!1,zh(e,t,n);De=!!(e.flags&131072)}else De=!1,ie&&t.flags&1048576&&zd(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;es(e,t),e=t.pendingProps;var l=ar(t,_e.current);rr(t,n),l=xo(null,t,r,e,l,n);var a=jo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(r)?(a=!0,hs(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,po(t),l.updater=Bs,t.stateNode=l,l._reactInternals=t,hi(t,r,e,n),t=yi(null,t,r,!0,a,n)):(t.tag=0,ie&&a&&ao(t),Re(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(es(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=tg(r),e=st(r,e),l){case 0:t=vi(null,t,r,e,n);break e;case 1:t=Uc(null,t,r,e,n);break e;case 11:t=$c(null,t,r,e,n);break e;case 14:t=zc(null,t,r,st(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),vi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),Uc(e,t,r,l,n);case 3:e:{if(jf(t),e===null)throw Error(R(387));r=t.pendingProps,a=t.memoizedState,l=a.element,qd(e,t),js(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=ur(Error(R(423)),t),t=Bc(e,t,r,n,l);break e}else if(r!==l){l=ur(Error(R(424)),t),t=Bc(e,t,r,n,l);break e}else for(We=Jt(t.stateNode.containerInfo.firstChild),Ve=t,ie=!0,it=null,n=Vd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),r===l){t=Lt(e,t,n);break e}Re(e,t,r,n)}t=t.child}return t;case 5:return Gd(t),e===null&&fi(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ii(r,l)?i=null:a!==null&&ii(r,a)&&(t.flags|=32),xf(e,t),Re(e,t,i,n),t.child;case 6:return e===null&&fi(t),null;case 13:return wf(e,t,n);case 4:return ho(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,n):Re(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),$c(e,t,r,l,n);case 7:return Re(e,t,t.pendingProps,n),t.child;case 8:return Re(e,t,t.pendingProps.children,n),t.child;case 12:return Re(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,le(ys,r._currentValue),r._currentValue=i,a!==null)if(ft(a.value,i)){if(a.children===l.children&&!Fe.current){t=Lt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=_t(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),mi(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(R(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),mi(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Re(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,rr(t,n),l=tt(l),r=r(l),t.flags|=1,Re(e,t,r,n),t.child;case 14:return r=t.type,l=st(r,t.pendingProps),l=st(r.type,l),zc(e,t,r,l,n);case 15:return vf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),es(e,t),t.tag=1,$e(r)?(e=!0,hs(t)):e=!1,rr(t,n),pf(t,r,l),hi(t,r,l,n),yi(null,t,r,!0,e,n);case 19:return bf(e,t,n);case 22:return yf(e,t,n)}throw Error(R(156,t.tag))};function Ff(e,t){return ud(e,t)}function eg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,r){return new eg(e,t,n,r)}function Ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tg(e){if(typeof e=="function")return Ro(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ki)return 11;if(e===Qi)return 14}return 2}function nn(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rs(e,t,n,r,l,a){var i=2;if(r=e,typeof e=="function")Ro(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zn:return Sn(n.children,l,a,t);case Gi:i=8,l|=8;break;case $a:return e=Ze(12,n,t,l|2),e.elementType=$a,e.lanes=a,e;case za:return e=Ze(13,n,t,l),e.elementType=za,e.lanes=a,e;case Ua:return e=Ze(19,n,t,l),e.elementType=Ua,e.lanes=a,e;case Gu:return Hs(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hu:i=10;break e;case qu:i=9;break e;case Ki:i=11;break e;case Qi:i=14;break e;case zt:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ze(i,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function Sn(e,t,n,r){return e=Ze(7,e,r,t),e.lanes=n,e}function Hs(e,t,n,r){return e=Ze(22,e,r,t),e.elementType=Gu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ca(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function Ea(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ng(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function To(e,t,n,r,l,a,i,o,c){return e=new ng(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ze(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},po(a),e}function rg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$n,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $f(e){if(!e)return an;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if($e(n))return Fd(e,n,t)}return t}function zf(e,t,n,r,l,a,i,o,c){return e=To(n,r,!0,e,l,a,i,o,c),e.context=$f(null),n=e.current,r=Te(),l=tn(n),a=_t(r,l),a.callback=t??null,Zt(n,a,l),e.current.lanes=l,yl(e,l,r),ze(e,r),e}function qs(e,t,n,r){var l=t.current,a=Te(),i=tn(l);return n=$f(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(l,t,i),e!==null&&(dt(e,l,i,a),Xl(e,l,i)),i}function _s(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lo(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function lg(){return null}var Uf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oo(e){this._internalRoot=e}Gs.prototype.render=Oo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));qs(e,t,null,null)};Gs.prototype.unmount=Oo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){qs(null,e,null,null)}),t[Rt]=null}};function Gs(e){this._internalRoot=e}Gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=vd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&xd(e)}};function Mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zc(){}function sg(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=_s(i);a.call(u)}}var i=zf(t,r,e,0,null,!1,!1,"",Zc);return e._reactRootContainer=i,e[Rt]=i.current,sl(e.nodeType===8?e.parentNode:e),Rn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var u=_s(c);o.call(u)}}var c=To(e,0,!1,null,null,!1,!1,"",Zc);return e._reactRootContainer=c,e[Rt]=c.current,sl(e.nodeType===8?e.parentNode:e),Rn(function(){qs(t,c,n,r)}),c}function Qs(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=_s(i);o.call(c)}}qs(t,i,e,l)}else i=sg(n,t,e,l,r);return _s(i)}hd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dr(t.pendingLanes);n!==0&&(Ji(t,n|1),ze(t,me()),!(Y&6)&&(dr=me()+500,un()))}break;case 13:Rn(function(){var r=Tt(e,1);if(r!==null){var l=Te();dt(r,e,1,l)}}),Lo(e,1)}};Zi=function(e){if(e.tag===13){var t=Tt(e,134217728);if(t!==null){var n=Te();dt(t,e,134217728,n)}Lo(e,134217728)}};gd=function(e){if(e.tag===13){var t=tn(e),n=Tt(e,t);if(n!==null){var r=Te();dt(n,e,t,r)}Lo(e,t)}};vd=function(){return ee};yd=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};Xa=function(e,t,n){switch(t){case"input":if(Va(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=$s(r);if(!l)throw Error(R(90));Qu(r),Va(r,l)}}}break;case"textarea":Xu(e,n);break;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}};ld=Eo;sd=Rn;var ag={usingClientEntryPoint:!1,Events:[jl,Vn,$s,nd,rd,Eo]},Tr={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ig={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=od(e),e===null?null:e.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Is=$l.inject(ig),wt=$l}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mo(t))throw Error(R(200));return rg(e,t,null,n)};qe.createRoot=function(e,t){if(!Mo(e))throw Error(R(299));var n=!1,r="",l=Uf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=To(e,1,!1,null,null,n,!1,r,l),e[Rt]=t.current,sl(e.nodeType===8?e.parentNode:e),new Oo(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=od(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Rn(e)};qe.hydrate=function(e,t,n){if(!Ks(t))throw Error(R(200));return Qs(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Mo(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",i=Uf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=zf(t,null,e,1,n??null,l,!1,a,i),e[Rt]=t.current,sl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Gs(t)};qe.render=function(e,t,n){if(!Ks(t))throw Error(R(200));return Qs(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!Ks(e))throw Error(R(40));return e._reactRootContainer?(Rn(function(){Qs(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};qe.unstable_batchedUpdates=Eo;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ks(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Qs(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function Bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bf)}catch(e){console.error(e)}}Bf(),Uu.exports=qe;var Wf=Uu.exports;const Xn=Os(Wf);var Vf,eu=Wf;Vf=eu.createRoot,eu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(this,arguments)}var Kt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kt||(Kt={}));const tu="popstate";function og(e){e===void 0&&(e={});function t(r,l){let{pathname:a,search:i,hash:o}=r.location;return Ri("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Ps(l)}return ug(t,n,null,e)}function pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cg(){return Math.random().toString(36).substr(2,8)}function nu(e,t){return{usr:e.state,key:e.key,idx:t}}function Ri(e,t,n,r){return n===void 0&&(n=null),pl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hr(t):t,{state:n,key:t&&t.key||r||cg()})}function Ps(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ug(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,o=Kt.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(pl({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function p(){o=Kt.Pop;let w=h(),g=w==null?null:w-u;u=w,c&&c({action:o,location:x.location,delta:g})}function m(w,g){o=Kt.Push;let f=Ri(x.location,w,g);u=h()+1;let v=nu(f,u),N=x.createHref(f);try{i.pushState(v,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(N)}a&&c&&c({action:o,location:x.location,delta:1})}function b(w,g){o=Kt.Replace;let f=Ri(x.location,w,g);u=h();let v=nu(f,u),N=x.createHref(f);i.replaceState(v,"",N),a&&c&&c({action:o,location:x.location,delta:0})}function y(w){let g=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof w=="string"?w:Ps(w);return f=f.replace(/ $/,"%20"),pe(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let x={get action(){return o},get location(){return e(l,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(tu,p),c=w,()=>{l.removeEventListener(tu,p),c=null}},createHref(w){return t(l,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:b,go(w){return i.go(w)}};return x}var ru;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ru||(ru={}));function dg(e,t,n){return n===void 0&&(n="/"),fg(e,t,n)}function fg(e,t,n,r){let l=typeof t=="string"?hr(t):t,a=Io(l.pathname||"/",n);if(a==null)return null;let i=qf(e);mg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=kg(a);o=bg(i[c],u)}return o}function qf(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(pe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=rn([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(pe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qf(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:jg(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of Gf(a.path))l(a,i,c)}),t}function Gf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=Gf(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function mg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:wg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pg=/^:[\w-]+$/,hg=3,gg=2,vg=1,yg=10,xg=-2,lu=e=>e==="*";function jg(e,t){let n=e.split("/"),r=n.length;return n.some(lu)&&(r+=xg),t&&(r+=gg),n.filter(l=>!lu(l)).reduce((l,a)=>l+(pg.test(a)?hg:a===""?vg:yg),r)}function wg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function bg(e,t,n){let{routesMeta:r}=e,l={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",p=Ng({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!p)return null;Object.assign(l,p.params),i.push({params:l,pathname:rn([a,p.pathname]),pathnameBase:Pg(rn([a,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(a=rn([a,p.pathnameBase]))}return i}function Ng(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Sg(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:b}=h;if(m==="*"){let x=o[p]||"";i=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[p];return b&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Sg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function kg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Io(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Cg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?hr(e):e;return{pathname:n?n.startsWith("/")?n:Eg(n,t):t,search:Rg(r),hash:Tg(l)}}function Eg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function _a(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _g(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ao(e,t){let n=_g(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Do(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=hr(e):(l=pl({},e),pe(!l.pathname||!l.pathname.includes("?"),_a("?","pathname","search",l)),pe(!l.pathname||!l.pathname.includes("#"),_a("#","pathname","hash",l)),pe(!l.search||!l.search.includes("#"),_a("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let p=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),p-=1;l.pathname=m.join("/")}o=p>=0?t[p]:"/"}let c=Cg(l,o),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const rn=e=>e.join("/").replace(/\/\/+/g,"/"),Pg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kf=["post","put","patch","delete"];new Set(Kf);const Og=["get",...Kf];new Set(Og);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hl.apply(this,arguments)}const Fo=d.createContext(null),Mg=d.createContext(null),dn=d.createContext(null),Ys=d.createContext(null),fn=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Qf=d.createContext(null);function Ig(e,t){let{relative:n}=t===void 0?{}:t;gr()||pe(!1);let{basename:r,navigator:l}=d.useContext(dn),{hash:a,pathname:i,search:o}=Xf(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:rn([r,i])),l.createHref({pathname:c,search:o,hash:a})}function gr(){return d.useContext(Ys)!=null}function vr(){return gr()||pe(!1),d.useContext(Ys).location}function Yf(e){d.useContext(dn).static||d.useLayoutEffect(e)}function yr(){let{isDataRoute:e}=d.useContext(fn);return e?Kg():Ag()}function Ag(){gr()||pe(!1);let e=d.useContext(Fo),{basename:t,future:n,navigator:r}=d.useContext(dn),{matches:l}=d.useContext(fn),{pathname:a}=vr(),i=JSON.stringify(Ao(l,n.v7_relativeSplatPath)),o=d.useRef(!1);return Yf(()=>{o.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let p=Do(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:rn([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,i,a,e])}function Xf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(dn),{matches:l}=d.useContext(fn),{pathname:a}=vr(),i=JSON.stringify(Ao(l,r.v7_relativeSplatPath));return d.useMemo(()=>Do(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function Dg(e,t){return Fg(e,t)}function Fg(e,t,n,r){gr()||pe(!1);let{navigator:l}=d.useContext(dn),{matches:a}=d.useContext(fn),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=vr(),h;if(t){var p;let w=typeof t=="string"?hr(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||pe(!1),h=w}else h=u;let m=h.pathname||"/",b=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=dg(e,{pathname:b}),x=Wg(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:rn([c,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:rn([c,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&x?d.createElement(Ys.Provider,{value:{location:hl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Kt.Pop}},x):x}function $g(){let e=Gg(),t=Lg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:l},n):null,null)}const zg=d.createElement($g,null);class Ug extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(fn.Provider,{value:this.props.routeContext},d.createElement(Qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bg(e){let{routeContext:t,match:n,children:r}=e,l=d.useContext(Fo);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(fn.Provider,{value:t},r)}function Wg(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||pe(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:b}=n,y=p.route.loader&&m[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,p,m)=>{let b,y=!1,x=null,w=null;n&&(b=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||zg,c&&(u<0&&m===0?(Qg("route-fallback"),y=!0,w=null):u===m&&(y=!0,w=p.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,m+1)),f=()=>{let v;return b?v=x:y?v=w:p.route.Component?v=d.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=h,d.createElement(Bg,{match:p,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?d.createElement(Ug,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var Jf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jf||{}),Zf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zf||{});function Vg(e){let t=d.useContext(Fo);return t||pe(!1),t}function Hg(e){let t=d.useContext(Mg);return t||pe(!1),t}function qg(e){let t=d.useContext(fn);return t||pe(!1),t}function em(e){let t=qg(),n=t.matches[t.matches.length-1];return n.route.id||pe(!1),n.route.id}function Gg(){var e;let t=d.useContext(Qf),n=Hg(),r=em();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Kg(){let{router:e}=Vg(Jf.UseNavigateStable),t=em(Zf.UseNavigateStable),n=d.useRef(!1);return Yf(()=>{n.current=!0}),d.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,hl({fromRouteId:t},a)))},[e,t])}const su={};function Qg(e,t,n){su[e]||(su[e]=!0)}function Yg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tm(e){let{to:t,replace:n,state:r,relative:l}=e;gr()||pe(!1);let{future:a,static:i}=d.useContext(dn),{matches:o}=d.useContext(fn),{pathname:c}=vr(),u=yr(),h=Do(t,Ao(o,a.v7_relativeSplatPath),c,l==="path"),p=JSON.stringify(h);return d.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:l}),[u,p,l,n,r]),null}function Ye(e){pe(!1)}function Xg(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Kt.Pop,navigator:a,static:i=!1,future:o}=e;gr()&&pe(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:a,static:i,future:hl({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=hr(r));let{pathname:h="/",search:p="",hash:m="",state:b=null,key:y="default"}=r,x=d.useMemo(()=>{let w=Io(h,c);return w==null?null:{location:{pathname:w,search:p,hash:m,state:b,key:y},navigationType:l}},[c,h,p,m,b,y,l]);return x==null?null:d.createElement(dn.Provider,{value:u},d.createElement(Ys.Provider,{children:n,value:x}))}function Jg(e){let{children:t,location:n}=e;return Dg(Ti(t),n)}new Promise(()=>{});function Ti(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let a=[...t,l];if(r.type===d.Fragment){n.push.apply(n,Ti(r.props.children,a));return}r.type!==Ye&&pe(!1),!r.props.index||!r.props.children||pe(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ti(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(this,arguments)}function Zg(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,a;for(a=0;a<r.length;a++)l=r[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function ev(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tv(e,t){return e.button===0&&(!t||t==="_self")&&!ev(e)}function Oi(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function nv(e,t){let n=Oi(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(a=>{n.append(l,a)})}),n}const rv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lv="6";try{window.__reactRouterVersion=lv}catch{}const sv="startTransition",au=Xm[sv];function av(e){let{basename:t,children:n,future:r,window:l}=e,a=d.useRef();a.current==null&&(a.current=og({window:l,v5Compat:!0}));let i=a.current,[o,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=d.useCallback(p=>{u&&au?au(()=>c(p)):c(p)},[c,u]);return d.useLayoutEffect(()=>i.listen(h),[i,h]),d.useEffect(()=>Yg(r),[r]),d.createElement(Xg,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=d.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:h,viewTransition:p}=t,m=Zg(t,rv),{basename:b}=d.useContext(dn),y,x=!1;if(typeof u=="string"&&ov.test(u)&&(y=u,iv))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=Io(N.pathname,b);N.origin===v.origin&&k!=null?u=k+N.search+N.hash:x=!0}catch{}let w=Ig(u,{relative:l}),g=cv(u,{replace:i,state:o,target:c,preventScrollReset:h,relative:l,viewTransition:p});function f(v){r&&r(v),v.defaultPrevented||g(v)}return d.createElement("a",Li({},m,{href:y||w,onClick:x||a?r:f,ref:n,target:c}))});var iu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iu||(iu={}));var ou;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ou||(ou={}));function cv(e,t){let{target:n,replace:r,state:l,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=yr(),u=vr(),h=Xf(e,{relative:i});return d.useCallback(p=>{if(tv(p,n)){p.preventDefault();let m=r!==void 0?r:Ps(u)===Ps(h);c(e,{replace:m,state:l,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,h,r,l,n,e,a,i,o])}function uv(e){let t=d.useRef(Oi(e)),n=d.useRef(!1),r=vr(),l=d.useMemo(()=>nv(r.search,n.current?null:t.current),[r.search]),a=yr(),i=d.useCallback((o,c)=>{const u=Oi(typeof o=="function"?o(l):o);n.current=!0,a("?"+u,c)},[a,l]);return[l,i]}const nm=d.createContext(null);function dv({children:e}){const[t,n]=d.useState(null),[r,l]=d.useState(null),[a,i]=d.useState(!0),[o,c]=d.useState(null),u="http://localhost:3000";d.useEffect(()=>{const y=localStorage.getItem("devsmith_token");y?(l(y),h(y)):i(!1)},[]);const h=async y=>{try{const x=await fetch(`${u}/api/portal/auth/me`,{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!x.ok){console.log("User not authenticated (401) - clearing session"),n(null),l(null),localStorage.removeItem("devsmith_token"),i(!1);return}const w=await x.json();n(w),c(null)}catch(x){console.error("Error fetching user:",x),n(null),l(null),localStorage.removeItem("devsmith_token")}finally{i(!1)}},b={user:t,token:r,loading:a,error:o,login:async(y,x)=>{try{const w=await fetch(`${u}/api/portal/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y,password:x})});if(!w.ok){const v=await w.json();throw new Error(v.error||"Login failed")}const f=(await w.json()).token;return l(f),localStorage.setItem("devsmith_token",f),await h(f),{success:!0}}catch(w){return console.error("Login error:",w),c(w.message),{success:!1,error:w.message}}},logout:()=>{l(null),n(null),localStorage.removeItem("devsmith_token"),c(null)},isAuthenticated:!!t};return s.jsx(nm.Provider,{value:b,children:e})}function On(){const e=d.useContext(nm);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const rm=d.createContext();function fv({children:e}){const[t,n]=d.useState(()=>{const l=localStorage.getItem("darkMode");return l?JSON.parse(l):!1});d.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(t)),t?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[t]);const r=()=>n(!t);return s.jsx(rm.Provider,{value:{isDarkMode:t,toggleTheme:r},children:e})}function Mn(){const e=d.useContext(rm);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}function cu(){const{user:e,logout:t}=On(),{isDarkMode:n,toggleTheme:r}=Mn(),l=yr(),a=()=>{t(),l("/login")};return s.jsxs("div",{className:"container mt-4",children:[s.jsx("nav",{className:"navbar navbar-expand-lg navbar-light frosted-card mb-4",children:s.jsxs("div",{className:"container-fluid",children:[s.jsx("span",{className:"navbar-brand fw-bold",style:{fontSize:"1.5rem",color:n?"#e0e7ff":"#1e293b"},children:"DevSmith Platform"}),s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsx("button",{onClick:r,className:"theme-toggle",title:"Toggle dark/light mode",children:s.jsx("i",{className:`bi ${n?"bi-sun-fill":"bi-moon-fill"}`})}),s.jsxs("span",{className:"me-3",children:["Welcome, ",(e==null?void 0:e.username)||(e==null?void 0:e.name),"!"]}),s.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:a,children:"Logout"})]})]})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 mb-4",children:s.jsxs("div",{className:"frosted-card p-4",children:[s.jsx("h2",{className:"mb-3",children:"Dashboard"}),s.jsx("p",{className:"mb-0",children:"Welcome to DevSmith Platform! Choose an application below to get started."})]})})}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6 col-lg-3 mb-4",children:s.jsx(ct,{to:"/health",className:"text-decoration-none",children:s.jsxs("div",{className:"frosted-card p-4 text-center h-100",children:[s.jsx("i",{className:"bi bi-heart-pulse mb-3",style:{fontSize:"3.3rem",color:"#06b6d4"}}),s.jsx("h5",{className:"mb-3",children:"Health"}),s.jsx("p",{className:"mb-0",style:{fontSize:"0.9rem"},children:"System Health monitoring, service logs, and diagnostics"})]})})}),s.jsx("div",{className:"col-md-6 col-lg-3 mb-4",children:s.jsx(ct,{to:"/review",className:"text-decoration-none",children:s.jsxs("div",{className:"frosted-card p-4 text-center h-100",children:[s.jsx("i",{className:"bi bi-code-square mb-3",style:{fontSize:"3.3rem",color:"#8b5cf6"}}),s.jsx("h5",{className:"mb-3",children:"Code Review"}),s.jsx("p",{className:"mb-0",style:{fontSize:"0.9rem"},children:"AI-powered code review with five reading modes"})]})})}),s.jsx("div",{className:"col-md-6 col-lg-3 mb-4",children:s.jsx(ct,{to:"/llm-config",className:"text-decoration-none",children:s.jsxs("div",{className:"frosted-card p-4 text-center h-100",children:[s.jsx("i",{className:"bi bi-robot mb-3",style:{fontSize:"3.3rem",color:"#10b981"}}),s.jsx("h5",{className:"mb-3",children:"AI Factory"}),s.jsx("p",{className:"mb-0",style:{fontSize:"0.9rem"},children:"Configure AI models and API keys for each app"})]})})}),s.jsx("div",{className:"col-md-6 col-lg-3 mb-4",children:s.jsx(ct,{to:"/projects",className:"text-decoration-none",children:s.jsxs("div",{className:"frosted-card p-4 text-center h-100",children:[s.jsx("i",{className:"bi bi-folder2-open mb-3",style:{fontSize:"3.3rem",color:"#f59e0b"}}),s.jsx("h5",{className:"mb-3",children:"Projects"}),s.jsx("p",{className:"mb-0",style:{fontSize:"0.9rem"},children:"Manage cross-repo logging projects and API keys"})]})})})]})]})}var lm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",i=0;i<arguments.length;i++){var o=arguments[i];o&&(a=l(a,r(o)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var i="";for(var o in a)t.call(a,o)&&a[o]&&(i=l(i,o));return i}function l(a,i){return i?a?a+" "+i:a+i:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(lm);var mv=lm.exports;const mt=Os(mv);function pv(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mi(e,t){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Mi(e,t)}function hv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Mi(e,t)}const gv=["xxl","xl","lg","md","sm","xs"],vv="xs",$o=d.createContext({prefixes:{},breakpoints:gv,minBreakpoint:vv}),{Consumer:h0,Provider:g0}=$o;function xr(e,t){const{prefixes:n}=d.useContext($o);return e||n[t]||t}function yv(){const{dir:e}=d.useContext($o);return e==="rtl"}function Xs(e){return e&&e.ownerDocument||document}function xv(e){var t=Xs(e);return t&&t.defaultView||window}function jv(e,t){return xv(e).getComputedStyle(e,t)}var wv=/([A-Z])/g;function bv(e){return e.replace(wv,"-$1").toLowerCase()}var Nv=/^ms-/;function zl(e){return bv(e).replace(Nv,"-ms-")}var Sv=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function kv(e){return!!(e&&Sv.test(e))}function kn(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(zl(t))||jv(e).getPropertyValue(zl(t));Object.keys(t).forEach(function(l){var a=t[l];!a&&a!==0?e.style.removeProperty(zl(l)):kv(l)?r+=l+"("+a+") ":n+=zl(l)+": "+a+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var sm={exports:{}},Cv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ev=Cv,_v=Ev;function am(){}function im(){}im.resetWarningCache=am;var Pv=function(){function e(r,l,a,i,o,c){if(c!==_v){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:im,resetWarningCache:am};return n.PropTypes=n,n};sm.exports=Pv();var Rv=sm.exports;const Ht=Os(Rv),uu={disabled:!1},om=Ae.createContext(null);var Tv=function(t){return t.scrollTop},$r="unmounted",vn="exited",Bt="entering",yn="entered",Ii="exiting",Mt=function(e){hv(t,e);function t(r,l){var a;a=e.call(this,r,l)||this;var i=l,o=i&&!i.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?o?(c=vn,a.appearStatus=Bt):c=yn:r.unmountOnExit||r.mountOnEnter?c=$r:c=vn,a.state={status:c},a.nextCallback=null,a}t.getDerivedStateFromProps=function(l,a){var i=l.in;return i&&a.status===$r?{status:vn}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(l){var a=null;if(l!==this.props){var i=this.state.status;this.props.in?i!==Bt&&i!==yn&&(a=Bt):(i===Bt||i===yn)&&(a=Ii)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var l=this.props.timeout,a,i,o;return a=i=o=l,l!=null&&typeof l!="number"&&(a=l.exit,i=l.enter,o=l.appear!==void 0?l.appear:i),{exit:a,enter:i,appear:o}},n.updateStatus=function(l,a){if(l===void 0&&(l=!1),a!==null)if(this.cancelNextCallback(),a===Bt){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Xn.findDOMNode(this);i&&Tv(i)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vn&&this.setState({status:$r})},n.performEnter=function(l){var a=this,i=this.props.enter,o=this.context?this.context.isMounting:l,c=this.props.nodeRef?[o]:[Xn.findDOMNode(this),o],u=c[0],h=c[1],p=this.getTimeouts(),m=o?p.appear:p.enter;if(!l&&!i||uu.disabled){this.safeSetState({status:yn},function(){a.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:Bt},function(){a.props.onEntering(u,h),a.onTransitionEnd(m,function(){a.safeSetState({status:yn},function(){a.props.onEntered(u,h)})})})},n.performExit=function(){var l=this,a=this.props.exit,i=this.getTimeouts(),o=this.props.nodeRef?void 0:Xn.findDOMNode(this);if(!a||uu.disabled){this.safeSetState({status:vn},function(){l.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:Ii},function(){l.props.onExiting(o),l.onTransitionEnd(i.exit,function(){l.safeSetState({status:vn},function(){l.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(l,a){a=this.setNextCallback(a),this.setState(l,a)},n.setNextCallback=function(l){var a=this,i=!0;return this.nextCallback=function(o){i&&(i=!1,a.nextCallback=null,l(o))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(l,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:Xn.findDOMNode(this),o=l==null&&!this.props.addEndListener;if(!i||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}l!=null&&setTimeout(this.nextCallback,l)},n.render=function(){var l=this.state.status;if(l===$r)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=pv(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ae.createElement(om.Provider,{value:null},typeof i=="function"?i(l,o):Ae.cloneElement(Ae.Children.only(i),o))},t}(Ae.Component);Mt.contextType=om;Mt.propTypes={};function An(){}Mt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:An,onEntering:An,onEntered:An,onExit:An,onExiting:An,onExited:An};Mt.UNMOUNTED=$r;Mt.EXITED=vn;Mt.ENTERING=Bt;Mt.ENTERED=yn;Mt.EXITING=Ii;function Lv(e){return e.code==="Escape"||e.keyCode===27}function Ov(){const e=d.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Js(e){if(!e||typeof e=="function")return null;const{major:t}=Ov();return t>=19?e.props.ref:e.ref}const jr=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ai=!1,Di=!1;try{var Pa={get passive(){return Ai=!0},get once(){return Di=Ai=!0}};jr&&(window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,!0))}catch{}function cm(e,t,n,r){if(r&&typeof r!="boolean"&&!Di){var l=r.once,a=r.capture,i=n;!Di&&l&&(i=n.__once||function o(c){this.removeEventListener(t,o,a),n.call(this,c)},n.__once=i),e.addEventListener(t,i,Ai?r:a)}e.addEventListener(t,n,r)}function Fi(e,t,n,r){var l=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,l),n.__once&&e.removeEventListener(t,n.__once,l)}function Rs(e,t,n,r){return cm(e,t,n,r),function(){Fi(e,t,n,r)}}function Mv(e,t,n,r){if(r===void 0&&(r=!0),e){var l=document.createEvent("HTMLEvents");l.initEvent(t,n,r),e.dispatchEvent(l)}}function Iv(e){var t=kn(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function Av(e,t,n){n===void 0&&(n=5);var r=!1,l=setTimeout(function(){r||Mv(e,"transitionend",!0)},t+n),a=Rs(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(l),a()}}function um(e,t,n,r){n==null&&(n=Iv(e)||0);var l=Av(e,n,r),a=Rs(e,"transitionend",t);return function(){l(),a()}}function du(e,t){const n=kn(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Dv(e,t){const n=du(e,"transitionDuration"),r=du(e,"transitionDelay"),l=um(e,a=>{a.target===e&&(l(),t(a))},n+r)}function Fv(e){e.offsetHeight}const fu=e=>!e||typeof e=="function"?e:t=>{e.current=t};function $v(e,t){const n=fu(e),r=fu(t);return l=>{n&&n(l),r&&r(l)}}function dm(e,t){return d.useMemo(()=>$v(e,t),[e,t])}function zv(e){return e&&"setState"in e?Xn.findDOMNode(e):e??null}const fm=Ae.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:l,onExited:a,addEndListener:i,children:o,childRef:c,...u},h)=>{const p=d.useRef(null),m=dm(p,c),b=S=>{m(zv(S))},y=S=>j=>{S&&p.current&&S(p.current,j)},x=d.useCallback(y(e),[e]),w=d.useCallback(y(t),[t]),g=d.useCallback(y(n),[n]),f=d.useCallback(y(r),[r]),v=d.useCallback(y(l),[l]),N=d.useCallback(y(a),[a]),k=d.useCallback(y(i),[i]);return s.jsx(Mt,{ref:h,...u,onEnter:x,onEntered:g,onEntering:w,onExit:f,onExited:N,onExiting:v,addEndListener:k,nodeRef:p,children:typeof o=="function"?(S,j)=>o(S,{...j,ref:b}):Ae.cloneElement(o,{ref:b})})});fm.displayName="TransitionWrapper";function Uv(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e},[e]),t}function $i(e){const t=Uv(e);return d.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Bv=e=>d.forwardRef((t,n)=>s.jsx("div",{...t,ref:n,className:mt(t.className,e)}));function Wv(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e},[e]),t}function xn(e){const t=Wv(e);return d.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Vv(){const e=d.useRef(!0),t=d.useRef(()=>e.current);return d.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Hv(e){const t=d.useRef(null);return d.useEffect(()=>{t.current=e}),t.current}const qv=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Gv=typeof document<"u",mu=Gv||qv?d.useLayoutEffect:d.useEffect,Kv={[Bt]:"show",[yn]:"show"},zo=d.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...l},a)=>{const i={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},o=d.useCallback((c,u)=>{Fv(c),r==null||r(c,u)},[r]);return s.jsx(fm,{ref:a,addEndListener:Dv,...i,onEnter:o,childRef:Js(t),children:(c,u)=>d.cloneElement(t,{...u,className:mt("fade",e,t.props.className,Kv[c],n[c])})})});zo.displayName="Fade";const Qv={"aria-label":Ht.string,onClick:Ht.func,variant:Ht.oneOf(["white"])},Uo=d.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},l)=>s.jsx("button",{ref:l,type:"button",className:mt("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));Uo.displayName="CloseButton";Uo.propTypes=Qv;function Yv(e){const t=d.useRef(e);return t.current=e,t}function Xv(e){const t=Yv(e);d.useEffect(()=>()=>t.current(),[])}var Jv=Function.prototype.bind.call(Function.prototype.call,[].slice);function Dn(e,t){return Jv(e.querySelectorAll(t))}function pu(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Zv="data-rr-ui-";function ey(e){return`${Zv}${e}`}const mm=d.createContext(jr?window:void 0);mm.Provider;function Bo(){return d.useContext(mm)}const hu=e=>!e||typeof e=="function"?e:t=>{e.current=t};function ty(e,t){const n=hu(e),r=hu(t);return l=>{n&&n(l),r&&r(l)}}function Wo(e,t){return d.useMemo(()=>ty(e,t),[e,t])}var Ul;function gu(e){if((!Ul&&Ul!==0||e)&&jr){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ul=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ul}function ny(){return d.useState(null)}function Ra(e){e===void 0&&(e=Xs());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function ry(e){const t=d.useRef(e);return t.current=e,t}function ly(e){const t=ry(e);d.useEffect(()=>()=>t.current(),[])}function sy(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const vu=ey("modal-open");class Vo{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return sy(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",l=this.getElement();t.style={overflow:l.style.overflow,[r]:l.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(kn(l,r)||"0",10)+t.scrollBarWidth}px`),l.setAttribute(vu,""),kn(l,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(vu),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Ta=(e,t)=>jr?e==null?(t||Xs()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ay(e,t){const n=Bo(),[r,l]=d.useState(()=>Ta(e,n==null?void 0:n.document));if(!r){const a=Ta(e);a&&l(a)}return d.useEffect(()=>{},[t,r]),d.useEffect(()=>{const a=Ta(e);a!==r&&l(a)},[e,r]),r}function iy({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:l}){const a=d.useRef(null),i=d.useRef(t),o=xn(n);d.useEffect(()=>{t?i.current=!0:o(a.current)},[t,o]);const c=Wo(a,Js(e)),u=d.cloneElement(e,{ref:c});return t?u:l||!i.current&&r?null:u}const oy=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function cy(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uy(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:l,onExiting:a,onExited:i,addEndListener:o,children:c}=e,u=cy(e,oy);const h=d.useRef(null),p=Wo(h,Js(c)),m=N=>k=>{N&&h.current&&N(h.current,k)},b=d.useCallback(m(t),[t]),y=d.useCallback(m(n),[n]),x=d.useCallback(m(r),[r]),w=d.useCallback(m(l),[l]),g=d.useCallback(m(a),[a]),f=d.useCallback(m(i),[i]),v=d.useCallback(m(o),[o]);return Object.assign({},u,{nodeRef:h},t&&{onEnter:b},n&&{onEntering:y},r&&{onEntered:x},l&&{onExit:w},a&&{onExiting:g},i&&{onExited:f},o&&{addEndListener:v},{children:typeof c=="function"?(N,k)=>c(N,Object.assign({},k,{ref:p})):d.cloneElement(c,{ref:p})})}const dy=["component"];function fy(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const my=d.forwardRef((e,t)=>{let{component:n}=e,r=fy(e,dy);const l=uy(r);return s.jsx(n,Object.assign({ref:t},l))});function py({in:e,onTransition:t}){const n=d.useRef(null),r=d.useRef(!0),l=xn(t);return mu(()=>{if(!n.current)return;let a=!1;return l({in:e,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[e,l]),mu(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function hy({children:e,in:t,onExited:n,onEntered:r,transition:l}){const[a,i]=d.useState(!t);t&&a&&i(!1);const o=py({in:!!t,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(i(!0),n==null||n(u.element)))};Promise.resolve(l(u)).then(h,p=>{throw u.in||i(!0),p})}}),c=Wo(o,Js(e));return a&&!t?null:d.cloneElement(e,{ref:c})}function yu(e,t,n){return e?s.jsx(my,Object.assign({},n,{component:e})):t?s.jsx(hy,Object.assign({},n,{transition:t})):s.jsx(iy,Object.assign({},n))}const gy=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vy(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let La;function yy(e){return La||(La=new Vo({ownerDocument:e==null?void 0:e.document})),La}function xy(e){const t=Bo(),n=e||yy(t),r=d.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:d.useCallback(l=>{r.current.dialog=l},[]),setBackdropRef:d.useCallback(l=>{r.current.backdrop=l},[])})}const pm=d.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:l,style:a,children:i,backdrop:o=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:p,runTransition:m,backdropTransition:b,runBackdropTransition:y,autoFocus:x=!0,enforceFocus:w=!0,restoreFocus:g=!0,restoreFocusOptions:f,renderDialog:v,renderBackdrop:N=Z=>s.jsx("div",Object.assign({},Z)),manager:k,container:S,onShow:j,onHide:E=()=>{},onExit:O,onExited:T,onExiting:H,onEnter:ne,onEntering:$,onEntered:Q}=e,D=vy(e,gy);const L=Bo(),W=ay(S),_=xy(k),I=Vv(),U=Hv(n),[M,F]=d.useState(!n),K=d.useRef(null);d.useImperativeHandle(t,()=>_,[_]),jr&&!U&&n&&(K.current=Ra(L==null?void 0:L.document)),n&&M&&F(!1);const X=xn(()=>{if(_.add(),Ke.current=Rs(document,"keydown",mn),pt.current=Rs(document,"focus",()=>setTimeout(Pe),!0),j&&j(),x){var Z,It;const gt=Ra((Z=(It=_.dialog)==null?void 0:It.ownerDocument)!=null?Z:L==null?void 0:L.document);_.dialog&&gt&&!pu(_.dialog,gt)&&(K.current=gt,_.dialog.focus())}}),fe=xn(()=>{if(_.remove(),Ke.current==null||Ke.current(),pt.current==null||pt.current(),g){var Z;(Z=K.current)==null||Z.focus==null||Z.focus(f),K.current=null}});d.useEffect(()=>{!n||!W||X()},[n,W,X]),d.useEffect(()=>{M&&fe()},[M,fe]),ly(()=>{fe()});const Pe=xn(()=>{if(!w||!I()||!_.isTopModal())return;const Z=Ra(L==null?void 0:L.document);_.dialog&&Z&&!pu(_.dialog,Z)&&_.dialog.focus()}),Me=xn(Z=>{Z.target===Z.currentTarget&&(u==null||u(Z),o===!0&&E())}),mn=xn(Z=>{c&&Lv(Z)&&_.isTopModal()&&(h==null||h(Z),Z.defaultPrevented||E())}),pt=d.useRef(),Ke=d.useRef(),Nt=(...Z)=>{F(!0),T==null||T(...Z)};if(!W)return null;const Qe=Object.assign({role:r,ref:_.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},D,{style:a,className:l,tabIndex:-1});let rt=v?v(Qe):s.jsx("div",Object.assign({},Qe,{children:d.cloneElement(i,{role:"document"})}));rt=yu(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:O,onExiting:H,onExited:Nt,onEnter:ne,onEntering:$,onEntered:Q,children:rt});let ht=null;return o&&(ht=N({ref:_.setBackdropRef,onClick:Me}),ht=yu(b,y,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ht})),s.jsx(s.Fragment,{children:Xn.createPortal(s.jsxs(s.Fragment,{children:[ht,rt]}),W)})});pm.displayName="Modal";const jy=Object.assign(pm,{Manager:Vo});function wy(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function by(e,t){e.classList?e.classList.add(t):wy(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function xu(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ny(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=xu(e.className,t):e.setAttribute("class",xu(e.className&&e.className.baseVal||"",t))}const Fn={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Sy extends Vo{adjustAndStore(t,n,r){const l=n.style[t];n.dataset[t]=l,kn(n,{[t]:`${parseFloat(kn(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],kn(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(by(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";Dn(n,Fn.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth)),Dn(n,Fn.STICKY_CONTENT).forEach(a=>this.adjustAndStore(l,a,-t.scrollBarWidth)),Dn(n,Fn.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(l,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Ny(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";Dn(n,Fn.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Dn(n,Fn.STICKY_CONTENT).forEach(a=>this.restore(l,a)),Dn(n,Fn.NAVBAR_TOGGLER).forEach(a=>this.restore(l,a))}}let Oa;function ky(e){return Oa||(Oa=new Sy(e)),Oa}const hm=d.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},l)=>(t=xr(t,"modal-body"),s.jsx(n,{ref:l,className:mt(e,t),...r})));hm.displayName="ModalBody";const gm=d.createContext({onHide(){}}),Ho=d.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:l,fullscreen:a,children:i,scrollable:o,...c},u)=>{e=xr(e,"modal");const h=`${e}-dialog`,p=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return s.jsx("div",{...c,ref:u,className:mt(h,t,l&&`${e}-${l}`,r&&`${h}-centered`,o&&`${h}-scrollable`,a&&p),children:s.jsx("div",{className:mt(`${e}-content`,n),children:i})})});Ho.displayName="ModalDialog";const vm=d.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},l)=>(t=xr(t,"modal-footer"),s.jsx(n,{ref:l,className:mt(e,t),...r})));vm.displayName="ModalFooter";const ym=d.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:l,...a},i)=>{const o=d.useContext(gm),c=$i(()=>{o==null||o.onHide(),r==null||r()});return s.jsxs("div",{ref:i,...a,children:[l,n&&s.jsx(Uo,{"aria-label":e,variant:t,onClick:c})]})});ym.displayName="AbstractModalHeader";const xm=d.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...l},a)=>(e=xr(e,"modal-header"),s.jsx(ym,{ref:a,...l,className:mt(t,e),closeLabel:n,closeButton:r})));xm.displayName="ModalHeader";const Cy=Bv("h4"),jm=d.forwardRef(({className:e,bsPrefix:t,as:n=Cy,...r},l)=>(t=xr(t,"modal-title"),s.jsx(n,{ref:l,className:mt(e,t),...r})));jm.displayName="ModalTitle";function Ey(e){return s.jsx(zo,{...e,timeout:null})}function _y(e){return s.jsx(zo,{...e,timeout:null})}const wm=d.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:l,children:a,dialogAs:i=Ho,"data-bs-theme":o,"aria-labelledby":c,"aria-describedby":u,"aria-label":h,show:p=!1,animation:m=!0,backdrop:b=!0,keyboard:y=!0,onEscapeKeyDown:x,onShow:w,onHide:g,container:f,autoFocus:v=!0,enforceFocus:N=!0,restoreFocus:k=!0,restoreFocusOptions:S,onEntered:j,onExit:E,onExiting:O,onEnter:T,onEntering:H,onExited:ne,backdropClassName:$,manager:Q,...D},L)=>{const[W,_]=d.useState({}),[I,U]=d.useState(!1),M=d.useRef(!1),F=d.useRef(!1),K=d.useRef(null),[X,fe]=ny(),Pe=dm(L,fe),Me=$i(g),mn=yv();e=xr(e,"modal");const pt=d.useMemo(()=>({onHide:Me}),[Me]);function Ke(){return Q||ky({isRTL:mn})}function Nt(P){if(!jr)return;const B=Ke().getScrollbarWidth()>0,J=P.scrollHeight>Xs(P).documentElement.clientHeight;_({paddingRight:B&&!J?gu():void 0,paddingLeft:!B&&J?gu():void 0})}const Qe=$i(()=>{X&&Nt(X.dialog)});Xv(()=>{Fi(window,"resize",Qe),K.current==null||K.current()});const rt=()=>{M.current=!0},ht=P=>{M.current&&X&&P.target===X.dialog&&(F.current=!0),M.current=!1},Z=()=>{U(!0),K.current=um(X.dialog,()=>{U(!1)})},It=P=>{P.target===P.currentTarget&&Z()},gt=P=>{if(b==="static"){It(P);return}if(F.current||P.target!==P.currentTarget){F.current=!1;return}g==null||g()},pn=P=>{y?x==null||x(P):(P.preventDefault(),b==="static"&&Z())},At=(P,B)=>{P&&Nt(P),T==null||T(P,B)},wr=P=>{K.current==null||K.current(),E==null||E(P)},z=(P,B)=>{H==null||H(P,B),cm(window,"resize",Qe)},re=P=>{P&&(P.style.display=""),ne==null||ne(P),Fi(window,"resize",Qe)},V=d.useCallback(P=>s.jsx("div",{...P,className:mt(`${e}-backdrop`,$,!m&&"show")}),[m,$,e]),te={...n,...W};te.display="block";const C=P=>s.jsx("div",{role:"dialog",...P,style:te,className:mt(t,e,I&&`${e}-static`,!m&&"show"),onClick:b?gt:void 0,onMouseUp:ht,"data-bs-theme":o,"aria-label":h,"aria-labelledby":c,"aria-describedby":u,children:s.jsx(i,{...D,onMouseDown:rt,className:r,contentClassName:l,children:a})});return s.jsx(gm.Provider,{value:pt,children:s.jsx(jy,{show:p,ref:Pe,backdrop:b,container:f,keyboard:!0,autoFocus:v,enforceFocus:N,restoreFocus:k,restoreFocusOptions:S,onEscapeKeyDown:pn,onShow:w,onHide:g,onEnter:At,onEntering:z,onEntered:j,onExit:wr,onExiting:O,onExited:re,manager:Ke(),transition:m?Ey:void 0,backdropTransition:m?_y:void 0,renderBackdrop:V,renderDialog:C})})});wm.displayName="Modal";const Lr=Object.assign(wm,{Body:hm,Header:xm,Title:jm,Footer:vm,Dialog:Ho,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),ju={debug:{icon:"bi-bug-fill",color:"success",bgColor:"rgba(25, 135, 84, 0.1)",label:"DEBUG"},info:{icon:"bi-info-circle-fill",color:"primary",bgColor:"rgba(13, 110, 253, 0.1)",label:"INFO"},warning:{icon:"bi-exclamation-triangle-fill",color:"warning",bgColor:"rgba(255, 193, 7, 0.1)",label:"WARNING"},error:{icon:"bi-x-circle-fill",color:"danger",bgColor:"rgba(220, 53, 69, 0.1)",label:"ERROR"},critical:{icon:"bi-fire",color:"danger",bgColor:"rgba(220, 53, 69, 0.2)",label:"CRITICAL"}};function Py({level:e,count:t,isActive:n,onClick:r}){const l=ju[e.toLowerCase()]||ju.info;return s.jsx("div",{className:"col-md-6 col-lg mb-3",children:s.jsx("div",{className:`frosted-card h-100 ${n?"border border-2":""}`,style:{backgroundColor:l.bgColor,borderColor:n?`var(--bs-${l.color})`:"transparent",cursor:"pointer",transition:"all 0.2s ease",transform:n?"scale(1.05)":"scale(1)"},onClick:r,role:"button",tabIndex:0,onKeyPress:a=>{(a.key==="Enter"||a.key===" ")&&r()},children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("i",{className:`bi ${l.icon} text-${l.color}`,style:{fontSize:"2.5rem"}}),s.jsx("h3",{className:"mt-3 mb-0",children:t.toLocaleString()}),s.jsx("p",{className:`text-${l.color} fw-bold mb-0`,children:l.label}),n&&s.jsxs("small",{className:"d-block mt-2 text-muted",children:[s.jsx("i",{className:"bi bi-funnel-fill me-1"}),"Filtered"]})]})})})}function Ry({stats:e,selectedLevel:t,onLevelClick:n}){const r=["debug","info","warning","error","critical"];return s.jsx("div",{className:"row",children:r.map(l=>s.jsx(Py,{level:l,count:e[l]||0,isActive:t===l,onClick:()=>n(l)},l))})}const Ty="http://localhost:3000";class wu extends Error{constructor(t,n){super(t),this.name="ApiError",this.status=n}}async function q(e,t={}){const n=`${Ty}${e}`,{timeout:r,...l}=t,a={headers:{"Content-Type":"application/json"},credentials:"include"},i=new AbortController,o=i.signal;let c;try{r&&(c=setTimeout(()=>{i.abort()},r));const u=await fetch(n,{...a,...l,signal:o});if(c&&clearTimeout(c),!u.ok){const p=await u.text();throw new wu(`HTTP ${u.status}: ${p}`,u.status)}const h=u.headers.get("content-type");return h&&h.includes("application/json")?u.json():u.text()}catch(u){throw c&&clearTimeout(c),u.name==="AbortError"?new wu(`Request timeout after ${r}ms`,408):u}}const ot={getModels:()=>q("/api/review/models"),createSession:e=>q("/api/review/sessions",{method:"POST",body:JSON.stringify(e)}),runPreview:(e,t,n,r="intermediate",l="quick")=>q("/api/review/modes/preview",{method:"POST",body:JSON.stringify({pasted_code:t,model:n,user_mode:r,output_mode:l}),timeout:6e4}),runSkim:(e,t,n,r="intermediate",l="quick")=>q("/api/review/modes/skim",{method:"POST",body:JSON.stringify({pasted_code:t,model:n,user_mode:r,output_mode:l}),timeout:6e4}),runScan:(e,t,n,r,l="intermediate",a="quick")=>q("/api/review/modes/scan",{method:"POST",body:JSON.stringify({pasted_code:t,model:n,query:r,user_mode:l,output_mode:a}),timeout:6e4}),runDetailed:(e,t,n,r="intermediate",l="quick")=>q("/api/review/modes/detailed",{method:"POST",body:JSON.stringify({pasted_code:t,model:n,user_mode:r,output_mode:l}),timeout:6e4}),runCritical:(e,t,n,r="intermediate",l="quick")=>q("/api/review/modes/critical",{method:"POST",body:JSON.stringify({pasted_code:t,model:n,user_mode:r,output_mode:l}),timeout:6e4}),githubGetTree:(e,t="main")=>{const n=new URLSearchParams({url:e,branch:t});return q(`/api/review/github/tree?${n.toString()}`)},githubGetFile:(e,t,n="main")=>{const r=new URLSearchParams({url:e,path:t,branch:n});return q(`/api/review/github/file?${r.toString()}`)},githubQuickScan:(e,t="main")=>{const n=new URLSearchParams({url:e,branch:t});return q(`/api/review/github/quick-scan?${n.toString()}`)},getPrompt:(e,t="intermediate",n="quick")=>{const r=new URLSearchParams({mode:e,user_level:t,output_mode:n});return q(`/api/review/prompts?${r.toString()}`)},savePrompt:e=>q("/api/review/prompts",{method:"PUT",body:JSON.stringify(e)}),resetPrompt:(e,t="intermediate",n="quick")=>{const r=new URLSearchParams({mode:e,user_level:t,output_mode:n});return q(`/api/review/prompts?${r.toString()}`,{method:"DELETE"})},getPromptHistory:(e=50)=>{const t=new URLSearchParams({limit:e.toString()});return q(`/api/review/prompts/history?${t.toString()}`)},rateExecution:(e,t)=>q(`/api/review/prompts/${e}/rate`,{method:"POST",body:JSON.stringify({rating:t})})};function bm({selectedModel:e,onModelSelect:t,disabled:n=!1}){const[r,l]=d.useState([]),[a,i]=d.useState(!0),[o,c]=d.useState(null),{isDarkMode:u}=Mn();d.useEffect(()=>{(async()=>{try{i(!0);const m=await q("/api/portal/llm-configs");console.log("LLM configs response:",m);let b=[];if(Array.isArray(m)?(b=m.map(y=>({name:y.model||y.model_name,displayName:y.name||y.display_name||y.model||y.model_name,provider:y.provider,isDefault:y.is_default})),b.sort((y,x)=>y.isDefault&&!x.isDefault?-1:!y.isDefault&&x.isDefault?1:y.displayName.localeCompare(x.displayName))):console.warn("Unexpected LLM configs response format:",m),l(b),console.log("Models loaded from Portal:",b),!e&&b.length>0){const y=b.find(x=>x.isDefault);y?(console.log("Setting default model:",y.name),t(y.name)):(console.log("No default model found, using first:",b[0].name),t(b[0].name))}}catch(m){console.error("Failed to load Portal LLM configs:",m),c(m.message),l([{name:"qwen2.5-coder:7b-instruct-q4_K_M",displayName:"Qwen 2.5 Coder 7B (Recommended for 8GB VRAM)",provider:"Ollama",isDefault:!0},{name:"mistral:7b-instruct",displayName:"Mistral 7B",provider:"Ollama"},{name:"deepseek-coder-v2:16b-lite-instruct-q4_K_M",displayName:"DeepSeek Coder V2 16B (Requires 16GB+ VRAM)",provider:"Ollama"}]),e||t("qwen2.5-coder:7b-instruct-q4_K_M")}finally{i(!1)}})()},[e,t]);const h=p=>{console.log("Model selected:",p.target.value),t&&t(p.target.value)};return a?s.jsxs("div",{className:"model-selector mb-3",children:[s.jsx("label",{className:"form-label",children:"AI Model:"}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading models..."})}),s.jsx("small",{className:"text-muted",children:"Loading available models..."})]})]}):s.jsxs("div",{className:"model-selector mb-3",children:[s.jsx("label",{className:"form-label",htmlFor:"model-select",children:"AI Model:"}),o&&s.jsx("div",{className:"alert alert-warning py-1 mb-2",role:"alert",children:s.jsxs("small",{children:[s.jsx("strong",{children:"Warning:"})," ",o,". Using fallback models."]})}),s.jsx("select",{id:"model-select",className:`form-select ${u?"bg-dark text-light border-secondary":""}`,style:u?{backgroundColor:"#1a1d2e",color:"#e0e7ff",borderColor:"#4a5568"}:{},value:e||"",onChange:h,disabled:n||r.length===0,children:r.length===0?s.jsx("option",{value:"",children:"No models available"}):r.map(p=>{const m=typeof p=="string"?p:p.name,b=typeof p=="object"&&p.displayName?p.displayName:m,y=typeof p=="object"&&p.provider?p.provider:"";return s.jsxs("option",{value:m,children:[y," - ",b]},m)})}),s.jsx("small",{className:"form-text text-muted mt-1",children:"Choose the AI model for code analysis. Larger models provide more detailed analysis."})]})}const Nm=({availableTags:e,selectedTags:t,onTagToggle:n})=>!e||e.length===0?s.jsxs("div",{className:"alert alert-info",children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"No tags available. Tags are automatically generated from log content."]}):s.jsxs("div",{className:"tag-filter",children:[s.jsxs("div",{className:"d-flex align-items-center mb-2",children:[s.jsx("i",{className:"bi bi-tags me-2"}),s.jsx("strong",{children:"Filter by Tags:"}),s.jsxs("span",{className:"ms-2 text-muted small",children:["(",t.length," selected)"]})]}),s.jsx("div",{className:"d-flex flex-wrap gap-2",children:e.map(r=>{const l=t.includes(r);return s.jsxs("button",{type:"button",className:`btn btn-sm ${l?"btn-primary":"btn-outline-secondary"}`,onClick:()=>n(r),"aria-pressed":l,children:[s.jsx("i",{className:`bi ${l?"bi-check-circle-fill":"bi-tag"} me-1`}),r]},r)})}),t.length>0&&s.jsx("div",{className:"mt-2",children:s.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>t.forEach(r=>n(r)),children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),"Clear all filters"]})})]});Nm.propTypes={availableTags:Ht.arrayOf(Ht.string).isRequired,selectedTags:Ht.arrayOf(Ht.string).isRequired,onTagToggle:Ht.func.isRequired};const Ly="/api/logs",Zs={INFO:"info",WARNING:"warning",ERROR:"error"};async function ea(e,t,n={},r=[]){try{const l={service:"frontend",level:e,message:t,metadata:{...n,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()},tags:["frontend",...r]},a=!1;fetch(Ly,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)}).then(i=>{if(!i.ok)return i.text().then(o=>{})}).catch(i=>{})}catch(l){console.error("Logger error:",l)}}function xt(e,t={}){const n={...t,errorName:e.name,errorMessage:e.message,stack:e.stack};ea(Zs.ERROR,e.message,n,["error","uncaught"])}function Ma(e,t={}){ea(Zs.WARNING,e,t,["warning"])}function Or(e,t={}){ea(Zs.INFO,e,t,["info"])}function Oy(){window.addEventListener("error",t=>{xt(t.error||new Error(t.message),{filename:t.filename,lineno:t.lineno,colno:t.colno,type:"unhandled_error"})}),window.addEventListener("unhandledrejection",t=>{const n=t.reason instanceof Error?t.reason:new Error(String(t.reason));xt(n,{type:"unhandled_rejection",promise:t.promise})});const e=console.error;console.error=function(...t){e.apply(console,t);const n=t.map(r=>typeof r=="object"?JSON.stringify(r):String(r)).join(" ");ea(Zs.ERROR,n,{type:"console_error",args:t},["console","error"])}}function My(){const{user:e,logout:t}=On(),{theme:n,toggleTheme:r}=Mn(),[l,a]=d.useState("logs"),[i,o]=d.useState({debug:0,info:0,warning:0,error:0,critical:0}),[c,u]=d.useState([]),[h,p]=d.useState([]),[m,b]=d.useState(!0),[y,x]=d.useState(null),[w,g]=d.useState({level:"all",service:"all",project:"all",search:""}),[f,v]=d.useState(!1),[N,k]=d.useState(""),[S,j]=d.useState(!1),[E,O]=d.useState(null),[T,H]=d.useState(null),[ne,$]=d.useState(!1),[Q,D]=d.useState(!1),[L,W]=d.useState(!1),_=d.useRef(null),I=d.useRef(null),[U,M]=d.useState([]),[F,K]=d.useState([]),[X,fe]=d.useState(""),[Pe,Me]=d.useState([]),[mn,pt]=d.useState(!1),[Ke,Nt]=d.useState(!1);d.useEffect(()=>{(async()=>{try{b(!0);const[P,B]=await Promise.all([q("/api/logs?limit=100"),q("/api/logs/tags")]),J=P.entries||[],je=J.reduce((we,Dt)=>{var Nr;const br=((Nr=Dt.level)==null?void 0:Nr.toLowerCase())||"info";return we[br]=(we[br]||0)+1,we},{debug:0,info:0,warning:0,error:0,critical:0});o(je),u(J),M(B.tags||[]),x(null)}catch(P){xt(P,{context:"Health page initial data load failed"}),x(P.message)}finally{b(!1)}})()},[l]),d.useEffect(()=>{if(!f){_.current&&(_.current.close(),_.current=null,W(!1));return}const C=()=>{const B=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/logs`,J=new WebSocket(B);J.onopen=()=>{Or("WebSocket connection established",{autoRefresh:f}),W(!0)},J.onmessage=je=>{try{const we=JSON.parse(je.data);we.id,we.level,u(Dt=>[we,...Dt].slice(0,100)),o(Dt=>({...Dt,[we.level.toLowerCase()]:(Dt[we.level.toLowerCase()]||0)+1}))}catch(we){xt(we,{context:"WebSocket message parsing failed"})}},J.onerror=je=>{xt(new Error("WebSocket error"),{errorEvent:je.toString()}),W(!1)},J.onclose=()=>{Or("WebSocket connection closed"),W(!1),f&&(I.current=setTimeout(C,5e3))},_.current=J};return C(),()=>{I.current&&(clearTimeout(I.current),I.current=null),_.current&&_.current.close()}},[f]);const Qe=d.useCallback(async(C=!1)=>{try{C||b(!0);let P="/api/logs?limit=100";w.level!=="all"&&(P+=`&level=${w.level}`),w.service!=="all"&&(P+=`&service=${w.service}`),w.project!=="all"&&(P+=`&project_id=${w.project}`);const J=(await q(P)).entries||[],je=J.reduce((we,Dt)=>{var Nr;const br=((Nr=Dt.level)==null?void 0:Nr.toLowerCase())||"info";return we[br]=(we[br]||0)+1,we},{debug:0,info:0,warning:0,error:0,critical:0});o(je),u(J),x(null),x(null)}catch(P){xt(P,{context:"Health page data fetch failed"}),x(P.message)}finally{b(!1)}},[w.level,w.service]);d.useEffect(()=>{Qe()},[Qe]),d.useEffect(()=>{It()},[c,w,F]);const rt=async()=>{try{const C=await q("/api/logs/tags");M(C.tags||[])}catch(C){Ma("Failed to fetch log tags",{error:C.message})}},ht=async()=>{try{pt(!0);const C=await q("/api/logs/projects");Me(Array.isArray(C)?C:C.projects||[])}catch(C){Ma("Failed to fetch projects",{error:C.message}),Me([])}finally{pt(!1)}};d.useEffect(()=>{rt(),ht()},[]);const Z=C=>{K(P=>P.includes(C)?P.filter(B=>B!==C):[...P,C])},It=d.useCallback(()=>{let C=[...c];if(w.search){const P=w.search.toLowerCase();C=C.filter(B=>B.message.toLowerCase().includes(P)||B.service.toLowerCase().includes(P))}F.length>0&&(C=C.filter(P=>!P.tags||P.tags.length===0?!1:F.every(B=>P.tags.includes(B)))),p(C)},[c,w,F]),gt=()=>{const C=w.project!=="all"?c.filter(B=>B.project_id===parseInt(w.project)):c,P=new Set(C.map(B=>B.service));return Array.from(P).sort()},pn=C=>new Date(C).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),At=C=>{switch(C.toLowerCase()){case"debug":return"secondary";case"info":return"info";case"warning":return"warning";case"error":return"danger";case"critical":return"danger";default:return"secondary"}},wr=async C=>{O(C),H(null),j(!0),await z(C.id)},z=async C=>{try{const P=await q(`/api/logs/${C}/insights`);H(P),Or("Fetched existing AI insights",{log_id:C,action:"fetch_insights_success"})}catch(P){if(P.status===404)return;Ma("Failed to fetch existing insights",{log_id:C,error:P.message,action:"fetch_insights_error"})}},re=async C=>{var P;if(!Q){$(!0),D(!0);try{Or("Generating AI insights",{log_id:C,model:N,action:"generate_insights_start"});const B=await q(`/api/logs/${C}/insights`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:N}),timeout:6e4});B!=null&&B.analysis,H(B),Or("AI insights generated successfully",{log_id:C,model:N,action:"generate_insights_success"})}catch(B){if(B.name==="AbortError"||(P=B.message)!=null&&P.includes("timeout")){const J="AI analysis timed out after 60 seconds. Try a smaller/faster model or retry when server is less busy.";xt(new Error(J),{log_id:C,model:N,action:"generate_insights_timeout"}),H({analysis:` ${J}`,root_cause:"Request exceeded 60 second timeout limit",suggestions:["Try a smaller model like qwen2.5-coder:7b-instruct-q4_K_M","Check server logs for model loading issues","Retry when server is less busy"]})}else xt(B,{log_id:C,model:N,status_code:B.status,error_message:B.message,action:"generate_insights_failed"}),H({analysis:` Failed to generate insights: ${B.message}`,root_cause:"AI service error",suggestions:["Check that the AI model is running","Verify model name is correct","Check server logs for details"]})}finally{$(!1),D(!1)}}},V=async(C,P)=>{if(!(!P||P.trim()==="")){Nt(!0);try{await q(`/api/logs/${C}/tags`,{method:"POST",body:{tag:P.trim()}});const B={...E,tags:[...E.tags||[],P.trim()]};O(B),u(J=>J.map(je=>je.id===C?B:je)),await rt(),fe("")}catch(B){xt(B,{log_id:C,tag:P,action:"add_tag_failed"}),alert(`Failed to add tag: ${B.message}`)}finally{Nt(!1)}}},te=async(C,P)=>{try{await q(`/api/logs/${C}/tags/${encodeURIComponent(P)}`,{method:"DELETE"});const B={...E,tags:(E.tags||[]).filter(J=>J!==P)};O(B),u(J=>J.map(je=>je.id===C?B:je)),await rt()}catch(B){xt(B,{log_id:C,tag:P,action:"remove_tag_failed"}),alert(`Failed to remove tag: ${B.message}`)}};return m&&c.length===0?s.jsx("div",{className:"container mt-4",children:s.jsxs("div",{className:"text-center py-5",children:[s.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("p",{className:"mt-3 text-muted",children:"Loading health data..."})]})}):s.jsxs("div",{className:"container mt-4",children:[s.jsx("nav",{className:"navbar navbar-expand-lg navbar-light frosted-card mb-4",children:s.jsxs("div",{className:"container-fluid",children:[s.jsxs(ct,{to:"/",className:"navbar-brand",children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back to Dashboard"]}),s.jsx(ct,{to:"/health",className:"navbar-brand",children:"Health"}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"me-3",children:s.jsx(bm,{selectedModel:N,onModelSelect:k})}),s.jsx("button",{className:"btn btn-link p-2 me-3",onClick:r,title:"Toggle Dark Mode",style:{fontSize:"1.25rem"},children:s.jsx("i",{className:`bi bi-${n==="dark"?"sun":"moon"}-fill`})}),s.jsxs("span",{className:"me-3",children:["Welcome, ",(e==null?void 0:e.username)||(e==null?void 0:e.name),"!"]}),s.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>t(),children:"Logout"})]})]})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"frosted-card p-4",children:[s.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:s.jsxs("h2",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-heart-pulse text-primary me-2"}),"Health"]})}),s.jsxs("ul",{className:"nav nav-tabs mb-3",children:[s.jsx("li",{className:"nav-item",children:s.jsxs("button",{className:`nav-link ${l==="logs"?"active":""}`,onClick:()=>a("logs"),style:{backgroundColor:l==="logs"?"rgba(99, 102, 241, 0.2)":"transparent",color:l==="logs"?"var(--bs-primary)":"var(--bs-gray-300)",border:"none",borderBottom:l==="logs"?"2px solid var(--bs-primary)":"none"},children:[s.jsx("i",{className:"bi bi-list-ul me-2"}),"Logs"]})}),s.jsx("li",{className:"nav-item",children:s.jsxs("button",{className:`nav-link ${l==="monitoring"?"active":""}`,onClick:()=>a("monitoring"),style:{backgroundColor:l==="monitoring"?"rgba(99, 102, 241, 0.2)":"transparent",color:l==="monitoring"?"var(--bs-primary)":"var(--bs-gray-300)",border:"none",borderBottom:l==="monitoring"?"2px solid var(--bs-primary)":"none"},children:[s.jsx("i",{className:"bi bi-activity me-2"}),"Monitoring"]})}),s.jsx("li",{className:"nav-item",children:s.jsxs("button",{className:`nav-link ${l==="analytics"?"active":""}`,onClick:()=>a("analytics"),style:{backgroundColor:l==="analytics"?"rgba(99, 102, 241, 0.2)":"transparent",color:l==="analytics"?"var(--bs-primary)":"var(--bs-gray-300)",border:"none",borderBottom:l==="analytics"?"2px solid var(--bs-primary)":"none"},children:[s.jsx("i",{className:"bi bi-graph-up me-2"}),"Analytics"]})})]}),l==="logs"&&s.jsx("p",{className:"mb-0",style:{color:"var(--bs-gray-200)"},children:"Monitor your application logs in real-time"})]})})}),l==="logs"&&s.jsxs(s.Fragment,{children:[m&&s.jsx("div",{className:"text-center my-5",children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),y&&s.jsxs("div",{className:"alert alert-danger",role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),y]}),!m&&!y&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col-lg-8",children:[s.jsx("div",{className:"mb-3",children:s.jsx(Ry,{stats:i,selectedLevel:w.level==="all"?null:w.level,onLevelClick:C=>{g({...w,level:w.level===C?"all":C})}})}),s.jsxs("div",{className:"frosted-card p-4",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsxs("h5",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-list-ul me-2"}),"Logs Feed (",h.length,")"]}),s.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[f&&s.jsxs("span",{className:`badge ${L?"bg-success":"bg-secondary"}`,children:[s.jsx("i",{className:`bi bi-${L?"check-circle":"x-circle"} me-1`}),L?"Connected":"Disconnected"]}),s.jsxs("div",{className:"form-check form-switch",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:"autoRefresh",checked:f,onChange:C=>v(C.target.checked)}),s.jsx("label",{className:"form-check-label",htmlFor:"autoRefresh",children:"Auto-refresh"})]}),s.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>Qe(),disabled:m,children:[s.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]})]})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-md-3",children:s.jsxs("select",{className:"form-select form-select-sm bg-dark text-light border-secondary",value:w.project,onChange:C=>g({...w,project:C.target.value}),disabled:mn,children:[s.jsx("option",{value:"all",children:"All Projects"}),Pe.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})}),s.jsx("div",{className:"col-md-3",children:s.jsxs("select",{className:"form-select form-select-sm bg-dark text-light border-secondary",value:w.service,onChange:C=>g({...w,service:C.target.value}),children:[s.jsx("option",{value:"all",children:"All Services"}),gt().map(C=>s.jsx("option",{value:C,children:C},C))]})}),s.jsx("div",{className:"col-md-6",children:s.jsx("input",{type:"text",className:"form-control form-control-sm bg-dark text-light border-secondary",placeholder:"Search logs...",value:w.search,onChange:C=>g({...w,search:C.target.value})})})]}),s.jsx("div",{className:"mb-3",children:s.jsx(Nm,{availableTags:U,selectedTags:F,onTagToggle:Z})}),h.length===0?s.jsxs("div",{className:"text-center py-5",style:{color:"var(--bs-gray-400)"},children:[s.jsx("i",{className:"bi bi-inbox display-1 d-block mb-3"}),s.jsx("p",{className:"mb-0",children:"No logs found matching your filters"})]}):s.jsx("div",{className:"log-cards-container",style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:h.map(C=>s.jsx("div",{className:"log-card",onClick:()=>wr(C),style:{background:n==="dark"?"rgba(255, 255, 255, 0.05)":"var(--bs-card-bg)",border:`1px solid ${n==="dark"?"rgba(255, 255, 255, 0.1)":"var(--bs-border-color)"}`,borderRadius:"0.5rem",padding:"1rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:P=>{P.currentTarget.style.borderColor="var(--bs-primary)",P.currentTarget.style.boxShadow="0 2px 8px rgba(99, 102, 241, 0.15)",P.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:P=>{P.currentTarget.style.borderColor=n==="dark"?"rgba(255, 255, 255, 0.1)":"var(--bs-border-color)",P.currentTarget.style.boxShadow="none",P.currentTarget.style.transform="translateY(0)"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 150px 180px 1fr",gap:"1rem",alignItems:"center"},children:[s.jsx("div",{children:s.jsx("span",{className:`badge bg-${At(C.level)}`,children:C.level.toUpperCase()})}),s.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.jsx("code",{className:"text-primary",children:C.service})}),s.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.jsx("small",{style:{color:"var(--bs-gray-400)"},children:pn(C.created_at)})}),s.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:C.message})]})},C.id))})]})]}),s.jsxs("div",{className:"col-lg-4",children:[s.jsxs("div",{className:"frosted-card p-3 mb-3",children:[s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-speedometer2 me-2"}),"Quick Stats"]}),s.jsxs("div",{className:"d-flex flex-column gap-2",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 rounded",style:{backgroundColor:"rgba(99, 102, 241, 0.05)"},children:[s.jsx("span",{className:"small",children:"Total Logs"}),s.jsx("strong",{children:c.length})]}),s.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 rounded",style:{backgroundColor:"rgba(220, 38, 38, 0.05)"},children:[s.jsx("span",{className:"small",children:"Errors"}),s.jsx("strong",{className:"text-danger",children:i.error+i.critical})]}),s.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 rounded",style:{backgroundColor:"rgba(234, 179, 8, 0.05)"},children:[s.jsx("span",{className:"small",children:"Warnings"}),s.jsx("strong",{className:"text-warning",children:i.warning})]}),s.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2 rounded",style:{backgroundColor:"rgba(34, 197, 94, 0.05)"},children:[s.jsx("span",{className:"small",children:"Success"}),s.jsx("strong",{className:"text-success",children:i.info+i.debug})]})]})]}),(w.level!=="all"||w.service!=="all"||w.search||F.length>0)&&s.jsxs("div",{className:"frosted-card p-3 mb-3",children:[s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-funnel me-2"}),"Active Filters"]}),s.jsxs("div",{className:"d-flex flex-column gap-2",children:[w.level!=="all"&&s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx("span",{className:"small",children:"Level:"}),s.jsx("span",{className:`badge bg-${At(w.level)}`,children:w.level.toUpperCase()})]}),w.service!=="all"&&s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx("span",{className:"small",children:"Service:"}),s.jsx("code",{className:"small text-primary",children:w.service})]}),w.search&&s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsx("span",{className:"small",children:"Search:"}),s.jsx("code",{className:"small",children:w.search})]}),F.length>0&&s.jsxs("div",{className:"d-flex flex-column gap-1",children:[s.jsx("span",{className:"small",children:"Tags:"}),s.jsx("div",{className:"d-flex flex-wrap gap-1",children:F.map(C=>s.jsx("span",{className:"badge bg-secondary small",children:C},C))})]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary mt-2",onClick:()=>{g({level:"all",service:"all",search:""}),K([])},children:[s.jsx("i",{className:"bi bi-x-circle me-1"}),"Clear All"]})]})]}),s.jsxs("div",{className:"frosted-card p-3",children:[s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-exclamation-triangle-fill text-danger me-2"}),"Critical Events"]}),s.jsxs("div",{className:"d-flex flex-column gap-2",children:[c.filter(C=>C.level==="error"||C.level==="critical").slice(0,5).map(C=>s.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"rgba(220, 38, 38, 0.05)",borderLeft:"3px solid var(--bs-danger)",cursor:"pointer"},onClick:()=>handleViewDetails(C),children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-1",children:[s.jsx("small",{className:"text-muted",children:pn(C.created_at)}),s.jsx("span",{className:`badge badge-sm bg-${At(C.level)}`,children:C.level})]}),s.jsx("div",{className:"small",style:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:C.message})]},C.id)),c.filter(C=>C.level==="error"||C.level==="critical").length===0&&s.jsxs("div",{className:"text-center py-3 text-muted small",children:[s.jsx("i",{className:"bi bi-check-circle me-1"}),"No critical events"]})]})]})]})]})})]}),l==="monitoring"&&s.jsxs("div",{className:"monitoring-tab text-center py-5",children:[s.jsx("i",{className:"bi bi-activity",style:{fontSize:"4rem",opacity:.3}}),s.jsx("h3",{className:"mt-3 text-muted",children:"Monitoring Dashboard"}),s.jsx("p",{className:"text-muted",children:"Coming Soon"}),s.jsx("p",{className:"small text-muted",children:"Real-time service health, request rates, and error tracking."})]}),l==="analytics"&&s.jsxs("div",{className:"analytics-tab text-center py-5",children:[s.jsx("i",{className:"bi bi-graph-up",style:{fontSize:"4rem",opacity:.3}}),s.jsx("h3",{className:"mt-3 text-muted",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted",children:"Coming Soon"}),s.jsx("p",{className:"small text-muted",children:"Historical trends, error patterns, and AI-powered insights."})]}),E&&s.jsxs(Lr,{show:S,onHide:()=>j(!1),size:"lg",children:[s.jsx(Lr.Header,{closeButton:!0,className:n==="dark"?"bg-dark text-light border-secondary":"",children:s.jsxs(Lr.Title,{children:[s.jsx("span",{className:`badge bg-${At(E.level)} me-2`,children:E.level.toUpperCase()}),"Log Details"]})}),s.jsxs(Lr.Body,{className:n==="dark"?"bg-dark text-light":"",children:[s.jsxs("div",{className:"row mb-3",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("strong",{children:"Service:"})," ",s.jsx("code",{className:"text-primary",children:E.service})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("strong",{children:"Timestamp:"})," ",pn(E.created_at)]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("strong",{children:"Message:"}),s.jsx("div",{className:"mt-2 p-3 rounded",style:{backgroundColor:n==="dark"?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.05)",border:`1px solid ${n==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}`},children:E.message})]}),E.metadata&&Object.keys(E.metadata).length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("strong",{children:"Metadata:"}),s.jsx("pre",{className:"mt-2 p-3 rounded",style:{backgroundColor:n==="dark"?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.05)",color:n==="dark"?"var(--bs-gray-300)":"var(--bs-gray-800)",border:`1px solid ${n==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"}`},children:JSON.stringify(E.metadata,null,2)})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"d-flex justify-content-between align-items-center mb-2",children:s.jsx("strong",{children:"Tags:"})}),s.jsx("div",{className:"mb-2",children:E.tags&&E.tags.length>0?s.jsx("div",{className:"d-flex flex-wrap gap-2",children:E.tags.map((C,P)=>s.jsxs("span",{className:"badge bg-secondary d-flex align-items-center",style:{fontSize:"0.9rem"},children:[C,s.jsx("button",{className:"btn-close btn-close-white ms-2",style:{fontSize:"0.6rem"},onClick:()=>te(E.id,C),title:"Remove tag","aria-label":`Remove ${C} tag`})]},P))}):s.jsx("div",{className:"text-muted small",children:"No tags yet"})}),s.jsxs("div",{className:"input-group input-group-sm",children:[s.jsx("input",{type:"text",className:`form-control ${n==="dark"?"bg-dark text-light border-secondary":""}`,placeholder:"Add a tag (e.g., investigated, resolved)",value:X,onChange:C=>fe(C.target.value),onKeyPress:C=>{C.key==="Enter"&&V(E.id,X)},disabled:Ke}),s.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>V(E.id,X),disabled:Ke||!X.trim(),children:Ke?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-1"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-plus-circle me-1"}),"Add Tag"]})})]}),s.jsx("small",{className:"text-muted",children:"Tags help categorize and filter logs. Press Enter or click Add Tag."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[s.jsx("strong",{children:"AI Insights:"}),s.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>re(E.id),disabled:ne||Q,children:ne||Q?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Analyzing..."]}):T?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-arrow-clockwise me-2"}),"Regenerate"]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-stars me-2"}),"Generate Insights"]})})]}),T&&s.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:n==="dark"?"rgba(99,102,241,0.1)":"rgba(99,102,241,0.05)",border:"1px solid rgba(99,102,241,0.3)"},children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("strong",{children:"Analysis:"}),s.jsx("p",{className:"mb-2",children:T.analysis})]}),T.root_cause&&s.jsxs("div",{className:"mb-2",children:[s.jsx("strong",{children:"Root Cause:"}),s.jsx("p",{className:"mb-2",children:T.root_cause})]}),T.suggestions&&T.suggestions.length>0&&s.jsxs("div",{children:[s.jsx("strong",{children:"Suggestions:"}),s.jsx("ul",{className:"mb-0",children:T.suggestions.map((C,P)=>s.jsx("li",{children:C},P))})]})]})]})]}),s.jsx(Lr.Footer,{className:n==="dark"?"bg-dark border-secondary":"",children:s.jsx("button",{className:"btn btn-secondary",onClick:()=>j(!1),children:"Close"})})]})]})}function bu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Iy(e){if(Array.isArray(e))return e}function Ay(e,t,n){return(t=Wy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dy(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,l,a,i,o=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(h){u=!0,l=h}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw l}}return o}}function Fy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nu(Object(n),!0).forEach(function(r){Ay(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $y(e,t){if(e==null)return{};var n,r,l=zy(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function zy(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Uy(e,t){return Iy(e)||Dy(e,t)||Vy(e,t)||Fy()}function By(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wy(e){var t=By(e,"string");return typeof t=="symbol"?t:t+""}function Vy(e,t){if(e){if(typeof e=="string")return bu(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bu(e,t):void 0}}function Hy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ku(Object(n),!0).forEach(function(r){Hy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(l,a){return a(l)},r)}}function zr(e){return function t(){for(var n=this,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return l.length>=e.length?e.apply(this,l):function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t.apply(n,[].concat(l,o))}}}function Ts(e){return{}.toString.call(e).includes("Object")}function Gy(e){return!Object.keys(e).length}function gl(e){return typeof e=="function"}function Ky(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qy(e,t){return Ts(t)||ln("changeType"),Object.keys(t).some(function(n){return!Ky(e,n)})&&ln("changeField"),t}function Yy(e){gl(e)||ln("selectorType")}function Xy(e){gl(e)||Ts(e)||ln("handlerType"),Ts(e)&&Object.values(e).some(function(t){return!gl(t)})&&ln("handlersType")}function Jy(e){e||ln("initialIsRequired"),Ts(e)||ln("initialType"),Gy(e)&&ln("initialContent")}function Zy(e,t){throw new Error(e[t]||e.default)}var ex={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ln=zr(Zy)(ex),Bl={changes:Qy,selector:Yy,handler:Xy,initial:Jy};function tx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bl.initial(e),Bl.handler(t);var n={current:e},r=zr(lx)(n,t),l=zr(rx)(n),a=zr(Bl.changes)(e),i=zr(nx)(n);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return Bl.selector(u),u(n.current)}function c(u){qy(r,l,a,i)(u)}return[o,c]}function nx(e,t){return gl(t)?t(e.current):t}function rx(e,t){return e.current=Cu(Cu({},e.current),t),t}function lx(e,t,n){return gl(t)?t(e.current):Object.keys(n).forEach(function(r){var l;return(l=t[r])===null||l===void 0?void 0:l.call(t,e.current[r])}),n}var sx={create:tx},ax={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}};function ix(e){return function t(){for(var n=this,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return l.length>=e.length?e.apply(this,l):function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t.apply(n,[].concat(l,o))}}}function ox(e){return{}.toString.call(e).includes("Object")}function cx(e){return e||Eu("configIsRequired"),ox(e)||Eu("configType"),e.urls?(ux(),{paths:{vs:e.urls.monacoBase}}):e}function ux(){console.warn(Sm.deprecation)}function dx(e,t){throw new Error(e[t]||e.default)}var Sm={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Eu=ix(dx)(Sm),fx={config:cx},mx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(l){return n.reduceRight(function(a,i){return i(a)},l)}};function km(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],km(e[n],t[n]))}),Su(Su({},e),t)}var px={type:"cancelation",msg:"operation is manually canceled"};function Ia(e){var t=!1,n=new Promise(function(r,l){e.then(function(a){return t?l(px):r(a)}),e.catch(l)});return n.cancel=function(){return t=!0},n}var hx=["monaco"],gx=sx.create({config:ax,isInitialized:!1,resolve:null,reject:null,monaco:null}),Cm=Uy(gx,2),bl=Cm[0],ta=Cm[1];function vx(e){var t=fx.config(e),n=t.monaco,r=$y(t,hx);ta(function(l){return{config:km(l.config,r),monaco:n}})}function yx(){var e=bl(function(t){var n=t.monaco,r=t.isInitialized,l=t.resolve;return{monaco:n,isInitialized:r,resolve:l}});if(!e.isInitialized){if(ta({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Ia(Aa);if(window.monaco&&window.monaco.editor)return Em(window.monaco),e.resolve(window.monaco),Ia(Aa);mx(xx,wx)(bx)}return Ia(Aa)}function xx(e){return document.body.appendChild(e)}function jx(e){var t=document.createElement("script");return e&&(t.src=e),t}function wx(e){var t=bl(function(r){var l=r.config,a=r.reject;return{config:l,reject:a}}),n=jx("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function bx(){var e=bl(function(n){var r=n.config,l=n.resolve,a=n.reject;return{config:r,resolve:l,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m;Em(r),e.resolve(r)},function(n){e.reject(n)})}function Em(e){bl().monaco||ta({monaco:e})}function Nx(){return bl(function(e){var t=e.monaco;return t})}var Aa=new Promise(function(e,t){return ta({resolve:e,reject:t})}),_m={config:vx,init:yx,__getMonacoInstance:Nx},Sx={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Da=Sx,kx={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Cx=kx;function Ex({children:e}){return Ae.createElement("div",{style:Cx.container},e)}var _x=Ex,Px=_x;function Rx({width:e,height:t,isEditorReady:n,loading:r,_ref:l,className:a,wrapperProps:i}){return Ae.createElement("section",{style:{...Da.wrapper,width:e,height:t},...i},!n&&Ae.createElement(Px,null,r),Ae.createElement("div",{ref:l,style:{...Da.fullWidth,...!n&&Da.hide},className:a}))}var Tx=Rx,Pm=d.memo(Tx);function Lx(e){d.useEffect(e,[])}var Rm=Lx;function Ox(e,t,n=!0){let r=d.useRef(!0);d.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Be=Ox;function Yr(){}function Jn(e,t,n,r){return Mx(e,r)||Ix(e,t,n,r)}function Mx(e,t){return e.editor.getModel(Tm(e,t))}function Ix(e,t,n,r){return e.editor.createModel(t,n,r?Tm(e,r):void 0)}function Tm(e,t){return e.Uri.parse(t)}function Ax({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:l,originalModelPath:a,modifiedModelPath:i,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:h="Loading...",options:p={},height:m="100%",width:b="100%",className:y,wrapperProps:x={},beforeMount:w=Yr,onMount:g=Yr}){let[f,v]=d.useState(!1),[N,k]=d.useState(!0),S=d.useRef(null),j=d.useRef(null),E=d.useRef(null),O=d.useRef(g),T=d.useRef(w),H=d.useRef(!1);Rm(()=>{let D=_m.init();return D.then(L=>(j.current=L)&&k(!1)).catch(L=>(L==null?void 0:L.type)!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>S.current?Q():D.cancel()}),Be(()=>{if(S.current&&j.current){let D=S.current.getOriginalEditor(),L=Jn(j.current,e||"",r||n||"text",a||"");L!==D.getModel()&&D.setModel(L)}},[a],f),Be(()=>{if(S.current&&j.current){let D=S.current.getModifiedEditor(),L=Jn(j.current,t||"",l||n||"text",i||"");L!==D.getModel()&&D.setModel(L)}},[i],f),Be(()=>{let D=S.current.getModifiedEditor();D.getOption(j.current.editor.EditorOption.readOnly)?D.setValue(t||""):t!==D.getValue()&&(D.executeEdits("",[{range:D.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),D.pushUndoStop())},[t],f),Be(()=>{var D,L;(L=(D=S.current)==null?void 0:D.getModel())==null||L.original.setValue(e||"")},[e],f),Be(()=>{let{original:D,modified:L}=S.current.getModel();j.current.editor.setModelLanguage(D,r||n||"text"),j.current.editor.setModelLanguage(L,l||n||"text")},[n,r,l],f),Be(()=>{var D;(D=j.current)==null||D.editor.setTheme(u)},[u],f),Be(()=>{var D;(D=S.current)==null||D.updateOptions(p)},[p],f);let ne=d.useCallback(()=>{var W;if(!j.current)return;T.current(j.current);let D=Jn(j.current,e||"",r||n||"text",a||""),L=Jn(j.current,t||"",l||n||"text",i||"");(W=S.current)==null||W.setModel({original:D,modified:L})},[n,t,l,e,r,a,i]),$=d.useCallback(()=>{var D;!H.current&&E.current&&(S.current=j.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...p}),ne(),(D=j.current)==null||D.editor.setTheme(u),v(!0),H.current=!0)},[p,u,ne]);d.useEffect(()=>{f&&O.current(S.current,j.current)},[f]),d.useEffect(()=>{!N&&!f&&$()},[N,f,$]);function Q(){var L,W,_,I;let D=(L=S.current)==null?void 0:L.getModel();o||((W=D==null?void 0:D.original)==null||W.dispose()),c||((_=D==null?void 0:D.modified)==null||_.dispose()),(I=S.current)==null||I.dispose()}return Ae.createElement(Pm,{width:b,height:m,isEditorReady:f,loading:h,_ref:E,className:y,wrapperProps:x})}var Dx=Ax;d.memo(Dx);function Fx(e){let t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}var $x=Fx,Wl=new Map;function zx({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:l,path:a,theme:i="light",line:o,loading:c="Loading...",options:u={},overrideServices:h={},saveViewState:p=!0,keepCurrentModel:m=!1,width:b="100%",height:y="100%",className:x,wrapperProps:w={},beforeMount:g=Yr,onMount:f=Yr,onChange:v,onValidate:N=Yr}){let[k,S]=d.useState(!1),[j,E]=d.useState(!0),O=d.useRef(null),T=d.useRef(null),H=d.useRef(null),ne=d.useRef(f),$=d.useRef(g),Q=d.useRef(),D=d.useRef(r),L=$x(a),W=d.useRef(!1),_=d.useRef(!1);Rm(()=>{let M=_m.init();return M.then(F=>(O.current=F)&&E(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>T.current?U():M.cancel()}),Be(()=>{var F,K,X,fe;let M=Jn(O.current,e||r||"",t||l||"",a||n||"");M!==((F=T.current)==null?void 0:F.getModel())&&(p&&Wl.set(L,(K=T.current)==null?void 0:K.saveViewState()),(X=T.current)==null||X.setModel(M),p&&((fe=T.current)==null||fe.restoreViewState(Wl.get(a))))},[a],k),Be(()=>{var M;(M=T.current)==null||M.updateOptions(u)},[u],k),Be(()=>{!T.current||r===void 0||(T.current.getOption(O.current.editor.EditorOption.readOnly)?T.current.setValue(r):r!==T.current.getValue()&&(_.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),T.current.pushUndoStop(),_.current=!1))},[r],k),Be(()=>{var F,K;let M=(F=T.current)==null?void 0:F.getModel();M&&l&&((K=O.current)==null||K.editor.setModelLanguage(M,l))},[l],k),Be(()=>{var M;o!==void 0&&((M=T.current)==null||M.revealLine(o))},[o],k),Be(()=>{var M;(M=O.current)==null||M.editor.setTheme(i)},[i],k);let I=d.useCallback(()=>{var M;if(!(!H.current||!O.current)&&!W.current){$.current(O.current);let F=a||n,K=Jn(O.current,r||e||"",t||l||"",F||"");T.current=(M=O.current)==null?void 0:M.editor.create(H.current,{model:K,automaticLayout:!0,...u},h),p&&T.current.restoreViewState(Wl.get(F)),O.current.editor.setTheme(i),o!==void 0&&T.current.revealLine(o),S(!0),W.current=!0}},[e,t,n,r,l,a,u,h,p,i,o]);d.useEffect(()=>{k&&ne.current(T.current,O.current)},[k]),d.useEffect(()=>{!j&&!k&&I()},[j,k,I]),D.current=r,d.useEffect(()=>{var M,F;k&&v&&((M=Q.current)==null||M.dispose(),Q.current=(F=T.current)==null?void 0:F.onDidChangeModelContent(K=>{_.current||v(T.current.getValue(),K)}))},[k,v]),d.useEffect(()=>{if(k){let M=O.current.editor.onDidChangeMarkers(F=>{var X;let K=(X=T.current.getModel())==null?void 0:X.uri;if(K&&F.find(fe=>fe.path===K.path)){let fe=O.current.editor.getModelMarkers({resource:K});N==null||N(fe)}});return()=>{M==null||M.dispose()}}return()=>{}},[k,N]);function U(){var M,F;(M=Q.current)==null||M.dispose(),m?p&&Wl.set(a,T.current.saveViewState()):(F=T.current.getModel())==null||F.dispose(),T.current.dispose()}return Ae.createElement(Pm,{width:b,height:y,isEditorReady:k,loading:c,_ref:H,className:x,wrapperProps:w})}var Ux=zx,Bx=d.memo(Ux),Wx=Bx;function Vx({value:e="",onChange:t,language:n="javascript",placeholder:r="Enter your code here...",readOnly:l=!1,className:a="",height:i="600px"}){const{isDarkMode:o}=Mn(),c=d.useRef(null),[u,h]=d.useState("medium"),p={xsmall:12,small:14,medium:16,large:18,xlarge:20},m=w=>({js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",go:"go",sql:"sql",json:"json",yaml:"yaml",yml:"yaml",md:"markdown",html:"html",css:"css",sh:"shell",bash:"shell"})[w.toLowerCase()]||w.toLowerCase(),b=w=>{t&&t(w||"")},y=(w,g)=>{c.current=w,w.addCommand(g.KeyMod.CtrlCmd|g.KeyCode.KeyS,()=>{})},x=m(n);return s.jsxs("div",{className:`code-editor-container ${a}`,children:[s.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2 px-2",children:[s.jsxs("small",{style:{color:"var(--bs-gray-200)"},children:["Language: ",s.jsx("span",{className:"badge",style:{backgroundColor:"#6366f1",color:"white",fontWeight:"500"},children:x})]}),s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsxs("span",{style:{fontSize:"0.875rem",color:"var(--bs-gray-200)",opacity:.9},children:[s.jsx("i",{className:"bi bi-type me-1"}),"Editor Size:"]}),s.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[s.jsx("button",{type:"button",className:`btn ${u==="xsmall"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("xsmall"),title:"Extra Small (12px)",style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${u==="small"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("small"),title:"Small (14px)",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${u==="medium"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("medium"),title:"Medium (16px) - Default",style:{fontSize:"0.875rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${u==="large"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("large"),title:"Large (18px)",style:{fontSize:"1rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${u==="xlarge"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("xlarge"),title:"Extra Large (20px)",style:{fontSize:"1.125rem",padding:"0.25rem 0.5rem"},children:"A"})]})]})]}),s.jsx("div",{className:"editor-wrapper",style:{border:"1px solid var(--border-color, #dee2e6)",borderRadius:"0.375rem",overflow:"hidden"},children:s.jsx(Wx,{height:i,defaultLanguage:x,language:x,theme:o?"vs-dark":"light",value:e,onChange:b,onMount:y,options:{readOnly:l,automaticLayout:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent",lineNumbers:"on",folding:!0,foldingStrategy:"indentation",showFoldingControls:"always",minimap:{enabled:!0,maxColumn:120,renderCharacters:!0,showSlider:"mouseover",side:"right"},fontSize:p[u],fontFamily:"'Fira Code', 'Cascadia Code', 'Courier New', monospace",fontLigatures:!0,lineHeight:1.6,letterSpacing:.5,renderWhitespace:"selection",renderLineHighlight:"all",tabSize:2,insertSpaces:!0,detectIndentation:!0,scrollbar:{vertical:"visible",horizontal:"visible",verticalScrollbarSize:10,horizontalScrollbarSize:10},quickSuggestions:{other:!0,comments:!1,strings:!1},suggestOnTriggerCharacters:!0,acceptSuggestionOnCommitCharacter:!0,acceptSuggestionOnEnter:"on",bracketPairColorization:{enabled:!0},matchBrackets:"always",autoClosingBrackets:"always",autoClosingQuotes:"always",contextmenu:!0,mouseWheelZoom:!0,smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",formatOnPaste:!0,formatOnType:!1},loading:s.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:i},children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading editor..."})})})})})]})}const ls={preview:{name:"Preview",description:"Quick structural assessment",icon:"",color:"primary",purpose:"Get a high-level overview of code structure and organization"},skim:{name:"Skim",description:"Understand abstractions",icon:"",color:"info",purpose:"Focus on interfaces, function signatures, and key workflows"},scan:{name:"Scan",description:"Find specific information",icon:"",color:"success",purpose:"Search for specific patterns, functions, or code elements"},detailed:{name:"Detailed",description:"Deep algorithm understanding",icon:"",color:"warning",purpose:"Line-by-line analysis of complex logic and algorithms"},critical:{name:"Critical",description:"Quality evaluation",icon:"",color:"danger",purpose:"Identify issues, security concerns, and improvement opportunities"}};function Hx({selectedMode:e,onModeSelect:t,onDetailsClick:n,disabled:r=!1}){return s.jsxs("div",{className:"analysis-mode-selector mb-3",children:[s.jsx("h6",{className:"mb-2",children:"Analysis Mode:"}),s.jsx("div",{className:"row g-2",children:Object.entries(ls).map(([l,a])=>s.jsx("div",{className:"col-md-2 col-sm-4 col-6",children:s.jsxs("div",{className:`frosted-card h-100 mode-card ${l} ${e===l?"border-primary border-3":""} ${r?"opacity-50":""}`,style:{cursor:r?"not-allowed":"pointer",transition:"all 0.2s",padding:"0.75rem",position:"relative"},children:[s.jsx("div",{onClick:()=>!r&&t(l),style:{cursor:r?"not-allowed":"pointer"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"fs-4 mb-1",children:a.icon}),s.jsx("h6",{className:`mb-1 ${e===l?"text-primary":""}`,children:a.name}),s.jsx("small",{style:{color:"var(--bs-gray-300)",opacity:.9},children:a.description})]})}),s.jsx("div",{className:"mt-2 text-center",children:s.jsxs("button",{className:"btn btn-sm btn-outline-primary btn-details",onClick:i=>{i.stopPropagation(),n&&n(l)},disabled:r,title:`View and customize ${a.name} mode prompt`,style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[s.jsx("i",{className:"bi bi-file-text me-1"}),"Details"]})})]})},l))}),e&&s.jsx("div",{className:"mt-2",children:s.jsxs("small",{style:{color:"var(--bs-gray-200)",opacity:.95},children:[s.jsxs("strong",{children:[ls[e].name,":"]})," ",ls[e].purpose]})})]})}function qx({result:e,loading:t=!1,error:n=null,mode:r="preview",onRetry:l=null}){var u;const[a,i]=d.useState("medium"),o={xsmall:"0.875rem",small:"1.0rem",medium:"1.125rem",large:"1.25rem",xlarge:"1.375rem"};if(t)return s.jsx("div",{className:"analysis-output frosted-card h-100",style:{display:"flex",flexDirection:"column"},children:s.jsx("div",{className:"d-flex justify-content-center align-items-center flex-grow-1",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",style:{width:"3rem",height:"3rem"},children:s.jsx("span",{className:"visually-hidden",children:"Analyzing code..."})}),s.jsxs("h6",{className:"text-muted mb-2",children:["Running ",((u=ls[r])==null?void 0:u.name)||r," analysis..."]}),s.jsx("small",{className:"text-muted",children:"This may take a few moments depending on code complexity and selected model."})]})})});if(n)return s.jsx("div",{className:"analysis-output frosted-card h-100",style:{display:"flex",flexDirection:"column"},children:s.jsxs("div",{className:"alert alert-danger m-3",role:"alert",children:[s.jsxs("h6",{className:"alert-heading",children:[s.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),"Analysis Failed"]}),s.jsx("p",{className:"mb-2",children:n}),l&&s.jsxs("button",{className:"btn btn-outline-danger btn-sm",onClick:l,children:[s.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Try Again"]})]})});if(!e)return s.jsx("div",{className:"analysis-output frosted-card h-100",style:{display:"flex",flexDirection:"column"},children:s.jsx("div",{className:"d-flex justify-content-center align-items-center text-center flex-grow-1",children:s.jsxs("div",{children:[s.jsx("div",{className:"fs-1 mb-3",children:""}),s.jsx("h6",{style:{color:"var(--bs-gray-200)"},className:"mb-2",children:"No Analysis Yet"}),s.jsx("p",{style:{color:"var(--bs-gray-300)"},className:"mb-0",children:'Add some code to the left pane, select an analysis mode, and click "Analyze" to get started.'})]})})});const c=()=>{if(typeof e=="string"){if(e.includes("<div")||e.includes("<span")||e.includes("<p"))try{const p=new DOMParser().parseFromString(e,"text/html");let m="";const b=y=>{if(y.nodeType===Node.TEXT_NODE){const x=y.textContent;x.trim()&&(m+=x)}else if(y.nodeType===Node.ELEMENT_NODE){const x=y.tagName.toLowerCase();["p","div","h1","h2","h3","h4","h5","h6","li","br"].includes(x)&&m&&!m.endsWith(`
`)&&(m+=`
`),x==="pre"||x==="code"?(m+=y.textContent,x==="pre"&&(m+=`
`)):y.childNodes.forEach(b),["p","div","h1","h2","h3","h4","h5","h6","li"].includes(x)&&(m.endsWith(`
`)||(m+=`
`))}};return p.body.childNodes.forEach(b),m=m.replace(/\n{3,}/g,`

`),m.trim()||e}catch(h){return console.warn("Failed to parse HTML, returning raw result:",h),e}return e}return typeof e=="object"?e.result?String(e.result):e.text?String(e.text):e.content?String(e.content):JSON.stringify(e,null,2):String(e)};return s.jsxs("div",{className:"analysis-output frosted-card h-100",style:{display:"flex",flexDirection:"column"},children:[s.jsx("div",{className:"border-bottom d-flex align-items-center justify-content-end px-3 py-2",children:s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsxs("span",{style:{fontSize:"0.875rem",color:"var(--bs-gray-200)",opacity:.9},children:[s.jsx("i",{className:"bi bi-type me-1"}),"Text Size:"]}),s.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[s.jsx("button",{type:"button",className:`btn ${a==="xsmall"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>i("xsmall"),title:"Extra Small (14px)",style:{fontSize:"0.7rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${a==="small"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>i("small"),title:"Small (16px)",style:{fontSize:"0.8rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${a==="medium"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>i("medium"),title:"Medium (18px) - Default",style:{fontSize:"0.875rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${a==="large"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>i("large"),title:"Large (20px)",style:{fontSize:"1rem",padding:"0.25rem 0.5rem"},children:"A"}),s.jsx("button",{type:"button",className:`btn ${a==="xlarge"?"btn-primary":"btn-outline-secondary"}`,onClick:()=>i("xlarge"),title:"Extra Large (22px)",style:{fontSize:"1.125rem",padding:"0.25rem 0.5rem"},children:"A"})]})]})}),s.jsx("div",{className:"p-4 flex-grow-1",style:{overflowY:"auto",overflowX:"hidden"},children:s.jsx("pre",{className:"mb-0",style:{whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:"1.6",fontSize:o[a],fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',overflowX:"hidden",textAlign:"left",margin:0,padding:0},children:c()})})]})}function Gx({files:e=[],activeFileId:t,onFileSelect:n,onFileClose:r,onFileAdd:l,onFileRename:a}){const i=(u,h)=>{u.stopPropagation();const p=e.find(m=>m.id===h);p!=null&&p.hasUnsavedChanges&&!window.confirm(`"${p.name}" has unsaved changes. Do you want to close it anyway?`)||r&&r(h)},o=u=>{n&&n(u)},c=u=>{if(a){const h=e.find(m=>m.id===u),p=prompt("Enter new file name:",h.name);p&&p.trim()&&p!==h.name&&a(u,p.trim())}};return s.jsxs("div",{className:"file-tabs-container",style:{display:"flex",alignItems:"center",backgroundColor:u=>u?"rgba(30, 33, 48, 0.95)":"rgba(250, 250, 255, 0.95)",borderBottom:"2px solid rgba(99, 102, 241, 0.2)",padding:"0.25rem 0.5rem",gap:"0.25rem",overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",maxWidth:"100%"},children:[e.map(u=>s.jsxs("div",{onClick:()=>o(u.id),onDoubleClick:()=>c(u.id),className:`file-tab ${u.id===t?"active":""}`,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",borderRadius:"8px 8px 0 0",cursor:"pointer",transition:"all 0.2s ease",position:"relative",backgroundColor:u.id===t?"rgba(99, 102, 241, 0.15)":"transparent",border:u.id===t?"2px solid rgba(99, 102, 241, 0.4)":"2px solid transparent",borderBottom:"none",minWidth:"fit-content"},title:u.path||u.name,children:[s.jsx("span",{style:{fontSize:"1rem",opacity:.8},children:Kx(u.language)}),s.jsx("span",{style:{fontSize:"0.875rem",fontWeight:u.id===t?"600":"400",color:u.id===t?"#6366f1":"inherit",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.name}),u.hasUnsavedChanges&&s.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#ec4899",flexShrink:0},title:"Unsaved changes"}),s.jsx("button",{onClick:h=>i(h,u.id),className:"btn-close-tab",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",border:"none",background:"transparent",cursor:"pointer",borderRadius:"4px",padding:0,opacity:.6,transition:"all 0.2s ease",fontSize:"1rem",color:"inherit"},onMouseEnter:h=>{h.currentTarget.style.opacity="1",h.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)"},onMouseLeave:h=>{h.currentTarget.style.opacity="0.6",h.currentTarget.style.backgroundColor="transparent"},title:"Close (Ctrl+W)",children:""})]},u.id)),s.jsx("button",{onClick:l,className:"btn-add-file",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",border:"none",background:"transparent",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s ease",fontSize:"1.25rem",color:"#6366f1",opacity:.7,minWidth:"fit-content"},onMouseEnter:u=>{u.currentTarget.style.opacity="1",u.currentTarget.style.backgroundColor="rgba(99, 102, 241, 0.1)"},onMouseLeave:u=>{u.currentTarget.style.opacity="0.7",u.currentTarget.style.backgroundColor="transparent"},title:"Add new file (Ctrl+N)",children:s.jsx("i",{className:"bi bi-plus-circle"})}),e.length>1&&s.jsxs("span",{style:{fontSize:"0.75rem",color:"rgba(99, 102, 241, 0.6)",marginLeft:"auto",padding:"0.25rem 0.5rem",borderRadius:"12px",backgroundColor:"rgba(99, 102, 241, 0.1)",fontWeight:"500",minWidth:"fit-content"},children:[e.length," ",e.length===1?"file":"files"]})]})}function Kx(e){return{javascript:"",typescript:"",python:"",go:"",java:"",rust:"",c:"",cpp:"",csharp:"#",sql:"",html:"",css:"",json:"",yaml:"",markdown:"",shell:"",bash:"",php:"",ruby:"",swift:"",kotlin:""}[e==null?void 0:e.toLowerCase()]||""}function Qx({treeData:e=[],selectedFiles:t=[],onFileSelect:n,onFilesAnalyze:r,loading:l=!1}){const[a,i]=d.useState(new Set),[o,c]=d.useState(""),u=y=>{i(x=>{const w=new Set(x);return w.has(y)?w.delete(y):w.add(y),w})},h=(y,x)=>{if(n){const w=x.ctrlKey||x.metaKey;n(y,w)}},p=()=>{r&&t.length>0&&r(t)},m=(y,x)=>{if(!x)return y;const w=x.toLowerCase();return y.filter(g=>g.type==="file"?g.name.toLowerCase().includes(w)||g.path.toLowerCase().includes(w):m(g.children||[],x).length>0||g.name.toLowerCase().includes(w)).map(g=>g.type==="directory"?{...g,children:m(g.children||[],x)}:g)},b=m(e,o);return s.jsxs("div",{className:"file-tree-browser frosted-card",style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[s.jsxs("div",{className:"p-3 border-bottom",style:{borderBottomColor:"rgba(99, 102, 241, 0.2)"},children:[s.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[s.jsxs("h6",{className:"mb-0",style:{color:"#6366f1"},children:[s.jsx("i",{className:"bi bi-folder2-open me-2"}),"File Explorer"]}),t.length>0&&s.jsxs("span",{className:"badge",style:{backgroundColor:"rgba(99, 102, 241, 0.2)",color:"#6366f1"},children:[t.length," selected"]})]}),s.jsxs("div",{className:"input-group input-group-sm",children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"bi bi-search"})}),s.jsx("input",{type:"text",className:"form-control",placeholder:"Search files...",value:o,onChange:y=>c(y.target.value)}),o&&s.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>c(""),title:"Clear search",children:s.jsx("i",{className:"bi bi-x"})})]})]}),s.jsx("div",{className:"flex-grow-1",style:{overflowY:"auto",overflowX:"hidden",padding:"0.5rem"},children:b.length===0?s.jsxs("div",{className:"text-center text-muted p-4",children:[s.jsx("i",{className:"bi bi-folder-x",style:{fontSize:"2rem"}}),s.jsx("p",{className:"mt-2 mb-0",children:o?"No files match your search":"No files found"})]}):s.jsx(Lm,{nodes:b,expandedFolders:a,selectedFiles:t,onToggleFolder:u,onFileClick:h,level:0})}),t.length>0&&s.jsx("div",{className:"p-3 border-top",style:{borderTopColor:"rgba(99, 102, 241, 0.2)",backgroundColor:"rgba(99, 102, 241, 0.05)"},children:s.jsx("button",{className:"btn btn-primary w-100",onClick:p,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-lightning-charge me-2"}),"Analyze ",t.length," File",t.length!==1?"s":""]})})})]})}function Lm({nodes:e,expandedFolders:t,selectedFiles:n,onToggleFolder:r,onFileClick:l,level:a}){return s.jsx(s.Fragment,{children:e.map((i,o)=>{const c=t.has(i.path),u=n.some(p=>p.path===i.path),h=a*1.25;return i.type==="directory"?s.jsxs("div",{children:[s.jsxs("div",{onClick:()=>r(i.path),style:{paddingLeft:`${h}rem`,paddingTop:"0.375rem",paddingBottom:"0.375rem",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.15s ease",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:p=>{p.currentTarget.style.backgroundColor="rgba(99, 102, 241, 0.08)"},onMouseLeave:p=>{p.currentTarget.style.backgroundColor="transparent"},children:[s.jsx("i",{className:`bi bi-chevron-${c?"down":"right"}`,style:{fontSize:"0.75rem",color:"#6366f1"}}),s.jsx("i",{className:`bi bi-folder${c?"-open":""}`,style:{color:"#ec4899"}}),s.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:i.name}),i.children&&s.jsx("span",{className:"badge badge-sm",style:{backgroundColor:"rgba(99, 102, 241, 0.15)",color:"#6366f1",fontSize:"0.7rem",marginLeft:"auto"},children:i.children.length})]}),c&&i.children&&s.jsx(Lm,{nodes:i.children,expandedFolders:t,selectedFiles:n,onToggleFolder:r,onFileClick:l,level:a+1})]},i.path||o):s.jsxs("div",{onClick:p=>l(i,p),style:{paddingLeft:`${h+.5}rem`,paddingTop:"0.375rem",paddingBottom:"0.375rem",cursor:"pointer",borderRadius:"0.25rem",transition:"all 0.15s ease",display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:u?"rgba(99, 102, 241, 0.15)":"transparent"},onMouseEnter:p=>{u||(p.currentTarget.style.backgroundColor="rgba(99, 102, 241, 0.08)")},onMouseLeave:p=>{u||(p.currentTarget.style.backgroundColor="transparent")},children:[u&&s.jsx("i",{className:"bi bi-check-circle-fill",style:{color:"#6366f1",fontSize:"0.875rem"}}),s.jsx("span",{style:{fontSize:"1rem"},children:Yx(i.name)}),s.jsx("span",{style:{fontSize:"0.875rem",color:u?"#6366f1":"inherit",fontWeight:u?"500":"400"},children:i.name})]},i.path||o)})})}function Yx(e){const t=e.split(".").pop().toLowerCase();return{js:"",jsx:"",ts:"",tsx:"",py:"",go:"",java:"",rs:"",c:"",cpp:"",cs:"#",php:"",rb:"",swift:"",kt:"",html:"",css:"",scss:"",vue:"",json:"",yaml:"",yml:"",xml:"",toml:"",md:"",txt:"",sql:"",sh:"",bash:"",gitignore:"",dockerignore:"",dockerfile:""}[t]||""}function Xx({show:e,onClose:t,onSuccess:n}){const[r,l]=d.useState(""),[a,i]=d.useState("main"),[o,c]=d.useState("quick"),[u,h]=d.useState(!1),[p,m]=d.useState(null),[b,y]=d.useState(null),x=N=>{const k=/^(https?:\/\/)?(www\.)?github\.com\/[\w-]+\/[\w.-]+\/?$/;return N.trim()?k.test(N.trim())?null:"Invalid GitHub URL format. Expected: github.com/owner/repo":"GitHub URL is required"},w=N=>{const k=N.trim().replace(/^(https?:\/\/)?(www\.)?/,"").replace(/\/$/,""),S=k.split("/");return S.length>=3&&S[0]==="github.com"?{owner:S[1],repo:S[2],fullUrl:k}:null},g=N=>{const k=N.target.value;l(k),y(null),m(null)},f=async N=>{N.preventDefault();const k=x(r);if(k){y(k);return}const S=w(r);if(!S){y("Could not parse GitHub URL");return}h(!0),m(null),y(null);try{let j;o==="quick"?j=await ot.githubQuickScan(S.fullUrl,a):j=await ot.githubGetTree(S.fullUrl,a),n({mode:o,data:j,repoInfo:{owner:S.owner,repo:S.repo,branch:a,url:S.fullUrl}}),v()}catch(j){console.error("GitHub import failed:",j),j.message.includes("404")?m("Repository not found. Check the URL and branch name."):j.message.includes("403")?m("Access denied. You may need to authenticate for private repositories."):j.message.includes("Authentication required")?m("Please log in to access GitHub repositories."):m(j.message||"Failed to import repository. Please try again.")}finally{h(!1)}},v=()=>{u||(l(""),i("main"),c("quick"),m(null),y(null),t())};return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop fade show",onClick:v,style:{zIndex:1040}}),s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog",style:{zIndex:1050},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:s.jsxs("div",{className:"modal-content",style:{backgroundColor:"var(--bs-body-bg)",border:"2px solid rgba(99, 102, 241, 0.3)",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:[s.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid rgba(99, 102, 241, 0.2)",padding:"1.5rem"},children:[s.jsxs("h5",{className:"modal-title",children:[s.jsx("i",{className:"bi bi-github me-2 text-primary"}),"Import from GitHub"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:v,disabled:u,"aria-label":"Close"})]}),s.jsx("div",{className:"modal-body",style:{padding:"1.5rem"},children:s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"githubUrl",className:"form-label",children:s.jsx("strong",{children:"GitHub Repository URL"})}),s.jsx("input",{type:"text",id:"githubUrl",className:`form-control ${b?"is-invalid":""}`,placeholder:"github.com/owner/repo or https://github.com/owner/repo",value:r,onChange:g,disabled:u,autoFocus:!0,style:{padding:"0.75rem",fontSize:"1rem",borderRadius:"8px"}}),b&&s.jsxs("div",{className:"invalid-feedback d-block",children:[s.jsx("i",{className:"bi bi-exclamation-circle me-1"}),b]}),s.jsxs("small",{className:"form-text text-muted",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"Enter the repository URL (e.g., github.com/golang/go)"]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"branch",className:"form-label",children:s.jsx("strong",{children:"Branch"})}),s.jsx("input",{type:"text",id:"branch",className:"form-control",placeholder:"main",value:a,onChange:N=>i(N.target.value),disabled:u,style:{padding:"0.75rem",fontSize:"1rem",borderRadius:"8px"}}),s.jsxs("small",{className:"form-text text-muted",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"Default: main (or master for older repos)"]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"form-label d-block",children:s.jsx("strong",{children:"Import Mode"})}),s.jsxs("div",{className:"form-check mb-2 p-3",style:{backgroundColor:o==="quick"?"rgba(99, 102, 241, 0.1)":"transparent",border:`2px solid ${o==="quick"?"rgba(99, 102, 241, 0.4)":"rgba(99, 102, 241, 0.2)"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>!u&&c("quick"),children:[s.jsx("input",{className:"form-check-input",type:"radio",name:"importMode",id:"quickScan",value:"quick",checked:o==="quick",onChange:N=>c(N.target.value),disabled:u,style:{cursor:"pointer"}}),s.jsxs("label",{className:"form-check-label ms-2",htmlFor:"quickScan",style:{cursor:"pointer"},children:[s.jsx("strong",{children:"Quick Repo Scan"}),s.jsx("span",{className:"badge bg-success ms-2",children:"Fast"}),s.jsxs("div",{className:"text-muted mt-1",style:{fontSize:"0.9rem"},children:[s.jsx("i",{className:"bi bi-lightning-fill me-1"}),"Fetches 5-8 core files (README, package files, entry points) in ~2 seconds. Best for quick project assessment."]})]})]}),s.jsxs("div",{className:"form-check p-3",style:{backgroundColor:o==="full"?"rgba(99, 102, 241, 0.1)":"transparent",border:`2px solid ${o==="full"?"rgba(99, 102, 241, 0.4)":"rgba(99, 102, 241, 0.2)"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>!u&&c("full"),children:[s.jsx("input",{className:"form-check-input",type:"radio",name:"importMode",id:"fullBrowser",value:"full",checked:o==="full",onChange:N=>c(N.target.value),disabled:u,style:{cursor:"pointer"}}),s.jsxs("label",{className:"form-check-label ms-2",htmlFor:"fullBrowser",style:{cursor:"pointer"},children:[s.jsx("strong",{children:"Full Repository Browser"}),s.jsx("span",{className:"badge bg-primary ms-2",children:"Complete"}),s.jsxs("div",{className:"text-muted mt-1",style:{fontSize:"0.9rem"},children:[s.jsx("i",{className:"bi bi-folder-fill me-1"}),"Fetches complete file tree structure. Explore all files and folders. Files loaded on-demand when selected."]})]})]})]}),p&&s.jsxs("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),s.jsx("div",{children:p})]}),u&&s.jsxs("div",{className:"alert alert-info d-flex align-items-center",role:"alert",children:[s.jsx("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("div",{children:o==="quick"?"Fetching core files from repository...":"Fetching repository structure..."})]})]})}),s.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid rgba(99, 102, 241, 0.2)",padding:"1rem 1.5rem"},children:[s.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:v,disabled:u,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:f,disabled:u||!r.trim(),children:u?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-download me-2"}),"Import Repository"]})})]})]})})})]}):null}const Om=2e3,Mr={LOAD_FAILED:"Failed to load prompt. Please try again.",SAVE_FAILED:"Failed to save prompt. Please try again.",RESET_FAILED:"Failed to reset prompt. Please try again.",VALIDATION_REQUIRED_VARS:"Prompt must contain all required variables",VALIDATION_MAX_LENGTH:`Prompt cannot exceed ${Om} characters`},_u={preview:[{name:"{{code}}",description:"Code to analyze",required:!0}],skim:[{name:"{{code}}",description:"Code to analyze",required:!0}],scan:[{name:"{{code}}",description:"Code to analyze",required:!0},{name:"{{query}}",description:"Search query",required:!0}],detailed:[{name:"{{code}}",description:"Code to analyze",required:!0}],critical:[{name:"{{code}}",description:"Code to analyze",required:!0}]};function Jx({isOpen:e,onClose:t,mode:n,userLevel:r="intermediate",outputMode:l="quick"}){const{isDarkMode:a}=Mn(),[i,o]=d.useState(""),[c,u]=d.useState(""),[h,p]=d.useState(!1),[m,b]=d.useState(!1),[y,x]=d.useState(!1),[w,g]=d.useState(null),[f,v]=d.useState(null),[N,k]=d.useState(!1),[S,j]=d.useState(!1),E=d.useMemo(()=>_u[n]||_u.preview,[n]);d.useEffect(()=>{e&&O()},[e,n,r,l]);const O=async()=>{x(!0),g(null),v(null);try{const L=await ot.getPrompt(n,r,l);o(L.prompt_text),u(L.prompt_text),p(L.is_custom||!1),b(L.can_reset||!1)}catch(L){g(L.message||Mr.LOAD_FAILED)}finally{x(!1)}},T=L=>{if(L.length>Om)return Mr.VALIDATION_MAX_LENGTH;const W=E.filter(I=>I.required),_=[];for(const I of W)L.includes(I.name)||_.push(I.name);return _.length>0?`${Mr.VALIDATION_REQUIRED_VARS}: ${_.join(", ")}`:null},H=async()=>{v(null);const L=T(i);if(L){v(L);return}x(!0),g(null);try{await ot.savePrompt({mode:n,user_level:r,output_mode:l,prompt_text:i,variables:E.map(W=>W.name)}),await O(),t()}catch(W){g(W.message||Mr.SAVE_FAILED)}finally{x(!1)}},ne=async()=>{x(!0),g(null),v(null);try{await ot.resetPrompt(n,r,l),await O(),k(!1)}catch(L){g(L.message||Mr.RESET_FAILED)}finally{x(!1)}},$=()=>{o(c),v(null),g(null),t()},Q=L=>{o(L.target.value),v(null)},D=L=>{const W=[];let _=0;const I=/\{\{[\w_]+\}\}/g;let U;for(;(U=I.exec(L))!==null;)U.index>_&&W.push({type:"text",content:L.substring(_,U.index)}),W.push({type:"variable",content:U[0]}),_=U.index+U[0].length;return _<L.length&&W.push({type:"text",content:L.substring(_)}),W};return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal show d-block prompt-editor-modal",tabIndex:"-1",role:"dialog",children:s.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:s.jsxs("div",{className:`modal-content ${a?"bg-dark text-light":""}`,children:[s.jsxs("div",{className:`modal-header ${a?"border-secondary":""}`,children:[s.jsxs("h5",{className:"modal-title",children:["Edit Prompt - ",n.charAt(0).toUpperCase()+n.slice(1)," Mode"]}),s.jsxs("div",{className:"ms-auto d-flex align-items-center gap-2",children:[h?s.jsx("span",{className:"badge bg-primary badge-custom",children:"Custom"}):s.jsx("span",{className:"badge bg-secondary badge-default",children:"System Default"}),s.jsx("button",{type:"button",className:`btn-close ${a?"btn-close-white":""}`,onClick:$,disabled:y})]})]}),s.jsxs("div",{className:`modal-body ${a?"bg-dark":""}`,children:[w&&s.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[w,s.jsx("button",{type:"button",className:"btn-close",onClick:()=>g(null)})]}),f&&s.jsxs("div",{className:"alert alert-warning validation-error",role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),f]}),y?s.jsx("div",{className:"text-center py-5",children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`card mb-3 variable-reference-panel ${a?"bg-dark border-secondary":""}`,children:[s.jsxs("div",{className:`card-header d-flex justify-content-between align-items-center ${a?"bg-dark border-secondary text-light":""}`,style:{cursor:"pointer"},onClick:()=>j(!S),children:[s.jsxs("span",{children:[s.jsx("i",{className:"bi bi-code-square me-2"}),"Available Variables"]}),s.jsx("button",{className:`btn btn-sm btn-link expand-btn ${a?"text-light":""}`,type:"button",children:s.jsx("i",{className:`bi bi-chevron-${S?"up":"down"}`})})]}),S&&s.jsx("div",{className:`card-body ${a?"bg-dark text-light":""}`,children:s.jsx("div",{className:"row",children:E.map((L,W)=>s.jsxs("div",{className:"col-md-6 mb-2",children:[s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("code",{className:"text-primary me-2",children:L.name}),L.required&&s.jsx("span",{className:"badge bg-danger badge-sm",children:"Required"})]}),s.jsx("small",{className:"text-muted",children:L.description})]},W))})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"prompt-text",className:"form-label",children:"Prompt Template"}),s.jsx("textarea",{id:"prompt-text",name:"prompt",className:`form-control font-monospace ${a?"bg-dark text-light border-secondary":""}`,rows:"12",value:i,onChange:Q,placeholder:"Enter your prompt template...",style:{fontSize:"14px"}}),s.jsxs("div",{className:"d-flex justify-content-between mt-1",children:[s.jsxs("small",{className:"text-muted",children:["Use variables like ",s.jsx("code",{children:"{{code}}"})," in your prompt"]}),s.jsxs("small",{className:"text-muted character-count",children:[i.length," characters"]})]})]}),s.jsx("div",{className:`card ${a?"bg-dark border-secondary":"bg-light"}`,children:s.jsxs("div",{className:`card-body ${a?"text-light":""}`,children:[s.jsx("h6",{className:"card-title",children:"Preview"}),s.jsx("div",{className:"font-monospace",style:{fontSize:"13px",whiteSpace:"pre-wrap"},children:D(i).map((L,W)=>L.type==="variable"?s.jsx("span",{className:"text-primary fw-bold",children:L.content},W):s.jsx("span",{children:L.content},W))})]})})]})]}),s.jsxs("div",{className:`modal-footer d-flex justify-content-between ${a?"border-secondary":""}`,children:[s.jsx("div",{children:m&&s.jsxs("button",{type:"button",className:"btn btn-outline-danger btn-factory-reset",onClick:()=>k(!0),disabled:y,children:[s.jsx("i",{className:"bi bi-arrow-counterclockwise me-1"}),"Factory Reset"]})}),s.jsxs("div",{className:"d-flex gap-2",children:[s.jsx("button",{type:"button",className:"btn btn-secondary btn-cancel",onClick:$,disabled:y,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-primary btn-save",onClick:H,disabled:y||!i.trim(),children:y?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-save me-1"}),"Save Custom Prompt"]})})]})]})]})})}),s.jsx("div",{className:"modal-backdrop show"}),N&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal show d-block",tabIndex:"-1",role:"dialog",style:{zIndex:1060},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:s.jsxs("div",{className:`modal-content ${a?"bg-dark text-light":""}`,children:[s.jsxs("div",{className:`modal-header ${a?"border-secondary":""}`,children:[s.jsx("h5",{className:"modal-title",children:"Confirm Factory Reset"}),s.jsx("button",{type:"button",className:`btn-close ${a?"btn-close-white":""}`,onClick:()=>k(!1),disabled:y})]}),s.jsxs("div",{className:`modal-body ${a?"bg-dark":""}`,children:[s.jsx("p",{children:"Are you sure you want to reset this prompt to the system default?"}),s.jsxs("p",{className:"text-muted mb-0",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"This will permanently delete your custom prompt for this mode."]})]}),s.jsxs("div",{className:`modal-footer ${a?"border-secondary":""}`,children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>k(!1),disabled:y,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-danger confirm-reset-btn",onClick:ne,disabled:y,children:y?"Resetting...":"Yes, Reset to Default"})]})]})})}),s.jsx("div",{className:"modal-backdrop show",style:{zIndex:1055}})]})]}):null}const Pu=`// Example JavaScript function to analyze
function fibonacci(n) {
  if (n <= 1) {
    return n;
  }
  return fibonacci(n - 1) + fibonacci(n - 2);
}

// TODO: Optimize for large values of n
// Consider using memoization or iterative approach
console.log(fibonacci(10));
`;function Zx(){const{user:e,logout:t}=On(),{isDarkMode:n,toggleTheme:r}=Mn(),[l,a]=d.useState([{id:"file_1",name:"example.js",language:"javascript",content:Pu,hasUnsavedChanges:!1,path:null}]),[i,o]=d.useState("file_1"),c=l.find(z=>z.id===i),u=(c==null?void 0:c.content)||"",[h,p]=d.useState("preview"),[m,b]=d.useState(""),[y,x]=d.useState(""),[w,g]=d.useState(null),[f,v]=d.useState(!1),[N,k]=d.useState(null),[S]=d.useState(()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),[j,E]=d.useState("intermediate"),[O,T]=d.useState("quick"),[H,ne]=d.useState(!1),[$,Q]=d.useState("preview"),[D,L]=d.useState(!1),[W,_]=d.useState(null),[I,U]=d.useState(null),[M,F]=d.useState(!1),[K,X]=d.useState([]),fe=d.useRef(null),Pe=z=>{a(re=>re.map(V=>V.id===i?{...V,content:z,hasUnsavedChanges:!0}:V))},Me=z=>{o(z),g(null),k(null)},mn=z=>{const re=l.findIndex(te=>te.id===z),V=l.filter(te=>te.id!==z);if(V.length===0){const te=`file_${Date.now()}`;a([{id:te,name:"untitled.js",language:"javascript",content:"",hasUnsavedChanges:!1,path:null}]),o(te);return}if(a(V),z===i){const te=re>0?re-1:0;o(V[te].id)}},pt=()=>{const z=`file_${Date.now()}`,re={id:z,name:`untitled-${l.length+1}.js`,language:"javascript",content:`// New file
`,hasUnsavedChanges:!1,path:null};a(V=>[...V,re]),o(z),g(null),k(null)},Ke=(z,re)=>{const V=re.split(".").pop().toLowerCase(),C={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",go:"go",rs:"rust",java:"java",c:"c",cpp:"cpp",cs:"csharp",sql:"sql",html:"html",css:"css",json:"json",yaml:"yaml",yml:"yaml",md:"markdown",sh:"shell",bash:"shell"}[V]||"javascript";a(P=>P.map(B=>B.id===z?{...B,name:re,language:C,hasUnsavedChanges:!0}:B))},Nt=z=>{Q(z),ne(!0)},Qe=()=>{ne(!1)},rt=z=>{const{mode:re,data:V,repoInfo:te}=z;if(_(te),re==="quick"){console.log("Quick scan data:",V),a([]);const C=[];V.readme&&C.push({id:`file_readme_${Date.now()}`,name:"README.md",language:"markdown",content:V.readme,hasUnsavedChanges:!1,path:"README.md",repoInfo:te}),V.entry_points&&Array.isArray(V.entry_points)&&V.entry_points.forEach((P,B)=>{if(P.content){const J=P.path.split("/").pop(),je=J.split(".").pop().toLowerCase(),we={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",go:"go",rs:"rust",java:"java",c:"c",cpp:"cpp",json:"json",yaml:"yaml",yml:"yaml"};C.push({id:`file_entry_${B}_${Date.now()}`,name:J,language:we[je]||"plaintext",content:P.content,hasUnsavedChanges:!1,path:P.path,repoInfo:te})}}),V.config_files&&Array.isArray(V.config_files)&&V.config_files.forEach((P,B)=>{if(P.content){const J=P.path.split("/").pop(),je=J.split(".").pop().toLowerCase();C.push({id:`file_config_${B}_${Date.now()}`,name:J,language:je==="json"?"json":"yaml",content:P.content,hasUnsavedChanges:!1,path:P.path,repoInfo:te})}}),C.length===0&&C.push({id:`file_${Date.now()}`,name:"info.txt",language:"plaintext",content:`Repository: ${te.owner}/${te.repo}
Branch: ${te.branch}

No core files found.`,hasUnsavedChanges:!1,path:null,repoInfo:te}),a(C),o(C[0].id)}else console.log("Full tree data:",V),V.tree&&Array.isArray(V.tree)?(U(V.tree),F(!0),_(te),a([]),o(null)):(console.error("Invalid tree data received:",V),k("Failed to load repository tree"));L(!1),k(null)},ht=async(z,re)=>{z.type!=="directory"&&(re?X(V=>V.some(C=>C.path===z.path)?V.filter(C=>C.path!==z.path):[...V,z]):await Z(z.path))},Z=async z=>{const re=l.find(V=>V.path===z);if(re){o(re.id);return}try{v(!0);const V=await ot.githubGetFile(W.url,z,W.branch),te=z.split("/").pop(),C=te.split(".").pop().toLowerCase(),P={js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",go:"go",py:"python",java:"java",c:"c",cpp:"cpp",cs:"csharp",html:"html",css:"css",scss:"scss",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",md:"markdown",sql:"sql",sh:"shell",bash:"shell",rs:"rust",rb:"ruby",php:"php"},B={id:`file_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:te,language:V.language||P[C]||"plaintext",content:V.content,hasUnsavedChanges:!1,path:z,repoInfo:W};a(J=>[...J,B]),o(B.id)}catch(V){console.error("Failed to fetch file:",V),k(`Failed to load file: ${V.message||"Unknown error"}`)}finally{v(!1)}},It=async z=>{console.log("Analyzing selected files:",z);for(const re of z)await Z(re.path);X([])},gt=async()=>{if(!u.trim()){k("Please enter some code to analyze");return}if(!m){k("Please select an AI model");return}if(h==="scan"&&!y.trim()){k("Please enter a search query for Scan mode");return}try{v(!0),k(null),g(null);let z;switch(h){case"preview":z=await ot.runPreview(S,u,m,j,O);break;case"skim":z=await ot.runSkim(S,u,m,j,O);break;case"scan":z=await ot.runScan(S,u,m,y,j,O);break;case"detailed":z=await ot.runDetailed(S,u,m,j,O);break;case"critical":z=await ot.runCritical(S,u,m,j,O);break;default:throw new Error(`Unknown analysis mode: ${h}`)}g(z)}catch(z){console.error("Analysis failed:",z),k(z.message||"Analysis failed. Please try again.")}finally{v(!1)}},pn=()=>{k(null),gt()},At=()=>{a(z=>z.map(re=>re.id===i?{...re,content:"",hasUnsavedChanges:!1}:re)),g(null),k(null)},wr=()=>{const z=`file_${Date.now()}`;a([{id:z,name:"info.txt",language:"plaintext",content:Pu,hasUnsavedChanges:!1,path:null}]),o(z),g(null),k(null),U(null),F(!1)};return s.jsxs("div",{className:"container-fluid py-3",children:[s.jsx("nav",{className:"frosted-card mb-4 p-3",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs(ct,{to:"/",className:"btn btn-outline-primary btn-sm",children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsx("button",{onClick:r,className:"theme-toggle",children:s.jsx("i",{className:`bi ${n?"bi-sun-fill":"bi-moon-fill"}`})}),s.jsxs("span",{className:"me-2",children:["Welcome, ",(e==null?void 0:e.username)||(e==null?void 0:e.name),"!"]}),s.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>t(),children:"Logout"})]})]})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-1",children:[s.jsx("i",{className:"bi bi-code-square text-primary me-2"}),"Code Review"]}),s.jsx("p",{className:"text-muted mb-0",children:"AI-powered code analysis with five distinct reading modes"})]}),s.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[W&&s.jsxs("div",{className:"text-end me-3",children:[s.jsxs("small",{className:"text-muted d-block",children:[s.jsx("i",{className:"bi bi-github me-1"}),W.owner,"/",W.repo]}),s.jsxs("small",{className:"text-muted",children:[s.jsx("i",{className:"bi bi-git me-1"}),W.branch]})]}),s.jsxs("small",{className:"text-muted",children:["Session: ",S]})]})]})})}),s.jsx("div",{className:"row mb-3",children:s.jsx("div",{className:"col-12",children:s.jsx(Hx,{selectedMode:h,onModeSelect:p,onDetailsClick:Nt,disabled:f})})}),h==="scan"&&s.jsx("div",{className:"row mb-3",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"frosted-card p-3",children:[s.jsxs("label",{htmlFor:"scanQuery",className:"form-label mb-2",children:[s.jsx("i",{className:"bi bi-search me-2"}),s.jsx("strong",{children:"What are you looking for?"})]}),s.jsx("input",{type:"text",id:"scanQuery",className:"form-control",placeholder:'Try "functions", "error handling", "database queries", "authentication logic", etc.',value:y,onChange:z=>x(z.target.value),disabled:f,style:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"2px solid rgba(99, 102, 241, 0.2)",borderRadius:"8px",padding:"0.75rem"}}),s.jsxs("small",{className:"text-muted mt-2 d-block",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"This is a ",s.jsx("strong",{children:"context-aware search"}),' - ask for concepts like "functions" or "error handling" rather than exact text matches. The AI will find and analyze relevant code patterns.']})]})})}),s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-md-3",children:s.jsx(bm,{selectedModel:m,onModelSelect:b,disabled:f})}),s.jsx("div",{className:"col-md-3",children:s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-person-circle me-2"}),s.jsx("strong",{children:"Experience Level"})]}),s.jsxs("select",{className:`form-select ${n?"bg-dark text-light border-secondary":""}`,style:n?{backgroundColor:"#1a1d2e",color:"#e0e7ff",borderColor:"#4a5568"}:{},value:j,onChange:z=>E(z.target.value),disabled:f,children:[s.jsx("option",{value:"beginner",children:" Beginner (Detailed with analogies)"}),s.jsx("option",{value:"novice",children:" Novice (<2 years)"}),s.jsx("option",{value:"intermediate",children:" Intermediate (3-5 years)"}),s.jsx("option",{value:"expert",children:" Expert (Concise bullets)"})]}),s.jsx("small",{className:"text-muted d-block mt-1",children:"Adjusts explanation depth and technical terminology"})]})}),s.jsx("div",{className:"col-md-3",children:s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"bi bi-lightbulb me-2"}),s.jsx("strong",{children:"Learning Style"})]}),s.jsxs("div",{className:"btn-group w-100",role:"group",children:[s.jsx("input",{type:"radio",className:"btn-check",name:"outputMode",id:"outputQuick",value:"quick",checked:O==="quick",onChange:z=>T(z.target.value),disabled:f}),s.jsx("label",{className:"btn btn-outline-primary",htmlFor:"outputQuick",children:"Quick Learn"}),s.jsx("input",{type:"radio",className:"btn-check",name:"outputMode",id:"outputDetailed",value:"detailed",checked:O==="detailed",onChange:z=>T(z.target.value),disabled:f}),s.jsx("label",{className:"btn btn-outline-primary",htmlFor:"outputDetailed",children:"Full Learn"})]}),s.jsx("small",{className:"text-muted d-block mt-1",children:O==="detailed"?" Shows AI reasoning process":" Just the analysis"})]})}),s.jsx("div",{className:"col-md-3",children:s.jsx("div",{className:"d-flex gap-2 align-items-end h-100",children:s.jsx("button",{className:"btn btn-primary flex-grow-1",onClick:gt,disabled:f||!u.trim()||!m,children:f?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Analyzing..."]}):"Analyze Code"})})})]}),s.jsx("div",{className:"row mb-3",children:s.jsx("div",{className:"col-md-12",children:s.jsxs("div",{className:"d-flex gap-2",children:[s.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:wr,disabled:f,children:"Reset to Example"}),s.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:At,disabled:f,children:"Clear"}),s.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>L(!0),disabled:f,children:[s.jsx("i",{className:"bi bi-github me-2"}),"Import from GitHub"]})]})})}),s.jsxs("div",{className:"row g-3",children:[M&&I&&s.jsx("div",{className:"col-md-3",children:s.jsxs("div",{className:"frosted-card h-100",style:{display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[s.jsxs("h6",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-folder-tree me-2"}),"Repository Files"]}),s.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{F(!1),U(null),X([])},title:"Close file tree",children:s.jsx("i",{className:"bi bi-x-lg"})})]}),s.jsx("div",{className:"flex-grow-1 overflow-auto",children:s.jsx(Qx,{treeData:I,selectedFiles:K,onFileSelect:ht,onFilesAnalyze:It,loading:f})})]})}),s.jsx("div",{className:M?"col-md-5":"col-md-6",children:s.jsxs("div",{className:"frosted-card h-100",style:{display:"flex",flexDirection:"column"},children:[s.jsxs("div",{className:"p-3 border-bottom d-flex justify-content-between align-items-center",children:[s.jsxs("h6",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-file-code me-2"}),"Code Input"]}),s.jsxs("div",{className:"d-flex gap-3",children:[s.jsxs("small",{style:{color:"var(--bs-gray-200)"},children:[s.jsx("i",{className:"bi bi-type me-1"}),u.length," chars"]}),s.jsxs("small",{style:{color:"var(--bs-gray-200)"},children:[s.jsx("i",{className:"bi bi-list-ol me-1"}),u.split(`
`).length," lines"]})]})]}),s.jsx(Gx,{files:l,activeFileId:i,onFileSelect:Me,onFileClose:mn,onFileAdd:pt,onFileRename:Ke}),s.jsx("div",{className:"p-0 flex-grow-1",children:s.jsx(Vx,{ref:fe,value:u,onChange:Pe,language:(c==null?void 0:c.language)||"javascript",placeholder:"Enter your code here for analysis...",className:"h-100"})})]})}),s.jsx("div",{className:M?"col-md-4":"col-md-6",children:s.jsx(qx,{result:w,loading:f,error:N,mode:h,onRetry:pn})})]}),s.jsx("div",{className:"row mt-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"frosted-card p-3",children:s.jsxs("small",{style:{color:"var(--bs-gray-200)",opacity:.95},children:[s.jsx("i",{className:"bi bi-lightbulb me-1"}),s.jsx("strong",{children:"Tips:"})," Try different analysis modes to understand code from various perspectives. Preview for structure, Skim for abstractions, Scan for specific elements, Detailed for algorithms, and Critical for quality assessment."]})})})}),s.jsx(Xx,{show:D,onClose:()=>L(!1),onSuccess:rt}),s.jsx(Jx,{isOpen:H,onClose:Qe,mode:$,userLevel:j,outputMode:O})]})}function e0(){const{user:e,logout:t}=On();return s.jsxs("div",{className:"container mt-4",children:[s.jsx("nav",{className:"navbar navbar-expand-lg navbar-light frosted-card mb-4",children:s.jsxs("div",{className:"container-fluid",children:[s.jsxs(ct,{to:"/",className:"navbar-brand",children:[s.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsxs("span",{className:"me-3",children:["Welcome, ",(e==null?void 0:e.username)||(e==null?void 0:e.name),"!"]}),s.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>t(),children:"Logout"})]})]})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 mb-4",children:s.jsxs("div",{className:"frosted-card p-4",children:[s.jsxs("h2",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-graph-up text-info me-2"}),"Analytics Dashboard"]}),s.jsx("p",{className:"mb-0",children:"Analyze trends and patterns in your application data"})]})})}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-4 mb-4",children:s.jsxs("div",{className:"frosted-card p-4 text-center h-100",children:[s.jsx("i",{className:"bi bi-bar-chart-line text-primary",style:{fontSize:"3rem"}}),s.jsx("h5",{className:"mt-3 mb-3",children:"Trends"}),s.jsx("p",{className:"mb-0",style:{color:"var(--bs-gray-200)"},children:"Identify patterns and trends in your data"})]})}),s.jsx("div",{className:"col-md-4 mb-4",children:s.jsxs("div",{className:"frosted-card p-4 text-center h-100",children:[s.jsx("i",{className:"bi bi-exclamation-diamond text-warning",style:{fontSize:"3rem"}}),s.jsx("h5",{className:"mt-3 mb-3",children:"Anomalies"}),s.jsx("p",{className:"mb-0",style:{color:"var(--bs-gray-200)"},children:"Detect unusual patterns and outliers"})]})}),s.jsx("div",{className:"col-md-4 mb-4",children:s.jsxs("div",{className:"frosted-card p-4 text-center h-100",children:[s.jsx("i",{className:"bi bi-speedometer2 text-success",style:{fontSize:"3rem"}}),s.jsx("h5",{className:"mt-3 mb-3",children:"Performance"}),s.jsx("p",{className:"mb-0",style:{color:"var(--bs-gray-200)"},children:"Monitor system performance metrics"})]})})]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"frosted-card p-4",children:[s.jsx("h5",{className:"mb-3",children:"Coming Soon"}),s.jsx("p",{className:"mb-3",style:{color:"var(--bs-gray-200)"},children:"Analytics features are currently in development. Check back soon for:"}),s.jsxs("ul",{style:{color:"var(--bs-gray-200)"},children:[s.jsx("li",{children:"Real-time trend analysis"}),s.jsx("li",{children:"Anomaly detection and alerts"}),s.jsx("li",{children:"Performance monitoring dashboards"}),s.jsx("li",{children:"Custom report generation"}),s.jsx("li",{children:"Data visualization and charts"})]})]})})})]})}const t0=[{value:"anthropic",label:"Anthropic (Claude)"},{value:"openai",label:"OpenAI (GPT)"},{value:"ollama",label:"Ollama (Local)"},{value:"deepseek",label:"DeepSeek"},{value:"mistral",label:"Mistral AI"}],Vl={anthropic:["claude-3-5-sonnet-20241022","claude-3-5-sonnet-20240620","claude-3-opus-20240229","claude-3-5-haiku-20241022","claude-3-sonnet-20240229","claude-3-haiku-20240307"],openai:["gpt-4-turbo-preview","gpt-4","gpt-3.5-turbo","gpt-4-32k"],ollama:["llama3.1:70b","llama3.1:8b","deepseek-coder-v2:16b","deepseek-coder:6.7b","qwen2.5-coder:7b","codestral:22b"],deepseek:["deepseek-chat","deepseek-coder"],mistral:["mistral-large","mistral-medium","mistral-small","codestral-latest"]};function n0({isOpen:e,onClose:t,onSave:n,editingConfig:r}){const[l,a]=d.useState({name:"",provider:"anthropic",model:"",api_key:"",endpoint:"",is_default:!1}),[i,o]=d.useState(Vl.anthropic),[c,u]=d.useState(!1),[h,p]=d.useState(null),[m,b]=d.useState({}),[y,x]=d.useState(!1);d.useEffect(()=>{r?(a({name:r.name||"",provider:r.provider||"anthropic",model:r.model||"",api_key:"",endpoint:r.endpoint||"",is_default:r.is_default||!1}),o(Vl[r.provider]||[])):(a({name:"",provider:"anthropic",model:"",api_key:"",endpoint:"",is_default:!1}),o(Vl.anthropic)),p(null),b({})},[r,e]);const w=S=>{a(j=>({...j,provider:S,model:""})),o(Vl[S]||[])},g=S=>{const{name:j,value:E,type:O,checked:T}=S.target;a(H=>({...H,[j]:O==="checkbox"?T:E})),m[j]&&b(H=>({...H,[j]:null}))},f=()=>{const S={};return l.name.trim()||(S.name="Name is required"),l.model||(S.model="Model is required"),l.provider!=="ollama"&&!l.api_key&&!r&&(S.api_key="API key is required"),b(S),Object.keys(S).length===0},v=async()=>{if(f()){u(!0),p(null);try{const S=await q("/api/portal/llm-configs/test",{method:"POST",body:JSON.stringify({provider:l.provider,model:l.model,api_key:l.api_key||void 0,endpoint:l.endpoint||void 0})});p({success:!0,message:(S==null?void 0:S.message)||"Connection successful!"})}catch(S){p({success:!1,message:S.message||"Connection failed"})}finally{u(!1)}}},N=async S=>{if(S.preventDefault(),!!f())try{let j;if(r){const E={...l};E.api_key||delete E.api_key,j=await q(`/api/portal/llm-configs/${r.id}`,{method:"PUT",body:JSON.stringify(E)})}else j=await q("/api/portal/llm-configs",{method:"POST",body:JSON.stringify(l)});n(j),t()}catch(j){console.error("Failed to save config:",j),alert("Failed to save configuration: "+(j.message||"Unknown error"))}};if(!e)return null;const k=l.name.trim()&&l.model&&(l.provider==="ollama"||l.api_key||r);return s.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},role:"dialog",children:s.jsx("div",{className:"modal-dialog modal-lg",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h5",{className:"modal-title",children:[r?"Edit":"Add"," AI Model Configuration"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:t,"aria-label":"Close"})]}),s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"config-name",className:"form-label",children:["Configuration Name ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{type:"text",className:`form-control ${m.name?"is-invalid":""}`,id:"config-name",name:"name",value:l.name,onChange:g,placeholder:"e.g., Claude for Review",required:!0}),m.name&&s.jsx("div",{className:"invalid-feedback",children:m.name})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"provider",className:"form-label",children:["Provider ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("select",{className:"form-select",id:"provider",name:"provider",value:l.provider,onChange:S=>w(S.target.value),required:!0,children:t0.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"model",className:"form-label",children:["Model ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs("select",{className:`form-select ${m.model?"is-invalid":""}`,id:"model",name:"model",value:l.model,onChange:g,required:!0,children:[s.jsx("option",{value:"",children:"Select a model"}),i.map(S=>s.jsx("option",{value:S,children:S},S))]}),m.model&&s.jsx("div",{className:"invalid-feedback",children:m.model})]}),l.provider!=="ollama"&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"api-key",className:"form-label",children:["API Key ",!r&&s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{type:"password",className:`form-control ${m.api_key?"is-invalid":""}`,id:"api-key",name:"api_key",value:l.api_key,onChange:g,placeholder:r?"Leave blank to keep existing key":"Enter API key",required:!r}),m.api_key&&s.jsx("div",{className:"invalid-feedback",children:m.api_key}),r&&s.jsx("small",{className:"form-text text-muted",children:"Leave blank to keep the existing API key"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"endpoint",className:"form-label",children:"Custom Endpoint (Optional)"}),s.jsx("input",{type:"url",className:"form-control",id:"endpoint",name:"endpoint",value:l.endpoint,onChange:g,placeholder:"https://api.example.com/v1"}),s.jsx("small",{className:"form-text text-muted",children:"Override the default API endpoint"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("button",{type:"button",className:"btn btn-link p-0 text-decoration-none d-flex align-items-center",onClick:()=>x(!y),children:[s.jsx("i",{className:`bi bi-chevron-${y?"down":"right"} me-2`}),"Advanced Settings"]}),y&&s.jsx("div",{className:"mt-3 ps-4 border-start",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"is-default",name:"is_default",checked:l.is_default,onChange:g}),s.jsx("label",{className:"form-check-label",htmlFor:"is-default",children:"Set as default configuration"})]})})]}),h&&s.jsxs("div",{className:`alert ${h.success?"alert-success":"alert-danger"}`,children:[s.jsx("i",{className:`bi ${h.success?"bi-check-circle":"bi-x-circle"} me-2`}),h.message]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:v,disabled:c||!k,children:c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Testing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"bi bi-plug me-1"}),"Test Connection"]})}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Cancel"}),s.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:!k,children:[s.jsx("i",{className:"bi bi-save me-1"}),r?"Update":"Save"]})]})]})]})})})}function r0(){var T,H,ne;const{isDarkMode:e,toggleTheme:t}=Mn(),{user:n}=On(),[r,l]=d.useState([]),[a,i]=d.useState({}),[o,c]=d.useState(null),[u,h]=d.useState(!0),[p,m]=d.useState(null),[b,y]=d.useState(!1),[x,w]=d.useState(null),[g,f]=d.useState(null);d.useEffect(()=>{v(),N(),k()},[]);const v=async()=>{try{h(!0);const $=await q("/api/portal/llm-configs");l($||[]),m(null)}catch($){console.error("Failed to load configs:",$),m("Failed to load AI model configurations"),l([])}finally{h(!1)}},N=async()=>{try{const $=await q("/api/portal/app-llm-preferences");i($||{})}catch($){console.error("Failed to load app preferences:",$),i({})}},k=async()=>{try{const $=await q("/api/portal/llm-usage/summary?period=30d");c($)}catch($){console.error("Failed to load usage summary:",$),c(null)}},S=async $=>{try{await q(`/api/portal/llm-configs/${$}`,{method:"DELETE"}),await v(),f(null)}catch(Q){console.error("Failed to delete config:",Q),alert("Failed to delete configuration: "+(Q.message||"Unknown error"))}},j=async($,Q)=>{try{await q(`/api/portal/app-llm-preferences/${$}`,{method:"PUT",body:JSON.stringify({llm_config_id:Q})}),await N()}catch(D){console.error("Failed to set app preference:",D),alert("Failed to set app preference")}},E=async($,Q)=>{try{await q(`/api/portal/llm-configs/${$}/set-default`,{method:"PUT",body:JSON.stringify({is_default:!Q})}),await v()}catch(D){console.error("Failed to set default:",D),alert("Failed to set default configuration: "+(D.message||"Unknown error"))}},O=async $=>{try{await v(),y(!1),w(null)}catch(Q){console.error("Error refreshing configs:",Q)}};return s.jsxs("div",{className:`container mt-4 ${e?"text-light":""}`,children:[s.jsx("nav",{className:`navbar navbar-expand-lg mb-4 frosted-card ${e?"navbar-dark bg-dark border-secondary":"navbar-light"}`,children:s.jsxs("div",{className:"container-fluid",children:[s.jsxs("span",{className:"navbar-brand fw-bold",style:{fontSize:"1.5rem",color:e?"#e0e7ff":"#1e293b"},children:[s.jsx("i",{className:"bi bi-code-square me-2"}),"DevSmith Platform"]}),s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsx("button",{onClick:t,className:`btn btn-sm ${e?"btn-outline-light":"btn-outline-dark"}`,title:e?"Switch to Light Mode":"Switch to Dark Mode",children:s.jsx("i",{className:`bi bi-${e?"sun":"moon"}-fill`})}),s.jsxs(ct,{to:"/portal",className:`btn btn-sm ${e?"btn-outline-light":"btn-outline-secondary"}`,children:[s.jsx("i",{className:"bi bi-arrow-left me-1"}),"Back to Dashboard"]})]})]})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 mb-4",children:s.jsx("div",{className:`card shadow-sm ${e?"bg-dark text-light border-secondary":""}`,children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h2",{className:`card-title mb-3 ${e?"text-light":""}`,children:[s.jsx("i",{className:"bi bi-robot me-2",style:{fontSize:"1.5rem",verticalAlign:"middle"}}),"AI Factory"]}),s.jsx("p",{className:`card-text mb-0 ${e?"text-light":"text-muted"}`,children:"Manage your AI model configurations, API keys, and app-specific preferences."})]})})})}),p&&s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 mb-4",children:s.jsxs("div",{className:"alert alert-danger",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),p]})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 mb-4",children:s.jsxs("div",{className:`frosted-card p-4 ${e?"bg-dark text-light border-secondary":""}`,children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("h4",{className:`mb-0 ${e?"text-light":""}`,children:"Your AI Models"}),s.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>y(!0),children:[s.jsx("i",{className:"bi bi-plus-circle me-1"}),"Add Model"]})]}),u?s.jsx("div",{className:"text-center py-4",children:s.jsx("div",{className:"spinner-border",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):r.length===0?s.jsxs("div",{className:`alert ${e?"alert-secondary":"alert-info"} mb-0`,children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),'No AI models configured yet. Click "Add Model" to get started.']}):s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:`table table-hover ${e?"table-dark":""}`,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Provider"}),s.jsx("th",{children:"Model"}),s.jsx("th",{children:"API Key"}),s.jsx("th",{children:"Default"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:r.map($=>s.jsxs("tr",{children:[s.jsx("td",{children:$.name}),s.jsx("td",{children:s.jsx("span",{className:"badge bg-secondary",children:$.provider})}),s.jsx("td",{children:$.model}),s.jsx("td",{children:$.has_api_key?s.jsxs("span",{className:"badge bg-success",children:[s.jsx("i",{className:"bi bi-lock-fill me-1"}),"Set"]}):s.jsx("span",{className:"badge bg-secondary",children:"None"})}),s.jsx("td",{children:s.jsx("div",{className:"form-check form-switch",children:s.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:`default-toggle-${$.id}`,checked:$.is_default,onChange:()=>E($.id,$.is_default),style:{cursor:"pointer",width:"3em",height:"1.5em"}})})}),s.jsx("td",{children:s.jsxs("div",{className:"btn-group btn-group-sm",children:[s.jsx("button",{className:"btn btn-outline-primary",title:"Edit",onClick:()=>{w($),y(!0)},children:s.jsx("i",{className:"bi bi-pencil"})}),s.jsx("button",{className:"btn btn-outline-danger",title:"Delete",onClick:()=>f($.id),children:s.jsx("i",{className:"bi bi-trash"})})]})})]},$.id))})]})})]})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 mb-4",children:s.jsxs("div",{className:`frosted-card p-4 ${e?"bg-dark text-light border-secondary":""}`,children:[s.jsx("h4",{className:`mb-3 ${e?"text-light":""}`,children:"App-Specific Preferences"}),s.jsx("p",{className:`mb-3 ${e?"text-light":"text-muted"}`,children:"Choose which AI model each app should use by default."}),["review","logs","analytics"].map($=>{var Q;return s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-md-3",children:s.jsxs("label",{className:`form-label text-capitalize ${e?"text-light":""}`,children:[$," App:"]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("select",{className:`form-select ${e?"bg-dark text-light border-secondary":""}`,name:`${$}-preference`,value:((Q=a[$])==null?void 0:Q.config_id)||"",onChange:D=>j($,D.target.value),children:[s.jsx("option",{value:"",children:"Use Default"}),r.map(D=>s.jsxs("option",{value:D.id,children:[D.name," (",D.provider_type,")"]},D.id))]})})]},$)})]})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 mb-4",children:s.jsxs("div",{className:`frosted-card p-4 ${e?"bg-dark text-light border-secondary":""}`,children:[s.jsx("h4",{className:`mb-3 ${e?"text-light":""}`,children:"Usage Summary (Last 30 Days)"}),o?s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-4",children:s.jsxs("div",{className:`text-center p-3 rounded ${e?"bg-secondary text-light":"bg-light"}`,children:[s.jsx("h5",{className:e?"text-light":"text-muted",children:"Total Tokens"}),s.jsx("h3",{className:e?"text-light":"",children:((T=o.total_tokens)==null?void 0:T.toLocaleString())||0})]})}),s.jsx("div",{className:"col-md-4",children:s.jsxs("div",{className:`text-center p-3 rounded ${e?"bg-secondary text-light":"bg-light"}`,children:[s.jsx("h5",{className:e?"text-light":"text-muted",children:"Requests"}),s.jsx("h3",{className:e?"text-light":"",children:((H=o.total_requests)==null?void 0:H.toLocaleString())||0})]})}),s.jsx("div",{className:"col-md-4",children:s.jsxs("div",{className:`text-center p-3 rounded ${e?"bg-secondary text-light":"bg-light"}`,children:[s.jsx("h5",{className:e?"text-light":"text-muted",children:"Estimated Cost"}),s.jsxs("h3",{className:e?"text-light":"",children:["$",((ne=o.estimated_cost)==null?void 0:ne.toFixed(2))||"0.00"]})]})})]}):s.jsxs("div",{className:`alert ${e?"alert-secondary":"alert-info"} mb-0`,children:[s.jsx("i",{className:"bi bi-info-circle me-2"}),"No usage data yet. Start using AI features to see statistics here."]})]})})}),g&&s.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog",children:s.jsxs("div",{className:`modal-content ${e?"bg-dark text-light":""}`,children:[s.jsxs("div",{className:`modal-header ${e?"border-secondary":""}`,children:[s.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),s.jsx("button",{type:"button",className:`btn-close ${e?"btn-close-white":""}`,onClick:()=>f(null)})]}),s.jsxs("div",{className:`modal-body ${e?"bg-dark text-light":""}`,children:[s.jsx("p",{children:"Are you sure you want to delete this AI model configuration?"}),s.jsxs("p",{className:"text-danger mb-0",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"This action cannot be undone."]})]}),s.jsxs("div",{className:`modal-footer ${e?"border-secondary":""}`,children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>f(null),children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>S(g),children:"Delete"})]})]})})}),s.jsx(n0,{isOpen:b,onClose:()=>{y(!1),w(null)},onSave:O,editingConfig:x})]})}const Hl={getAll:()=>q("/api/logs/projects"),create:e=>q("/api/logs/projects",{method:"POST",body:JSON.stringify(e)}),regenerateKey:e=>q(`/api/logs/projects/${e}/regenerate-key`,{method:"POST"}),deactivate:e=>q(`/api/logs/projects/${e}`,{method:"DELETE"})};function l0(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),[l,a]=d.useState(null),[i,o]=d.useState(!1),[c,u]=d.useState(null),[h,p]=d.useState(null),[m,b]=d.useState({name:"",slug:"",description:"",repository_url:""}),[y,x]=d.useState({});d.useEffect(()=>{w()},[]);const w=async()=>{try{r(!0);const j=await Hl.getAll();t(j||[]),a(null)}catch(j){console.error("Failed to fetch projects:",j),a(j.message||"Failed to load projects")}finally{r(!1)}},g=()=>{const j={};return m.name.trim()||(j.name="Project name is required"),m.slug.trim()?/^[a-z0-9-]+$/.test(m.slug)||(j.slug="Slug must contain only lowercase letters, numbers, and hyphens"):j.slug="Project slug is required",m.repository_url&&!/^https?:\/\/.+/.test(m.repository_url)&&(j.repository_url="Repository URL must start with http:// or https://"),x(j),Object.keys(j).length===0},f=async j=>{if(j.preventDefault(),!!g())try{const E=await Hl.create(m);u(E.api_key),await w(),b({name:"",slug:"",description:"",repository_url:""}),x({})}catch(E){console.error("Failed to create project:",E),a(E.message||"Failed to create project")}},v=async(j,E)=>{if(confirm(`Are you sure you want to regenerate the API key for "${E}"? The old key will stop working immediately.`))try{const O=await Hl.regenerateKey(j);p({projectName:E,apiKey:O.api_key}),await w()}catch(O){console.error("Failed to regenerate key:",O),a(O.message||"Failed to regenerate API key")}},N=async(j,E)=>{if(confirm(`Are you sure you want to deactivate "${E}"? This will stop accepting logs for this project.`))try{await Hl.deactivate(j),await w()}catch(O){console.error("Failed to deactivate project:",O),a(O.message||"Failed to deactivate project")}},k=()=>{u(null),p(null)},S=j=>{navigator.clipboard.writeText(j),alert("API key copied to clipboard!")};return s.jsxs("div",{className:"container-fluid py-4",children:[s.jsxs("div",{className:"row mb-4",children:[s.jsxs("div",{className:"col",children:[s.jsx("h1",{className:"h2 mb-1",children:"Cross-Repository Logging Projects"}),s.jsx("p",{className:"text-muted",children:"Manage API keys for external applications to send logs to DevSmith"})]}),s.jsx("div",{className:"col-auto",children:s.jsxs("button",{className:"btn btn-primary",onClick:()=>o(!0),children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Create Project"]})})]}),l&&s.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),l,s.jsx("button",{type:"button",className:"btn-close",onClick:()=>a(null)})]}),n?s.jsx("div",{className:"text-center py-5",children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):e.length===0?s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center py-5",children:[s.jsx("i",{className:"bi bi-inbox display-1 text-muted"}),s.jsx("h3",{className:"mt-3",children:"No Projects Yet"}),s.jsx("p",{className:"text-muted mb-4",children:"Create your first project to start sending logs from external applications"}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>o(!0),children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Create Your First Project"]})]})}):s.jsx("div",{className:"row g-4",children:e.map(j=>s.jsx("div",{className:"col-12 col-md-6 col-xl-4",children:s.jsx("div",{className:"card h-100",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"card-title mb-1",children:j.name}),s.jsx("code",{className:"text-muted small",children:j.slug})]}),s.jsx("span",{className:`badge ${j.is_active?"bg-success":"bg-secondary"}`,children:j.is_active?"Active":"Inactive"})]}),j.description&&s.jsx("p",{className:"card-text text-muted small mb-3",children:j.description}),j.repository_url&&s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:j.repository_url,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none small",children:[s.jsx("i",{className:"bi bi-github me-1"}),"Repository"]})}),s.jsx("div",{className:"mb-3",children:s.jsxs("small",{className:"text-muted",children:["Created ",new Date(j.created_at).toLocaleDateString()]})}),s.jsxs("div",{className:"d-flex gap-2",children:[s.jsxs("button",{className:"btn btn-sm btn-outline-primary flex-grow-1",onClick:()=>window.location.href=`/logs?project_id=${j.id}`,children:[s.jsx("i",{className:"bi bi-list-ul me-1"}),"View Logs"]}),s.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>v(j.id,j.name),title:"Regenerate API Key",children:s.jsx("i",{className:"bi bi-arrow-clockwise"})}),j.is_active&&s.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>N(j.id,j.name),title:"Deactivate Project",children:s.jsx("i",{className:"bi bi-x-circle"})})]})]})})},j.id))}),i&&s.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:"Create New Project"}),s.jsx("button",{type:"button",className:"btn-close",onClick:()=>{o(!1),x({})}})]}),s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"name",className:"form-label",children:["Project Name ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{type:"text",className:`form-control ${y.name?"is-invalid":""}`,id:"name",value:m.name,onChange:j=>b({...m,name:j.target.value}),placeholder:"My Application"}),y.name&&s.jsx("div",{className:"invalid-feedback",children:y.name})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"slug",className:"form-label",children:["Project Slug ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{type:"text",className:`form-control ${y.slug?"is-invalid":""}`,id:"slug",value:m.slug,onChange:j=>b({...m,slug:j.target.value}),placeholder:"my-application"}),s.jsx("small",{className:"form-text text-muted",children:"Used in API requests. Lowercase letters, numbers, and hyphens only."}),y.slug&&s.jsx("div",{className:"invalid-feedback",children:y.slug})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),s.jsx("textarea",{className:"form-control",id:"description",rows:"2",value:m.description,onChange:j=>b({...m,description:j.target.value}),placeholder:"Brief description of this project..."})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"repository_url",className:"form-label",children:"Repository URL"}),s.jsx("input",{type:"text",className:`form-control ${y.repository_url?"is-invalid":""}`,id:"repository_url",value:m.repository_url,onChange:j=>b({...m,repository_url:j.target.value}),placeholder:"https://github.com/username/repo"}),y.repository_url&&s.jsx("div",{className:"invalid-feedback",children:y.repository_url})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{o(!1),x({})},children:"Cancel"}),s.jsxs("button",{type:"submit",className:"btn btn-primary",children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"Create Project"]})]})]})]})})}),(c||h)&&s.jsx("div",{className:"modal show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content",children:[s.jsx("div",{className:"modal-header bg-success text-white",children:s.jsxs("h5",{className:"modal-title",children:[s.jsx("i",{className:"bi bi-check-circle me-2"}),c?"Project Created!":"API Key Regenerated"]})}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"alert alert-warning",role:"alert",children:[s.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),s.jsx("strong",{children:"Important:"})," Copy this API key now. You won't be able to see it again!"]}),h&&s.jsxs("p",{className:"mb-3",children:["New API key for ",s.jsx("strong",{children:h.projectName}),":"]}),s.jsxs("div",{className:"input-group mb-3",children:[s.jsx("input",{type:"text",className:"form-control font-monospace",value:c||(h==null?void 0:h.apiKey),readOnly:!0}),s.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>S(c||(h==null?void 0:h.apiKey)),children:s.jsx("i",{className:"bi bi-clipboard"})})]}),s.jsx("h6",{children:"Usage Example:"}),s.jsx("pre",{className:"bg-light p-3 rounded",children:s.jsx("code",{children:`curl -X POST http://your-devsmith-url/api/logs/batch \\
  -H "Authorization: Bearer ${c||(h==null?void 0:h.apiKey)}" \\
  -H "Content-Type: application/json" \\
  -d '{
    "project_slug": "${m.slug||"your-project-slug"}",
    "logs": [{
      "timestamp": "2025-11-11T16:40:00Z",
      "level": "info",
      "message": "Application started",
      "service_name": "api-server",
      "context": {"version": "1.0.0"}
    }]
  }'`})})]}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{type:"button",className:"btn btn-primary",onClick:k,children:"I've Copied the Key"})})]})})})]})}function s0(){const[e,t]=d.useState("javascript"),[n,r]=d.useState(null),l=(o,c)=>{navigator.clipboard.writeText(o).then(()=>{r(c),setTimeout(()=>r(null),2e3)})},a={javascript:{label:"JavaScript / Node.js",icon:"bi-filetype-js",samples:[{title:"Basic Setup",description:"Minimal integration for Node.js applications",code:`// logs-client.js
const LOGS_API_URL = process.env.LOGS_API_URL || 'http://localhost:8082';
const LOGS_API_KEY = process.env.LOGS_API_KEY; // Get from Projects page

const logBatch = [];
const MAX_BATCH_SIZE = 1000;
const FLUSH_INTERVAL = 5000; // 5 seconds

async function sendBatch(entries) {
  if (entries.length === 0) return;
  
  try {
    const response = await fetch(\`\${LOGS_API_URL}/api/logs/batch\`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': \`Bearer \${LOGS_API_KEY}\`
      },
      body: JSON.stringify({ entries })
    });
    
    if (!response.ok) {
      console.error('Failed to send logs:', response.status);
    }
  } catch (error) {
    console.error('Error sending logs:', error);
  }
}

function log(level, message, metadata = {}) {
  logBatch.push({
    level,
    message,
    service: process.env.SERVICE_NAME || 'my-app',
    metadata,
    timestamp: new Date().toISOString()
  });
  
  if (logBatch.length >= MAX_BATCH_SIZE) {
    sendBatch([...logBatch]);
    logBatch.length = 0;
  }
}

// Flush logs periodically
setInterval(() => {
  if (logBatch.length > 0) {
    sendBatch([...logBatch]);
    logBatch.length = 0;
  }
}, FLUSH_INTERVAL);

// Export logging functions
module.exports = {
  debug: (msg, meta) => log('DEBUG', msg, meta),
  info: (msg, meta) => log('INFO', msg, meta),
  warn: (msg, meta) => log('WARNING', msg, meta),
  error: (msg, meta) => log('ERROR', msg, meta)
};`,language:"javascript"},{title:"Express.js Middleware",description:"Automatic request logging for Express applications",code:`// middleware/logging.js
const logger = require('./logs-client');

function loggingMiddleware(req, res, next) {
  const start = Date.now();
  
  // Log request
  logger.info('HTTP Request', {
    method: req.method,
    path: req.path,
    query: req.query,
    ip: req.ip
  });
  
  // Capture response
  res.on('finish', () => {
    const duration = Date.now() - start;
    const level = res.statusCode >= 500 ? 'ERROR' : 
                  res.statusCode >= 400 ? 'WARNING' : 'INFO';
    
    logger[level.toLowerCase()]('HTTP Response', {
      method: req.method,
      path: req.path,
      status: res.statusCode,
      duration_ms: duration
    });
  });
  
  next();
}

module.exports = loggingMiddleware;

// Usage in app.js:
// const loggingMiddleware = require('./middleware/logging');
// app.use(loggingMiddleware);`,language:"javascript"}]},python:{label:"Python",icon:"bi-filetype-py",samples:[{title:"Basic Setup",description:"Minimal integration for Python applications",code:`# logs_client.py
import os
import json
import time
import requests
from threading import Thread, Lock
from datetime import datetime

LOGS_API_URL = os.getenv('LOGS_API_URL', 'http://localhost:8082')
LOGS_API_KEY = os.getenv('LOGS_API_KEY')  # Get from Projects page
SERVICE_NAME = os.getenv('SERVICE_NAME', 'my-app')

MAX_BATCH_SIZE = 1000
FLUSH_INTERVAL = 5  # seconds

class LogsClient:
    def __init__(self):
        self.batch = []
        self.lock = Lock()
        self.running = True
        self.thread = Thread(target=self._flush_worker, daemon=True)
        self.thread.start()
    
    def _send_batch(self, entries):
        if not entries:
            return
        
        try:
            response = requests.post(
                f'{LOGS_API_URL}/api/logs/batch',
                headers={
                    'Content-Type': 'application/json',
                    'Authorization': f'Bearer {LOGS_API_KEY}'
                },
                json={'entries': entries},
                timeout=10
            )
            response.raise_for_status()
        except Exception as e:
            print(f'Error sending logs: {e}')
    
    def _flush_worker(self):
        while self.running:
            time.sleep(FLUSH_INTERVAL)
            self.flush()
    
    def flush(self):
        with self.lock:
            if self.batch:
                self._send_batch(self.batch[:])
                self.batch.clear()
    
    def log(self, level, message, **metadata):
        entry = {
            'level': level,
            'message': message,
            'service': SERVICE_NAME,
            'metadata': metadata,
            'timestamp': datetime.utcnow().isoformat() + 'Z'
        }
        
        with self.lock:
            self.batch.append(entry)
            if len(self.batch) >= MAX_BATCH_SIZE:
                self._send_batch(self.batch[:])
                self.batch.clear()
    
    def debug(self, message, **metadata):
        self.log('DEBUG', message, **metadata)
    
    def info(self, message, **metadata):
        self.log('INFO', message, **metadata)
    
    def warn(self, message, **metadata):
        self.log('WARNING', message, **metadata)
    
    def error(self, message, **metadata):
        self.log('ERROR', message, **metadata)

# Create global logger instance
logger = LogsClient()`,language:"python"},{title:"Flask Integration",description:"Automatic request logging for Flask applications",code:`# app.py (Flask integration)
from flask import Flask, request, g
from logs_client import logger
import time

app = Flask(__name__)

@app.before_request
def log_request():
    g.start_time = time.time()
    logger.info('HTTP Request', 
        method=request.method,
        path=request.path,
        query=dict(request.args),
        ip=request.remote_addr
    )

@app.after_request
def log_response(response):
    duration = (time.time() - g.start_time) * 1000  # ms
    
    if response.status_code >= 500:
        level = 'error'
    elif response.status_code >= 400:
        level = 'warn'
    else:
        level = 'info'
    
    getattr(logger, level)('HTTP Response',
        method=request.method,
        path=request.path,
        status=response.status_code,
        duration_ms=duration
    )
    
    return response

# Your routes here
@app.route('/')
def index():
    logger.info('Index page accessed')
    return 'Hello World'

if __name__ == '__main__':
    app.run()`,language:"python"}]},go:{label:"Go",icon:"bi-filetype-go",samples:[{title:"Basic Setup",description:"Minimal integration for Go applications",code:`// logs_client.go
package logs

import (
	"bytes"
	"encoding/json"
	"fmt"
	"net/http"
	"os"
	"sync"
	"time"
)

const (
	MaxBatchSize  = 1000
	FlushInterval = 5 * time.Second
)

var (
	logsAPIURL = os.Getenv("LOGS_API_URL")
	logsAPIKey = os.Getenv("LOGS_API_KEY")
	serviceName = os.Getenv("SERVICE_NAME")
)

type LogEntry struct {
	Level     string                 \`json:"level"\`
	Message   string                 \`json:"message"\`
	Service   string                 \`json:"service"\`
	Metadata  map[string]interface{} \`json:"metadata,omitempty"\`
	Timestamp string                 \`json:"timestamp"\`
}

type LogsClient struct {
	batch      []LogEntry
	mu         sync.Mutex
	httpClient *http.Client
}

func NewLogsClient() *LogsClient {
	if logsAPIURL == "" {
		logsAPIURL = "http://localhost:8082"
	}
	if serviceName == "" {
		serviceName = "my-app"
	}
	
	client := &LogsClient{
		batch:      make([]LogEntry, 0, MaxBatchSize),
		httpClient: &http.Client{Timeout: 10 * time.Second},
	}
	
	// Start flush worker
	go client.flushWorker()
	
	return client
}

func (c *LogsClient) sendBatch(entries []LogEntry) error {
	if len(entries) == 0 {
		return nil
	}
	
	body, err := json.Marshal(map[string]interface{}{
		"entries": entries,
	})
	if err != nil {
		return fmt.Errorf("marshal error: %w", err)
	}
	
	req, err := http.NewRequest("POST", logsAPIURL+"/api/logs/batch", bytes.NewReader(body))
	if err != nil {
		return fmt.Errorf("request creation error: %w", err)
	}
	
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("Authorization", "Bearer "+logsAPIKey)
	
	resp, err := c.httpClient.Do(req)
	if err != nil {
		return fmt.Errorf("request error: %w", err)
	}
	defer resp.Body.Close()
	
	if resp.StatusCode != http.StatusOK {
		return fmt.Errorf("unexpected status: %d", resp.StatusCode)
	}
	
	return nil
}

func (c *LogsClient) flushWorker() {
	ticker := time.NewTicker(FlushInterval)
	defer ticker.Stop()
	
	for range ticker.C {
		c.Flush()
	}
}

func (c *LogsClient) Flush() {
	c.mu.Lock()
	if len(c.batch) == 0 {
		c.mu.Unlock()
		return
	}
	
	toSend := make([]LogEntry, len(c.batch))
	copy(toSend, c.batch)
	c.batch = c.batch[:0]
	c.mu.Unlock()
	
	if err := c.sendBatch(toSend); err != nil {
		fmt.Printf("Error sending logs: %v\\n", err)
	}
}

func (c *LogsClient) log(level, message string, metadata map[string]interface{}) {
	entry := LogEntry{
		Level:     level,
		Message:   message,
		Service:   serviceName,
		Metadata:  metadata,
		Timestamp: time.Now().UTC().Format(time.RFC3339),
	}
	
	c.mu.Lock()
	c.batch = append(c.batch, entry)
	shouldFlush := len(c.batch) >= MaxBatchSize
	c.mu.Unlock()
	
	if shouldFlush {
		c.Flush()
	}
}

func (c *LogsClient) Debug(message string, metadata map[string]interface{}) {
	c.log("DEBUG", message, metadata)
}

func (c *LogsClient) Info(message string, metadata map[string]interface{}) {
	c.log("INFO", message, metadata)
}

func (c *LogsClient) Warn(message string, metadata map[string]interface{}) {
	c.log("WARNING", message, metadata)
}

func (c *LogsClient) Error(message string, metadata map[string]interface{}) {
	c.log("ERROR", message, metadata)
}

// Global logger instance
var Logger = NewLogsClient()`,language:"go"},{title:"Gin Middleware",description:"Automatic request logging for Gin applications",code:`// middleware/logging.go
package middleware

import (
	"time"
	"your-project/logs"
	
	"github.com/gin-gonic/gin"
)

func LoggingMiddleware() gin.HandlerFunc {
	return func(c *gin.Context) {
		start := time.Now()
		
		// Log request
		logs.Logger.Info("HTTP Request", map[string]interface{}{
			"method": c.Request.Method,
			"path":   c.Request.URL.Path,
			"query":  c.Request.URL.RawQuery,
			"ip":     c.ClientIP(),
		})
		
		// Process request
		c.Next()
		
		// Log response
		duration := time.Since(start).Milliseconds()
		status := c.Writer.Status()
		
		var level string
		switch {
		case status >= 500:
			level = "ERROR"
		case status >= 400:
			level = "WARNING"
		default:
			level = "INFO"
		}
		
		meta := map[string]interface{}{
			"method":      c.Request.Method,
			"path":        c.Request.URL.Path,
			"status":      status,
			"duration_ms": duration,
		}
		
		switch level {
		case "ERROR":
			logs.Logger.Error("HTTP Response", meta)
		case "WARNING":
			logs.Logger.Warn("HTTP Response", meta)
		default:
			logs.Logger.Info("HTTP Response", meta)
		}
	}
}

// Usage in main.go:
// r := gin.Default()
// r.Use(middleware.LoggingMiddleware())`,language:"go"}]}},i=[{number:1,title:"Create a Project",description:"Go to the Projects page and create a new project for your application.",link:"/projects"},{number:2,title:"Copy API Key",description:"Copy the generated API key (shown only once). Store it securely as an environment variable."},{number:3,title:"Download Sample Code",description:"Select your language below and copy the sample code. Customize service name and metadata as needed."},{number:4,title:"Configure Environment",description:"Set environment variables: LOGS_API_URL, LOGS_API_KEY, SERVICE_NAME"},{number:5,title:"Deploy & Verify",description:"Deploy your application and check the Health Dashboard to see logs appearing in real-time."}];return s.jsxs("div",{className:"container-fluid py-4",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"mb-1",children:[s.jsx("i",{className:"bi bi-book me-2"}),"Integration Documentation"]}),s.jsx("p",{className:"text-muted mb-0",children:"Copy-paste examples for integrating external applications with the Logs service"})]}),s.jsxs(ct,{to:"/projects",className:"btn btn-outline-primary",children:[s.jsx("i",{className:"bi bi-folder me-2"}),"Manage Projects"]})]}),s.jsx("div",{className:"card mb-4",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h5",{className:"card-title mb-4",children:[s.jsx("i",{className:"bi bi-list-ol me-2"}),"Quick Setup Guide"]}),s.jsx("div",{className:"row",children:i.map(o=>s.jsx("div",{className:"col-md-4 mb-3",children:s.jsxs("div",{className:"d-flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",fontSize:"14px"},children:o.number})}),s.jsxs("div",{className:"flex-grow-1 ms-3",children:[s.jsx("h6",{className:"mb-1",children:o.title}),s.jsx("p",{className:"text-muted small mb-0",children:o.description}),o.link&&s.jsxs(ct,{to:o.link,className:"small",children:["Go to Projects ",s.jsx("i",{className:"bi bi-arrow-right"})]})]})]})},o.number))})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("ul",{className:"nav nav-tabs card-header-tabs",role:"tablist",children:Object.entries(a).map(([o,c])=>s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsxs("button",{className:`nav-link ${e===o?"active":""}`,onClick:()=>t(o),type:"button",role:"tab",children:[s.jsx("i",{className:`${c.icon} me-2`}),c.label]})},o))})}),s.jsx("div",{className:"card-body",children:Object.entries(a).map(([o,c])=>s.jsx("div",{className:`tab-pane ${e===o?"active":"d-none"}`,role:"tabpanel",children:c.samples.map((u,h)=>s.jsxs("div",{className:h>0?"mt-4":"",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"mb-0",children:u.title}),s.jsx("p",{className:"text-muted small mb-0",children:u.description})]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>l(u.code,`${o}-${h}`),children:[s.jsx("i",{className:`bi bi-${n===`${o}-${h}`?"check":"clipboard"} me-1`}),n===`${o}-${h}`?"Copied!":"Copy"]})]}),s.jsx("pre",{className:"bg-dark text-light p-3 rounded",style:{fontSize:"0.85rem",maxHeight:"500px",overflow:"auto"},children:s.jsx("code",{children:u.code})})]},h))},o))})]}),s.jsx("div",{className:"card mt-4",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h5",{className:"card-title mb-3",children:[s.jsx("i",{className:"bi bi-gear me-2"}),"Environment Variables"]}),s.jsxs("table",{className:"table table-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Variable"}),s.jsx("th",{children:"Description"}),s.jsx("th",{children:"Example"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("code",{children:"LOGS_API_URL"})}),s.jsx("td",{children:"URL of the Logs service API"}),s.jsx("td",{children:s.jsx("code",{children:"http://localhost:8082"})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("code",{children:"LOGS_API_KEY"})}),s.jsx("td",{children:"API key from Projects page (Bearer token)"}),s.jsx("td",{children:s.jsx("code",{children:"proj_abc123..."})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("code",{children:"SERVICE_NAME"})}),s.jsx("td",{children:"Name of your service (appears in logs)"}),s.jsx("td",{children:s.jsx("code",{children:"my-api"})})]})]})]})]})}),s.jsxs("div",{className:"alert alert-info mt-4",children:[s.jsxs("h6",{className:"alert-heading",children:[s.jsx("i",{className:"bi bi-lightning-charge me-2"}),"Performance Tips"]}),s.jsxs("ul",{className:"mb-0",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Batch size:"})," Use batches of 100-1000 logs for optimal performance (14,000-33,000 logs/second)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Flush interval:"})," 5 seconds is recommended for balancing real-time visibility and throughput"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Rate limits:"})," 1000 requests per minute per API key (contact admin if you need higher limits)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Metadata:"})," Keep metadata concise to reduce payload size and improve query performance"]})]})]})]})}function a0(){const e=new Uint8Array(32);return window.crypto.getRandomValues(e),Ls(e)}async function i0(e){const n=new TextEncoder().encode(e),r=await window.crypto.subtle.digest("SHA-256",n);return Ls(new Uint8Array(r))}function Ls(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function o0(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r}async function c0(){return new Promise((e,t)=>{const n=indexedDB.open("devsmith-oauth",1);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=r=>{const l=r.target.result;l.objectStoreNames.contains("keys")||l.createObjectStore("keys")}})}async function Mm(){const e=await c0(),r=e.transaction("keys","readonly").objectStore("keys").get("encryption-key"),l=await new Promise(c=>{r.onsuccess=()=>c(r.result),r.onerror=()=>c(null)});if(l)return e.close(),l;const a=await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),i=e.transaction("keys","readwrite");return i.objectStore("keys").put(a,"encryption-key"),await new Promise((c,u)=>{i.oncomplete=()=>c(),i.onerror=()=>u(i.error)}),e.close(),a}async function u0(e){const t=new TextEncoder,n={verifier:e,timestamp:Date.now(),nonce:Ls(window.crypto.getRandomValues(new Uint8Array(16)))},r=t.encode(JSON.stringify(n)),l=await Mm(),a=window.crypto.getRandomValues(new Uint8Array(12)),i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},l,r),o=new Uint8Array(a.length+i.byteLength);return o.set(a,0),o.set(new Uint8Array(i),a.length),Ls(o)}async function d0(e){try{const t=o0(e),n=t.slice(0,12),r=t.slice(12),l=await Mm(),a=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:n},l,r),i=new TextDecoder,o=JSON.parse(i.decode(a));if(Date.now()-o.timestamp>6e5)throw new Error("State expired (>10 minutes old)");return o.verifier}catch(t){throw t.message==="State expired (>10 minutes old)"?t:new Error("Invalid or tampered state parameter")}}function f0(){const[e,t]=d.useState(""),[n,r]=d.useState(""),[l,a]=d.useState(null),{login:i,isAuthenticated:o,error:c}=On(),u=yr();d.useEffect(()=>{o&&u("/")},[o,u]);const h=async m=>{m.preventDefault(),await i(e,n)},p=async()=>{try{const m=a0(),b=await i0(m),y=await u0(m);console.log("[PKCE] Generated encrypted state (verifier embedded)");const x="Ov23liaV4He3p1k7VziT",g=`https://github.com/login/oauth/authorize?${new URLSearchParams({client_id:x,redirect_uri:window.location.origin+"/oauth/pkce-callback",scope:"user:email read:user",state:y,code_challenge:b,code_challenge_method:"S256"})}`;console.log("[PKCE] Redirecting to GitHub with encrypted state and code_challenge"),window.location.href=g}catch(m){console.error("[PKCE] Failed to generate PKCE parameters:",m),a("Failed to initiate login. Please try again.")}};return s.jsx("div",{className:"container",children:s.jsx("div",{className:"row justify-content-center align-items-center",style:{minHeight:"100vh"},children:s.jsx("div",{className:"col-md-6 col-lg-4",children:s.jsx("div",{className:"card shadow",children:s.jsxs("div",{className:"card-body p-5",children:[s.jsxs("h2",{className:"text-center mb-4",children:[s.jsx("i",{className:"bi bi-code-square text-primary",style:{fontSize:"2.5rem"}}),s.jsx("div",{className:"mt-2",children:"DevSmith Platform"})]}),(c||l)&&s.jsx("div",{className:"alert alert-danger",role:"alert",children:c||l}),s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),s.jsx("input",{type:"email",className:"form-control",id:"email",value:e,onChange:m=>t(m.target.value),required:!0})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),s.jsx("input",{type:"password",className:"form-control",id:"password",value:n,onChange:m=>r(m.target.value),required:!0})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-100 mb-3",children:"Login"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-2",children:"or"}),s.jsxs("button",{type:"button",className:"btn btn-dark w-100",onClick:p,children:[s.jsx("i",{className:"bi bi-github me-2"}),"Login with GitHub"]})]})]})})})})})}function m0(){const[e]=uv(),t=yr(),[n,r]=d.useState(null);return console.log("[OAuthCallback] Component mounted"),console.log("[OAuthCallback] Search params:",e.toString()),d.useEffect(()=>{console.log("[OAuthCallback] useEffect triggered");const l=e.get("code"),a=e.get("state"),i=e.get("error");if(console.log("[OAuthCallback] Code from URL:",l),console.log("[OAuthCallback] Encrypted state from URL:",a),console.log("[OAuthCallback] Error from URL:",i),i){console.log("[OAuthCallback] Error detected, showing error and redirecting"),r("GitHub authentication failed. Please try again."),setTimeout(()=>t("/login"),3e3);return}if(!l){console.log("[OAuthCallback] No authorization code detected, showing error and redirecting"),r("No authorization code received."),setTimeout(()=>t("/login"),3e3);return}if(!a){console.error("[PKCE] Missing encrypted state parameter"),r("Security validation failed. Please try again."),setTimeout(()=>t("/login"),3e3);return}(async()=>{try{console.log("[PKCE] Decrypting verifier from state...");const c=await d0(a);console.log("[PKCE] Verifier decrypted successfully"),console.log("[PKCE] Exchanging code for token...");const u=await fetch("/api/portal/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:l,state:a,code_verifier:c})});if(!u.ok){const p=await u.json().catch(()=>({error:"Unknown error"}));throw console.error("[PKCE] Token exchange failed:",p),new Error(p.error||"Token exchange failed")}const h=await u.json();console.log("[PKCE] Token exchange successful"),localStorage.setItem("devsmith_token",h.token),console.log("[PKCE] Token stored in localStorage"),console.log("[PKCE] Redirecting to dashboard"),window.location.href="/"}catch(c){console.error("[PKCE] Token exchange error:",c);let u="Failed to complete authentication";c.message.includes("expired")?u="Login session expired (>10 minutes). Please try again.":c.message.includes("Invalid or tampered")?u="Security validation failed. Please try again.":u=`${u}: ${c.message}`,r(u),setTimeout(()=>t("/login"),3e3)}})()},[e,t]),s.jsx("div",{className:"container",children:s.jsx("div",{className:"row justify-content-center align-items-center",style:{minHeight:"100vh"},children:s.jsx("div",{className:"col-md-6 col-lg-4 text-center",children:n?s.jsxs("div",{children:[s.jsx("i",{className:"bi bi-exclamation-triangle text-danger",style:{fontSize:"3rem"}}),s.jsx("h3",{className:"mt-3",children:"Authentication Error"}),s.jsx("p",{className:"text-muted",children:n}),s.jsx("p",{className:"text-muted",children:"Redirecting to login..."})]}):s.jsxs("div",{children:[s.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}),s.jsx("h3",{className:"mt-3",children:"Authenticating with GitHub..."}),s.jsx("p",{className:"text-muted",children:"Please wait while we complete your login."})]})})})})}function $t({children:e}){const{isAuthenticated:t,loading:n}=On();return n?s.jsx("div",{className:"container mt-5 text-center",children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):t?e:s.jsx(tm,{to:"/login",replace:!0})}function p0(){return d.useEffect(()=>{Oy()},[]),s.jsx(av,{children:s.jsx(dv,{children:s.jsxs(Jg,{children:[s.jsx(Ye,{path:"/login",element:s.jsx(f0,{})}),s.jsx(Ye,{path:"/oauth/pkce-callback",element:s.jsx(m0,{})}),s.jsx(Ye,{path:"/",element:s.jsx($t,{children:s.jsx(cu,{})})}),s.jsx(Ye,{path:"/portal",element:s.jsx($t,{children:s.jsx(cu,{})})}),s.jsx(Ye,{path:"/health",element:s.jsx($t,{children:s.jsx(My,{})})}),s.jsx(Ye,{path:"/review",element:s.jsx($t,{children:s.jsx(Zx,{})})}),s.jsx(Ye,{path:"/analytics",element:s.jsx($t,{children:s.jsx(e0,{})})}),s.jsx(Ye,{path:"/llm-config",element:s.jsx($t,{children:s.jsx(r0,{})})}),s.jsx(Ye,{path:"/projects",element:s.jsx($t,{children:s.jsx(l0,{})})}),s.jsx(Ye,{path:"/integration-docs",element:s.jsx($t,{children:s.jsx(s0,{})})}),s.jsx(Ye,{path:"*",element:s.jsx(tm,{to:"/",replace:!0})})]})})})}Vf(document.getElementById("root")).render(s.jsx(d.StrictMode,{children:s.jsx(fv,{children:s.jsx(p0,{})})}));
